{
    "docs": [
        {
            "location": "/", 
            "text": "1. Twd1.7\u65b0\u7279\u6027\n\n\n\n\nWarning\n\n\n\u8fd9\u4e2a\u7248\u672c\u4ecd\u5728\u8349\u7a3f\u9636\u6bb5(\u4e00\u4e9b\u94fe\u63a5\u548c\u622a\u56fe\u9700\u8981\u66f4\u65b0).\u5982\u679c\u53d1\u73b0bug,\u95ee\u9898\u6216\u8005\u5176\u4ed6\u8bf7\u6c42\u8bf7\u901a\u8fc7github\u6765\u63d0\u4ea4:  https://github.com/leifos/tango_with_django_book/tree/master/17\n\n\n\n\n\u5728\u8fd9\u4e2a\u7248\u672c\u4e2d,\u6211\u4eec\u52a0\u5165\u4e86\u4ee5\u4e0b\u7279\u6027:\n\n\n\n\n\u4ee3\u7801\u66f4\u65b0\u9002\u914dDjango1.7\u7248\u672c\n\n\n\u6570\u636e\u5e93\u4ea4\u4e92\u4ece\nsyncdb\n\u66f4\u65b0\u4e3a\nmigratesql\n\u548c\nmigrate\n\n\nRender\u54cd\u5e94\u4ece\nrender_to_response\n\u66f4\u65b0\u4e3a\nrender\n,\u6240\u4ee5\u73b0\u5728\u4e0d\u7528\u4e3a\u6bcf\u4e2aview\u8bf7\u6c42\u5185\u5bb9.\n\n\nurl\n\u6a21\u677f\u6807\u7b7e\u73b0\u5728\u7528\u6a21\u677f\u4ee3\u66ff,\u5b83\u63d0\u4f9b\u4e86\u76f8\u5bf9\u5f15\u7528\u800c\u4e0d\u662f\u7edd\u5bf9\u5f15\u7528.\n\n\n\u5728\u6a21\u677f\u4e2d\u8f7d\u5165\u9759\u6001\u6587\u4ef6\u73b0\u5728\u53ef\u4ee5\u7528{% load staticfiles %}\n\n\n\u7528\nslugify\n\u6765\u521b\u5efa\u7ec4\u7ec7\u597d\u7684URL\u5b57\u7b26\u4e32\n\n\n\n\n\n\n\u589e\u52a0\u9a8c\u8bc1\u4e00\u7ae0\n\n\n\u7528Django-Registration-Redux\u6765\u5904\u7406\u767b\u9646\u548c\u6ce8\u518c(\u53c2\u89c1\n\u7b2c12\u7ae0\n)\n\n\n\n\n\n\nBootstrap\u7ae0\u8282\u66f4\u65b0\u4e3aBootstrap 3.2.0(\u53c2\u89c1\n\u7b2c13\u7ae0\n)\n\n\n\u540c\u65f6\u8bb2\u89e3\u4e00\u4e9b\u5982\u4f55\u4f7f\u7528Django-Bootstrap-Toolkit\u7684\u6280\u5de7\n\n\n\n\n\n\n\u589e\u52a0\u4f7f\u7528\u6a21\u677f\u6807\u7b7e\u4e00\u7ae0(\u53c2\u89c1\n\u7b2c14\u7ae0\n)\n\n\n\u589e\u52a0\u5728Django\u91cc\u4f7f\u7528JQuery\u4e00\u7ae0(\u53c2\u89c1\n\u7b2c18\u7ae0\n)\n\n\n\u5173\u4e8e\u6d4b\u8bd5\u7684\u4e00\u7ae0\u6269\u5c55\u4e86\u4e00\u4e9b\u5185\u5bb9-\u4f46\u662f\u4ecd\u5728\u4fee\u6539\u4e2d(\u53c2\u89c1\n\u7b2c20\u7ae0\n)\n\n\n\u5305\u62ec\u5982\u4f55\u7528\ncoverage\n\u5305\u53bb\u68c0\u6d4b\u6d4b\u8bd5\u8986\u76d6(\u53c2\u89c1 http://nedbatchelder.com/code/coverage/ )\n\n\n\n\n\n\n\n\n2. \u603b\u89c8\n\n\n\u8fd9\u672c\u4e66\u7684\u65e8\u5728\u901a\u8fc7\u4e00\u4e9b\u5b9e\u4f8b\u6559\u7ed9\u4f60\u5982\u4f55\u7528Django1.7\u6765\u5f00\u53d1\u7f51\u7ad9.\u8fd9\u672c\u4e66\u4e3b\u8981\u63d0\u4f9b\u7ed9Django\u7684\u521d\u5b66\u8005,\u5305\u62ec\u4ece\u5199\u51fa\u5e76\u8fd0\u884c\u7b2c\u4e00\u4e2a\u7f51\u9875\u5e94\u7528\u76f4\u5230\u5b8c\u6210\u7f51\u9875\u90e8\u7f72\u7684\u6bcf\u4e00\u6b65.\n\n\n\u8fd9\u672c\u4e66\u5c06\u4f5c\u4e3a\n\u5b98\u65b9\u6559\u7a0b\n\u548c\u5176\u4ed6\u51fa\u8272\u6559\u7a0b\u7684\u8865\u5145.\u901a\u8fc7\u628a\u8bb8\u591a\u4e1c\u897f\u96c6\u5408\u5230\u4e00\u8d77,\u8fd9\u672c\u4e66\u586b\u8865\u4e86\u5b98\u65b9\u6587\u6863\u7684\u8bb8\u591a\u7a7a\u767d,\u800c\u4e14\u8fd9\u672c\u4e66\u8fd8\u63d0\u4f9b\u4e86\u8bb8\u591a\u5173\u4e8eweb\u5e94\u7528\u5f00\u53d1\u65b9\u9762\u7684\u5176\u4ed6\u5185\u5bb9.\n\n\n2.1 \u672c\u4e66\u7279\u70b9\n\n\n\u8fd9\u672c\u4e66\u5c06\u8282\u7ea6\u4f60\u5927\u91cf\u7684\u65f6\u95f4.\n\u8bb8\u591a\u65f6\u5019\u6211\u770b\u5230\u6709\u4e9b\u806a\u660e\u7684\u5b66\u751f\u5728\u5b66\u4e60Django\u548c\u5176\u4ed6web\u5f00\u53d1\u65b9\u9762\u9047\u5230\u56f0\u96be,\u5e76\u4e14\u82b1\u8d39\u4e86\u5f88\u591a\u65f6\u95f4.\u8fd9\u5f80\u5f80\u662f\u56e0\u4e3a\u6ca1\u6709\u6293\u4f4f\u5173\u952e\u70b9\u6216\u662f\u4e00\u4e9b\u4e1c\u897f\u6ca1\u6709\u8bb2\u6e05\u695a.\u7136\u800c\u8fd9\u4e9b\u7410\u788e\u7684\u95ee\u9898\u5c06\u4f1a\u963b\u788d\u4f6010-15\u5206\u949f,\u751a\u81f3\u6709\u4e9b\u65f6\u5019\u4f60\u9700\u8981\u82b1\u8d39\u51e0\u4e2a\u5c0f\u65f6\u6765\u89e3\u51b3.\u6211\u4eec\u5728\u4e66\u91cc\u5c3d\u53ef\u80fd\u7684\u6e05\u9664\u4e86\u969c\u788d.\u8fd9\u610f\u5473\u7740\u4f60\u4eec\u53ef\u4ee5\u5f88\u8f7b\u677e\u7684\u5f00\u53d1\u4f60\u4eec\u7684\u5e94\u7528,\u800c\u4e0d\u7528\u5750\u5728\u90a3\u6478\u4e0d\u7740\u5934\u8111.\n\n\n\u8fd9\u672c\u4e66\u5c06\u4f1a\u964d\u4f4e\u4f60\u7684\u5b66\u4e60\u66f2\u7ebf.\nweb\u5e94\u7528\u6846\u67b6\u53ef\u4ee5\u89e3\u51b3\u4f60\u7684\u8bb8\u591a\u9ebb\u70e6\u5e76\u8282\u7701\u4e00\u5927\u5806\u65f6\u95f4.\u5f53\u7136,\u524d\u63d0\u662f\u4f60\u4e8b\u5148\u61c2\u5f97\u5982\u4f55\u53bb\u7528\u4ed6\u4eec!\u901a\u5e38\u5b66\u4e60\u66f2\u7ebf\u975e\u5e38\u9661\u5ced.\u8fd9\u672c\u4e66\u8bd5\u56fe\u8ba9\u4f60\u5feb\u901f\u5b66\u4e60.\u901a\u8fc7\u5411\u4f60\u5c55\u793a\u5728web\u5e94\u7528\u4e2d\u7684\u7ecf\u9a8c\u53ca\u6280\u5de7,\u8fd9\u672c\u4e66\u7f29\u77ed\u4e86\u5b66\u4e60\u7684\u66f2\u7ebf.\n\n\n\u8fd9\u672c\u4e66\u5c06\u4f1a\u6539\u5584\u4f60\u7684\u5de5\u4f5c\u6d41.\n\u7528web\u5e94\u7528\u6846\u67b6\u8fdb\u884c\u5f00\u53d1\u9700\u8981\u4f60\u638c\u63e1\u5e76\u8fd0\u884c\u4e00\u4e2a\u7279\u6b8a\u7684\u8bbe\u8ba1\u6a21\u5f0f - \u6240\u4ee5\u4f60\u53ea\u80fd\u5728\u7279\u5b9a\u7684\u5730\u65b9\u586b\u5165\u7279\u5b9a\u7684\u4e1c\u897f.\u5728\u548c\u8bb8\u591a\u5b66\u751f\u4e00\u8d77\u5f00\u53d1\u7684\u65f6\u5019,\u6211\u4eec\u542c\u5230\u8bb8\u591a\u5173\u4e8eweb\u5e94\u7528\u6846\u67b6\u7684\u62b1\u6028\u6700\u591a\u7684\u5c31\u662f\u5982\u4f55\u6446\u8131\u5b83\u4eec\u7684\u63a7\u5236(i.e. \u53cd\u8fc7\u6765\u63a7\u5236\u5b83\u4eec).\u4e3a\u4e86\u5e2e\u52a9\u4f60\u638c\u63e1\u4ed6\u4eec,\u6211\u4eec\u521b\u5efa\u4e86\u4e00\u7cfb\u5217\u7684\u5de5\u4f5c\u6d41\u6765ch\u5f00\u53d1\u6d41\u9610\u660e\u7a0b,\u8ba9\u4f60\u91cd\u65b0\u627e\u5230\u638c\u63e1web\u5e94\u7528\u5f00\u53d1\u7684\u611f\u89c9.\n\n\n\u8fd9\u672c\u4e66\u4e0d\u662f\u7528\u6765\u8bfb\u7684.\n\u4e0d\u7ba1\u600e\u4e48\u6837,\u4e0d\u8981\u8bfb\u8fd9\u672c\u4e66!\u8fd9\u662f\u4e00\u4e2a\u5f3a\u8c03\u52a8\u624b\u5b9e\u8df5\u53bb\u5f00\u53d1web\u5e94\u7528\u7684\u6559\u7a0b.\u8bfb\u548c\u505a\u662f\u4e0d\u4e00\u6837\u7684.\u4e3a\u4e86\u589e\u52a0\u8fd9\u4e2a\u6559\u7a0b\u7684\u4ef7\u503c,\u8bf7\u4eb2\u81ea\u52a8\u624b\u5b8c\u6210\u5e94\u7528\u7684\u5f00\u53d1.\u5f53\u4f60\u7801\u4ee3\u7801\u7684\u65f6\u5019,\u5343\u4e07\u522b\u7c98\u8d34\u548c\u590d\u5236.\u8981\u4e00\u4e2a\u4e2a\u8f93\u5165,\u60f3\u4e00\u60f3\u5b83\u662f\u4ec0\u4e48,\u6211\u4eec\u90fd\u4f1a\u5bf9\u5b83\u4e00\u4e00\u89e3\u91ca.\u5982\u679c\u4f60\u4ecd\u7136\u4e0d\u660e\u767d,\u90a3\u4e48\u5c31\u53bb\u67e5\u770bDjango\u6587\u6863,\u53bb\nStackOverflow\n\u6216\u8005\u5176\u4ed6\u6709\u5e2e\u52a9\u7684\u7f51\u7ad9,\u7528\u4f60\u81ea\u5df1\u7684\u65b9\u6cd5\u53bb\u4e86\u89e3\u5b83.\u5982\u679c\u4f60\u89c9\u5f97\u5f88\u6709\u5fc5\u8981\u7684\u8bdd,\u8bf7\u8054\u7cfb\u6211\u4eec\u6765\u6539\u5584\u8fd9\u672c\u4e66-\u6211\u4eec\u5df2\u7ecf\u6709\u8bb8\u591a\u7684\u8d21\u732e\u8005\u800c\u6211\u4eec\u4e5f\u975e\u5e38\u9ad8\u5174\u5f97\u5230\u4f60\u7684\u8d21\u732e.\n\n\n2.2 \u4f60\u5c06\u4f1a\u5b66\u5230\n\n\n\u5728\u8fd9\u672c\u4e66\u91cc,\u6211\u4eec\u5c06\u4f1a\u901a\u8fc7\u4e00\u4e2a\u57fa\u672c\u7684\u4f8b\u5b50\u6765\u9010\u6e10\u5b66\u4e60(\u6216\u8005\u8bf4\u901a\u8fc7\u63d0\u95ee\u7684\u65b9\u5f0f).\u8fd9\u672c\u4e66\u5c06\u4f1a\u5c55\u793a\u7ed9\u4f60\u5982\u4f55\u8bbe\u8ba1\u4e00\u4e2a\u53eb\u505aRango\u7684web\u5e94\u7528(\u53c2\u89c1\n2.4.1\n\u7684\u7b80\u8981\u8bbe\u8ba1).\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f,\u6211\u4eec\u5c06\u4f1a\u5c55\u793a\u7ed9\u4f60\u5982\u4f55\u5b8c\u6210\u4e0b\u9762\u7684\u4efb\u52a1.\n\n\n\n\n\u5efa\u7acb\u4e00\u4e2a\u5f00\u53d1\u73af\u5883 - \u5305\u62ec\u5982\u4f55\u4f7f\u7528\u7ec8\u7aef,\u5b89\u88c5Pip,\u5982\u4f55\u4f7f\u7528Git\u7b49\u7b49.\n\n\n\u5efa\u7acb\u4e00\u4e2aDjango\u9879\u76ee,\u521b\u7acb\u4e00\u4e2a\u57fa\u672c\u7684Django\u5e94\u7528.\n\n\n\u4e3aDjango\u9879\u76ee\u8bbe\u7acb\u9759\u6001\u6587\u4ef6\u548c\u5176\u4ed6\u6587\u4ef6\n\n\n\u4f7f\u7528Django\u7684Model-View-Template(MVT)\u8bbe\u8ba1\u6a21\u5f0f\n\n\n\u521b\u5efa\u6570\u636e\u5e93\u6a21\u578b,\u7528Django\u63d0\u4f9b\u7684\u5bf9\u8c61\u5173\u7cfb\u7ed1\u5b9a\u529f\u80fd\n\n\n\u5229\u7528\u6570\u636e\u5e93\u6a21\u578b\u751f\u6210\u7684\u6570\u636e\u6765\u521b\u5efa\u52a8\u6001\u751f\u6210\u9875\u9762\n\n\n\u4f7f\u7528Django\u63d0\u4f9b\u7684\u7528\u6237\u8ba4\u8bc1\u670d\u52a1\n\n\n\u6574\u5408\u5e94\u7528\u7684\u5916\u90e8\u670d\u52a1\n\n\n\u4e00\u4e2aweb\u5e94\u7528\u6240\u5305\u62ec\u7684CSS\u548cJavaScript\n\n\n\u8bbe\u8ba1\u548c\u5e94\u7528CSS\u6765\u589e\u52a0web\u5e94\u7528\u7684\u754c\u9762\u4ea4\u4e92\n\n\n\u4f7f\u7528Django\u7684cookies\u548csessions\n\n\n\u5728\u5e94\u7528\u4e2d\u4f7f\u7528\u50cfAJAX\u8fd9\u6837\u7684\u9ad8\u7ea7\u529f\u80fd\n\n\n\u7528PythonAnywhere\u90e8\u7f72\u4f60\u7684\u5e94\u7528\u5230web\u670d\u52a1\u5668\n\n\n\n\n\u5728\u6bcf\u7ae0\u7684\u6700\u540e,\u6211\u4eec\u8bbe\u8ba1\u4e86\u8bb8\u591a\u7ec3\u4e60\u9898\u6765\u68c0\u9a8c\u4f60\u4eec\u6240\u5b66\u7684\u77e5\u8bc6.\u5728\u540e\u9762\u7684\u7ae0\u8282\u4e2d\u63d0\u4f9b\u4e86\u4e00\u4e9b\u7ec3\u4e60\u5e76\u7ed9\u51fa\u4e86\u4ee3\u7801\u548c\u89e3\u91ca.\u6700\u540e,\u8fd9\u4e9b\u4ee3\u7801\u90fd\u5728GitHub\u4e0a:  https://github.com/leifos/tango_with_django .\n\n\n\u8981\u67e5\u770b\u7f51\u7ad9\u7684\u5b8c\u6574\u7248\u672c,\u4f60\u53ef\u4ee5\u8bbf\u95ee \nHow to Tango with Django\n \u5728  http://www.tangowithdjango.com/rango/ .\n\n\n2.3 \u6280\u672f\u548c\u670d\u52a1\n\n\n\u901a\u8fc7\u8fd9\u672c\u4e66\u7684\u8bfe\u7a0b,\u6211\u4eec\u9700\u8981\u8fd0\u7528\u8bb8\u591a\u4e0d\u540c\u7684\u6280\u5de7\u548c\u5916\u90e8\u670d\u52a1,\u5305\u62ec:\n\n\n\n\nPython, http://www.python.org\n\n\nPip, http://www.pip-installer.org\n\n\nDjango, https://www.djangoproject.com\n\n\nGit, http://git-scm.com\n\n\nGitHub, https://github.com\n\n\nHTML, http://www.w3.org/html/\n\n\nCSS, http://www.w3.org/Style/CSS/\n\n\nJavascript\n\n\nJQuery, http://jquery.com\n\n\nTwitter Bootstrap, http://getbootstrap.com/\n\n\nBing Search API via Azure Datamarket, http://datamarket.azure.com\n\n\nPythonAnywhere, https://www.pythonanywhere.com\n\n\n\n\n\u4e0a\u9762\u662f\u6211\u4eec\u5b66\u4e60web\u5f00\u53d1\u9700\u8981\u638c\u63e1\u7684\u57fa\u672c\u6280\u80fd,\u5b83\u4eec\u53ef\u4ee5\u63d0\u4f9b\u6211\u4eec\u628aweb\u5e94\u7528\u96c6\u6210\u8fdbCSS\u5de5\u5177\u6216\u8005\u8ba9\u4f60\u7684\u5e94\u7528\u90e8\u7f72\u5feb\u901f\u4fbf\u6377.\n\n\n2.4 Rango:\u521d\u59cb\u8bbe\u8ba1\u548c\u89c4\u5212\n\n\n\u6211\u4eec\u5148\u524d\u63d0\u5230\u8fc7,\u8fd9\u672c\u4e66\u7684\u8981\u70b9\u662f\u5f00\u53d1\u4e00\u4e2a\u53eb\u505aRango\u7684\u5e94\u7528.\u4e3a\u4e86\u5f00\u53d1\u8fd9\u4e2a\u5e94\u7528,\u5b83\u5c06\u4f1a\u8986\u76d6\u6211\u4eec\u5236\u4f5cweb\u5e94\u7528\u5927\u90e8\u5206\u6838\u5fc3\u5185\u5bb9.\n\n\n2.4.1 \u8bbe\u8ba1\u6982\u8981\n\n\n\u4f60\u7684\u5ba2\u6237\u7aef\u9700\u8981\u5efa\u7acb\u4e00\u4e2a\u53eb\u505aRango\u7684\u7f51\u7ad9,\u5b83\u53ef\u4ee5\u8ba9\u7528\u6237\u6d4f\u89c8\u5b83\u4eec\u81ea\u5df1\u8ba2\u5236\u7684\u7f51\u9875.\u5728\u897f\u73ed\u7259\u8bed\u79cd,rango\u66fe\u7ecf\u610f\u5473\u7740\"\u901a\u8fc7\u8d28\u91cf\u6392\u5e8f\"\u6216\u8005\"\u5728\u793e\u4f1a\u7b49\u7ea7\u4e2d\u7684\u4f4d\u7f6e\"(\u67e5\u770b  https://www.vocabulary.com/dictionary/es/rango ).\n\n\n\n\n\u5728\u7f51\u7ad9\u7684\u4e3b\u9875\u4e0a,\u8ba9\u6d4f\u89c8\u8005\u770b\u5230:\n\n\n5\u4e2a\u67e5\u770b\u6700\u591a\u7684\u9875\u9762\n\n\n5\u4e2a\u8d28\u91cf\u6700\u9ad8\u7684\u76ee\u5f55\n\n\n\u8bbf\u5ba2\u6d4f\u89c8\u6216\u8005\u67e5\u627e\u76ee\u5f55\u7684\u65b9\u6cd5\n\n\n\n\n\n\n\u5f53\u4e00\u4e2a\u7528\u6237\u67e5\u770b\u4e00\u4e2a\u76ee\u5f55\u9875,\u5c06\u4f1a\u5c55\u73b0:\n\n\n\u76ee\u5f55\u540d\u79f0,\u8bbf\u95ee\u6570\u91cf,\u559c\u6b22\u6570\u91cf;\n\n\n\u4e0e\u76ee\u5f55\u76f8\u8fd1\u7684\u9875\u9762(\u5c55\u793a\u9875\u9762\u6807\u9898\u548c\u5b83\u7684url);\n\n\n\u4e00\u4e9b\u641c\u7d22\u529f\u80fd(\u901a\u8fc7Bing\u7684\u641c\u7d22API)\u7528\u6765\u67e5\u627e\u4e00\u4e9b\u5176\u4ed6\u80fd\u94fe\u63a5\u5230\u8fd9\u4e2a\u76ee\u5f55\u7684\u9875\u9762\n\n\n\n\n\n\n\u4e00\u4e2a\u7279\u6b8a\u7684\u76ee\u5f55,\u5ba2\u6237\u7aef\u5e0c\u671b\u76ee\u5f55\u7684\u540d\u5b57,\u6bcf\u4e2a\u76ee\u5f55\u9875\u9762\u88ab\u8bbf\u95ee\u7684\u6b21\u6570\u548c\u591a\u5c11\u4e2a\u7528\u6237\u70b9\u51fb'like'\u6309\u94ae\u88ab\u8bb0\u5f55\n\n\n\u6bcf\u4e2a\u76ee\u5f55\u90fd\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u53ef\u8bfb\u7684URL\u8bbf\u95ee - \u6bd4\u5982. \n/rango/books-about-django/\n.\n\n\n\u53ea\u6709\u6ce8\u518c\u7684\u7528\u6237\u624d\u80fd\u4e3a\u76ee\u5f55\u641c\u7d22\u548c\u589e\u52a0\u9875\u9762.\u540c\u65f6,\u8bbf\u95ee\u8005\u53ef\u4ee5\u6ce8\u518c\u4e00\u4e2a\u8d26\u6237.\n\n\n\n\n\u7b2c\u4e00\u773c\u770b\u4e0a\u53bb,\u8fd9\u4e2a\u5e94\u7528\u770b\u8d77\u6765\u5f88\u5947\u602a.\u4e8b\u5b9e\u4e0a,\u5b83\u5c31\u662f\u4e00\u4e2a\u76ee\u5f55\u5217\u8868,\u4ed6\u4eec\u53ef\u4ee5\u94fe\u63a5\u5230\u9875\u9762,\u5bf9\u5417?\u7136\u800c,\u8fd9\u91cc\u8fd8\u6709\u8bb8\u591a\u590d\u6742\u7684\u4e1c\u897f\u9700\u8981\u5904\u7406.\u9996\u5148,\u8ba9\u6211\u4eec\u8bd5\u7740\u753b\u4e00\u5f20\u56fe\u6765\u5c55\u793a\u6211\u4eec\u8981\u5f00\u53d1\u4ec0\u4e48\u4e1c\u897f.\n\n\n2.5 \u7ec3\u4e60\n\n\n\u5728\u7ee7\u7eed\u63a5\u4e0b\u6765\u7684\u5185\u5bb9\u4e4b\u524d,\u8003\u8651\u4e0b\u9762\u7684\u8bf4\u660e,\u8bd5\u7740\u753b\u51fa\u8bbe\u8ba1\u56fe.\n\n\n\n\n\u4e00\u4e2aN-\u5c42\u6216\u8005\u7cfb\u7edf\u67b6\u6784\u56fe\n\n\n\u4e3b\u9875\u548c\u76ee\u5f55\u9875\u7684\u6846\u67b6\n\n\nURL\u7ed1\u5b9a\n\n\n\u6211\u4eec\u5c06\u8981\u5b9e\u73b0\u6570\u636e\u6a21\u578b\u7684\u5b9e\u4f53-\u5173\u7cfb\u56fe\n\n\n\n\n2.6 N-\u5c42\u7ed3\u6784\n\n\n\u5927\u591a\u6570web\u5e94\u7528\u7684\u7ed3\u6784\u662f3-\u5c42\u7ed3\u6784.Rango\u5219\u662f\u8fd9\u4e2a\u7ed3\u6784\u7684\u53d8\u4f53,\u5b83\u9700\u8981\u548c\u4e00\u4e2a\u5916\u90e8\u670d\u52a1\u4ea4\u4e92.\n\n\n\n\n\u5982\u679c\u6211\u4eec\u7528Django\u6765\u521b\u5efaweb\u5e94\u7528\u7684\u8bdd,\u6211\u4eec\u6bcf\u5c42\u9700\u8981\u5982\u4e0b\u6280\u672f.\n\n\n\n\nclient\u662f\u4e00\u4e2a\u6d4f\u89c8\u5668(i.e. Chrome, Firefox, Safari\u7b49\u7b49),\u5b83\u5c06\u8fd4\u56de HTML/CSS\u9875\u9762.\n\n\nmiddleware\u662f\u4e00\u4e2aDjango\u5e94\u7528,\u5b83\u4f1a\u8d2f\u7a7f\u6211\u4eec\u5f00\u53d1Django\u5185\u5efaweb\u670d\u52a1\u7684\u59cb\u7ec8.\n\n\ndatabase\u5c06\u4f1a\u662f\u57fa\u4e8ePython\u7684SQLite3\u6570\u636e\u5e93\u5f15\u64ce\n\n\nsearch API\u5c06\u4f1a\u662fBing\u7684\u641c\u7d22API\n\n\n\n\n\u5c3d\u7ba1\u6211\u4eec\u9700\u8981\u5904\u7406\u4e0a\u56fe\u4e2d\u6240\u6709\u7684\u90e8\u5206,\u4f46\u8fd9\u672c\u4e66\u5927\u90e8\u5206\u7684\u7cbe\u529b\u90fd\u96c6\u4e2d\u5728\u5f00\u53d1\u4e2d\u95f4\u4ef6(middleware).\n\n\n2.7 \u7ebf\u6846\n\n\n\u7f51\u7ad9\u7ebf\u6846\u56fe\u4e3a\u8bbe\u8ba1\u7f51\u7ad9\u754c\u9762\u63d0\u4f9b\u5f88\u5927\u7684\u5e2e\u52a9.\u5b83\u4eec\u53ef\u4ee5\u8282\u7701\u5f88\u591a\u65f6\u95f4,\u5b83\u4e0d\u540c\u4e8e\u4f9d\u8d56\u5de5\u5177\u7684\u624b\u5de5\u7ed8\u5236.\u5bf9\u4e8eRango,\u6211\u4eec\u5e0c\u671b\u5b83\u7684\u9996\u9875\u5982\u4e0b\u56fe\u6240\u793a.\n\n\n\n\n\u76ee\u5f55\u9875\u5982\u4e0b\u56fe\u6240\u793a:\n\n\n\n\n2.8 \u9875\u9762\u548cURL\u6620\u5c04\n\n\n\u901a\u8fc7\u89c4\u5219\u8bf4\u660e,\u6211\u4eec\u5df2\u7ecf\u786e\u8ba4\u5728\u4e0d\u540c\u7684\u65f6\u95f4\u6211\u4eec\u5c06\u4f1a\u7ed9\u7528\u6237\u5448\u73b0\u4e24\u4e2a\u9875\u9762.\u4e3a\u4e86\u8fdb\u5165\u4e0d\u540c\u7684\u9875\u9762\u6211\u4eec\u9700\u8981\u5bf9URL\u8fdb\u884c\u6620\u5c04.URL\u6620\u5c04\u5c31\u662f\u7528\u6237\u4e3a\u4e86\u8fdb\u5165\u7f51\u9875\u800c\u5728\u6d4f\u89c8\u5668\u8f93\u5165\u7684\u6587\u672c.Rango\u7684URL\u6620\u5c04\u5982\u4e0b.\n\n\n\n\n/rango/\n\u5c06\u4f1a\u6307\u5411\u4e3b\u9875\u89c6\u56fe.\n\n\n/rango/about/\n\u5c06\u4f1a\u6307\u5411about\u9875\u9762\u89c6\u56fe.\n\n\n/rango/category/\ncategory_name\n/\n\u5c06\u4f1a\u6307\u5411\u6bcf\u4e2a\ncategory_name\n\u7684\u76ee\u5f55\u9875\u89c6\u56fe,\u8fd9\u4e2a\u76ee\u5f55\u53ef\u80fd\u662f:\n\n\n\u6e38\u620f;\n\n\npython\u5c0f\u6280\u5de7\n\n\n\u4ee3\u7801\u6216\u8005\u7f16\u8bd1\u7a0b\u5e8f\n\n\n\n\n\n\n/rango/etc/\n,\u4e3a\u5c06\u6765\u7684\u529f\u80fd\u5b9e\u73b0\u7559\u51fa\netc\n\n\n\n\n\u5f53\u6211\u4eec\u521b\u5efa\u5e94\u7528\u65f6,\u6211\u4eec\u53ef\u80fd\u9700\u8981\u521b\u5efa\u4e00\u4e9b\u522b\u7684URL\u6620\u5c04.\u4f46\u662f\u4e0a\u9762\u90a3\u4e9b\u4f7f\u6211\u4eec\u9996\u5148\u8981\u5efa\u7acb\u7684.\u8fd8\u6709\u8981\u8003\u8651\u5230\u63d0\u4f9b\u7684\u76ee\u5f55\u540d\u5b57\u4e0d\u5b58\u5728\u65f6,\u6211\u4eec\u9700\u8981\u628a\u76ee\u5f55\u540d\u5b57\u8f6c\u6362\u4e3a\u4e00\u4e2a\u6709\u6548\u7684URL\u5b57\u7b26\u4e32.\n\n\n\u968f\u7740\u5bf9\u8fd9\u672c\u4e66\u7684\u6df1\u5165,\u6211\u4eec\u4f1a\u9010\u6e10\u638c\u63e1\u7528Django\u6846\u67b6\u6765\u521b\u5efa\u7f51\u9875\u548c\u7528Model-View-Template\u8bbe\u8ba1\u6a21\u5f0f.\u73b0\u5728\u6211\u4eec\u53ea\u662f\u5bf9URL\u6620\u5c04\u548c\u7f51\u9875\u4ea4\u4e92\u754c\u9762\u6709\u4e2a\u5927\u6982\u7684\u5370\u8c61,\u6211\u4eec\u8fd8\u9700\u8981\u5b9a\u4e49\u6570\u636e\u6a21\u578b\u6765\u4e3a\u6211\u4eec\u7684\u5e94\u7528\u63d0\u4f9b\u6570\u636e.\n\n\n2.9 \u5b9e\u4f53-\u5173\u7cfb\u56fe\n\n\n\u901a\u8fc7\u7ed9\u51fa\u7684\u89c4\u5219,\u6211\u4eec\u77e5\u9053\u81f3\u5c11\u6709\u4e24\u4e2a\u5b9e\u4f53:\u76ee\u5f55\u548c\u9875\u9762.\u540c\u65f6\u4e00\u4e2a\u76ee\u5f55\u53ef\u4ee5\u5bb9\u7eb3\u8bb8\u591a\u9875\u9762.\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0bER\u56fe\u6765\u63cf\u8ff0\u6211\u4eec\u7684\u6570\u636e\u6a21\u578b.\n\n\n\n\n\u6ce8\u610f\u4e00\u70b9,\u4e00\u4e2a\u9875\u9762\u53ef\u4ee5\u5728\u4e00\u4e2a\u6216\u591a\u4e2a\u76ee\u5f55\u91cc.\u6240\u4ee5\u6211\u4eec\u9700\u8981\u5efa\u7acb\u591a-\u5bf9-\u591a\u7684\u5173\u7cfb.\u4e3a\u4e86\u5c06\u95ee\u9898\u4e0d\u90a3\u4e48\u590d\u6742\u5316,\u6211\u4eec\u505a\u4e2a\u7b80\u5355\u7684\u5047\u8bbe,\u4e00\u4e2a\u76ee\u5f55\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u9875\u9762,\u4f46\u662f\u4e00\u4e2a\u9875\u9762\u53ea\u80fd\u5c5e\u4e8e\u4e00\u4e2a\u76ee\u5f55.\u8fd9\u5e76\u4e0d\u80fd\u9632\u6b62\u4e86\u4e00\u4e2a\u9875\u9762\u51fa\u73b0\u5728\u4e24\u4e2a\u4e0d\u540c\u76ee\u5f55\u7684\u60c5\u51b5 - \u5728\u4e0d\u7406\u60f3\u7684\u60c5\u51b5\u4e0b,\u9875\u9762\u53ef\u80fd\u8fdb\u5165\u4e24\u6b21.\n\n\n\u5199\u6280\u672f\u7b14\u8bb0\u662f\u4e2a\u597d\u7684\u559c\u6b22,\u5c24\u5176\u662f\u5f53\u4f60\u77e5\u9053\u5b83\u4f1a\u518d\u6b21\u51fa\u73b0\u7684\u65f6\u5019!\u901a\u8fc7\u8bb0\u4e0b\u5b83\u4eec,\u4f60\u53ef\u4ee5\u548c\u4f60\u7684\u5f00\u53d1\u56e2\u961f\u8fdb\u884c\u4ea4\u6d41\u786e\u4fdd\u76f8\u540c\u7684\u95ee\u9898\u53ef\u4ee5\u53ef\u4ee5\u5f88\u5feb\u89e3\u51b3.\n\n\n\u5efa\u8868\u5982\u4e0b,\nStr\n\u8868\u793a\u4e00\u4e2a\nstring\n\u6216\u8005\nchar\n,\nInt\n\u8868\u793a\u4e00\u4e2a\ninteger\n,\nURL\n\u8868\u793a\u4e00\u4e2aURL\u800c\nFK\n\u8868\u793aForeign Key.\n\n\n\n\n\u6211\u4eec\u540c\u6837\u6709\u4e00\u4e2a\u7528\u6237\u8868 - \u8fd9\u91cc\u6ca1\u6709\u5c55\u793a,\u5c06\u5728\u4ee5\u540e\u4ecb\u7ecd.\u5728\u63a5\u4e0b\u6765\u7684\u7ae0\u8282\u91cc\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u5728Django\u91cc\u5982\u4f55\u5b9e\u4f8b\u5316\u8fd9\u4e9b\u6570\u636e\u6a21\u578b,\u5e76\u4e14\u4e86\u89e3\u5982\u4f55\u7528Django\u7684ORM\u53bb\u8fde\u63a5\u6570\u636e\u5e93.\n\n\n2.10 \u603b\u7ed3\n\n\n\u8fd9\u4e9b\u8bbe\u8ba1\u548c\u8bf4\u660e\u5c06\u4f1a\u5bf9\u6211\u4eec\u6784\u5efa\u6211\u4eec\u7684web\u5e94\u7528\u63d0\u4f9b\u5f88\u597d\u7684\u5e2e\u52a9.\u6211\u4eec\u8981\u7528\u5230\u7684\u6280\u672f\u548c\u6b65\u9aa4\u540c\u6837\u9002\u7528\u4e8e\u5927\u591a\u6570\u6570\u636e\u9a71\u52a8\u7684\u7f51\u7ad9.\u719f\u6089\u8fd9\u4e9b\u89c4\u8303\u548c\u8bbe\u8ba1\u5bf9\u6211\u4eec\u6709\u5f88\u5927\u7684\u597d\u5904.\n\n\n\u5982\u679c\u4f60\u5df2\u7ecf\u5b89\u88c5\u4e86\u4e86Python2.7\u548cDjango1.7,\u4f60\u5bf9\u547d\u4ee4\u884c\u8bbe\u7f6e\u4f60\u7684\u8def\u5f84\u6709\u6240\u4e86\u89e3,\u90a3\u4e48\u4f60\u53ef\u4ee5\u76f4\u63a5\u8df3\u8fc7\nDjango\u57fa\u7840\n\u8fd9\u4e00\u7ae0.\u5426\u5219,\u8ba9\u6211\u4eec\u4e00\u8d77\u6765\u770b\n\u7b2c\u4e09\u7ae0\n.\n\n\n2.10.1 \u548cDjango\u5b98\u65b9\u6559\u7a0b\u4e00\u8d77\u5b66\u4e60\n\n\n\u6211\u4eec\u5efa\u8bae\nDjango\u5b98\u65b9\u6559\u7a0b\n\u4f5c\u4e3a\u8fd9\u672c\u4e66\u6bcf\u4e2a\u7ae0\u8282\u7684\u7ec3\u4e60\u9898.\u4f60\u53ef\u4ee5\u5728\u4e0b\u8868\u4e2d\u627e\u5230\u8fd9\u4e24\u672c\u4e66\u7ae0\u8282\u4e4b\u95f4\u7684\u5bf9\u5e94\u5173\u7cfb.\u5b98\u65b9\u6559\u5b66\u7684\u7ec3\u4e60\u5c06\u4f1a\u5e2e\u52a9\u4f60\u6df1\u5165\u4e86\u89e3Django\u6846\u67b6,\u800c\u4e14\u4f1a\u63d0\u5347\u4f60\u7684\u6280\u5de7.\n\n\n\n\n\n\n\n\nTango woth Django\n\n\nDjango Tutorial\n\n\n\n\n\n\n\n\n\n\nChapter 3\n\n\nPart 1 - Models\n\n\n\n\n\n\nChapter 5\n\n\nPart 2 - The Admin Interface\n\n\n\n\n\n\nChapter 6\n\n\nPart 3 - URLs and Views\n\n\n\n\n\n\nChapter 7\n\n\nPart 4 - Templates\n\n\n\n\n\n\nChapter 18\n\n\nPart 5 - Testing\n\n\n\n\n\n\nChapter 11\n\n\nPart 6 - CSS\n\n\n\n\n\n\n\n\n3 \u51c6\u5907\u597dTango\n\n\n\u8ba9\u6211\u4eec\u4e00\u8d77\u51fa\u53d1!\u4e3a\u4e86\u548cDjango\u4e00\u8d77\u63a2\u6208,\u4f60\u9700\u8981\u786e\u4fdd\u4f60\u5df2\u7ecf\u5728\u4f60\u7684\u7535\u8111\u4e0a\u5b89\u88c5\u4e86\u6240\u6709\u9700\u8981\u7684\u4e1c\u897f,\u800c\u4e14\u4f60\u9700\u8981\u638c\u63e1\u4f60\u7684\u5f00\u53d1\u73af\u5883.\u672c\u7ae0\u8ba9\u4f60\u4e86\u89e3\u4f60\u9700\u8981\u4ec0\u4e48\u5e76\u4e14\u9700\u8981\u638c\u63e1\u54ea\u4e9b\u77e5\u8bc6.\n\n\n\u5bf9\u4e8e\u672c\u6559\u7a0b,\u4f60\u9700\u8981\u4e0b\u9762\u4e24\u4e2a\u5173\u952e\u7684\u8f6f\u4ef6:\n\n\n\n\nPython 2.7.5+\n\n\nDjango 1.7\n\n\n\n\n\u4f5c\u4e3a\u7f16\u5199Django\u8fd9\u4e2aweb\u6846\u67b6\u7684\u7a0b\u5e8f\u8bed\u8a00,\u4f60\u9700\u8981\u4e86\u89e3Python\u7684\u4e00\u4e9b\u77e5\u8bc6.\u5982\u679c\u4f60\u4ece\u6765\u6ca1\u6709\u4f7f\u7528\u8fc7Python\u5e76\u4e14\u5e0c\u671b\u638c\u63e1\u8fd9\u95e8\u8bed\u8a00,\u6211\u4eec\u5f3a\u70c8\u63a8\u8350\u4f60\u5b66\u4e60\u4ee5\u4e0b\u81f3\u5c11\u4e00\u4e2a\u6559\u7a0b.\n\n\n\n\nA quick tutorial - Learn Python in 10 Minutes by Stavros, http://www.korokithakis.net/tutorials/python/.\n\n\nThe Official Python Tutorial at http://docs.python.org/2/tutorial/.\n\n\nA brilliant book: Think Python: How to Think like a Computer Scientist by Allen B. Downey, available online at http://www.greenteapress.com/thinkpython/.\n\n\nAn amazing online course: Learn to Program, by Jennifer Campbell and Paul Gries at https://www.coursera.org/course/programming1.\n\n\n\n\n3.1 \u4f7f\u7528\u7ec8\u7aef\n\n\n\u5b66\u4e60\u5982\u4f55\u4f7f\u7528\u4f60\u7684\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7684\u547d\u4ee4\u884c\u4ea4\u4e92\u5bf9\u8bbe\u7f6e\u4f60\u7684\u73af\u5883\u6765\u8bf4\u81f3\u5173\u91cd\u8981.\u5728\u672c\u6559\u7a0b\u4e2d,\u4f60\u5e94\u5f53\u4e60\u60ef\u7528\u547d\u4ee4\u884c\u8fdb\u884c\u4ea4\u4e92.\u5982\u679c\u4f60\u5df2\u7ecf\u719f\u6089\u4f7f\u7528\u547d\u4ee4\u884c\u90a3\u4e48\u4f60\u53ef\u4ee5\u76f4\u63a5\u8df3\u5230\n\u5b89\u88c5\u8f6f\u4ef6\n\u8fd9\u4e00\u7ae0\u8282.\n\n\n\u7c7bUNIX\u7cfb\u7edf\u90fd\u6709\u4e00\u4e2a\u770b\u8d77\u6765\u76f8\u4f3c\u7684\n\u7ec8\u7aef\n.UNIX\u6709\u8bb8\u591a\u6d3e\u751f\u6216\u8005\u884d\u751f\u7684\u540e\u4ee3,\u5305\u62ec\u82f9\u679c\u7684\nOS X\n\u548c\u8bb8\u591a\nLinux\u53d1\u884c\u7248\u672c\n.\u6240\u6709\u7684\u8fd9\u4e9b\u64cd\u4f5c\u7cfb\u7edf\u90fd\u5305\u542b\u4e00\u7cfb\u5217\u547d\u4ee4\u884c\u754c\u9762\u53ef\u4ee5\u5e2e\u52a9\u4f60\u7ba1\u7406\u6587\u4ef6\u548c\u8fd0\u884c\u7a0b\u5e8f,\u4ed6\u4eec\u5e76\u4e0d\u9700\u8981\u56fe\u5f62\u754c\u9762.\u672c\u8282\u4ecb\u7ecd\u4f60\u5e94\u5f53\u638c\u63e1\u7684\u5173\u952e\u547d\u4ee4.\n\n\n\n\nNote\n\n\n\u8fd9\u4e2a\u6559\u7a0b\u9488\u5bf9\u7684\u662f\u7c7bUNIX\u7cfb\u7edf.\u867d\u7136Django\u548cPython\u53ef\u4ee5\u5728Windows\u7cfb\u7edf\u4e0b\u8fd0\u884c,\u4f46\u662f\u8fd9\u672c\u4e66\u4e2d\u7684\u5927\u90e8\u5206\u547d\u4ee4\u90fd\u662f\u9488\u5bf9\u7c7bUNIX\u7ec8\u7aef\u7684.\u5728Windows\u4e2d,\u53ef\u4ee5\u7528\u4e0e\nUNIX\u76f8\u8fd1\u7684\u547d\u4ee4\n\u6216\u8005\u4f7f\u7528\u4effUNIX\u7ec8\u7aef\u7684\nPowerShell\n\u6765\u8fd0\u884c\u8fd9\u4e9b\u547d\u4ee4.\n\n\n\n\n\u5982\u679c\u8fdb\u5165\u4e00\u4e2a\u7ec8\u7aef\u91cc,\u4f60\u4f1a\u770b\u5230\u5982\u4e0b\u7684\u5f62\u5f0f:\n\n\nsibu:~leif$\n\n\n\n\n\u8fd9\u4e2a\u53eb\u505a\u63d0\u793a\u7b26,\u63d0\u793a\u4f60\u7cfb\u7edf\u6b63\u5728\u7b49\u5f85\u6267\u884c\u952e\u5165\u7684\u547d\u4ee4.\u8fd9\u4e2a\u63d0\u793a\u7b26\u53ef\u80fd\u56e0\u4e3a\u4f60\u7cfb\u7edf\u7684\u4e0d\u540c\u800c\u6709\u6240\u533a\u522b,\u4f46\u662f\u5927\u81f4\u4e0a\u770b\u8d77\u6765\u90fd\u8fd9\u6837.\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\u7ed9\u51fa\u4e863\u4e2a\u6709\u7528\u7684\u4fe1\u606f:\n\n\n\n\n\u4f60\u7684\u7528\u6237\u540d\u548c\u7535\u8111\u540d(\nleif\n\u7528\u6237\u540d\u548c\nsibu\n\u7535\u8111\u540d)\n\n\n\u4f60\u7684\u5f53\u524d\u76ee\u5f55(\u6ce2\u6d6a\u7ebf,\u6216\u8005\n~\n)\n\n\n\u4f60\u7528\u6237\u7684\u6743\u9650(\u7f8e\u5143\u7b26,\u6216\u8005\n$\n)\n\n\n\n\n\u7f8e\u5143\u7b26(\n$\n)\u4e00\u822c\u610f\u5473\u7740\u7528\u6237\u4f5c\u4e3a\u4e00\u4e2a\u6807\u51c6\u7684\u7528\u6237.\u76f8\u53cd,\u5982\u679c\u662f\u4e95\u5b57\u53f7(\n#\n)\u5219\u8868\u793a\u7528\u6237\u5177\u6709\nroot\u6743\u9650\n.\u4e0d\u7ba1\u4ec0\u4e48\u7b26\u53f7\u90fd\u610f\u5473\u7740\u7535\u8111\u6b63\u5728\u7b49\u5f85\u4f60\u7684\u8f93\u5165.\n\n\n\u6253\u5f00\u7ec8\u7aef\u7a97\u53e3,\u770b\u4e00\u770b\u4f60\u7684\u63d0\u793a\u7b26\u662f\u4ec0\u4e48.\n\n\n\u5f53\u4f60\u4f7f\u7528\u7ec8\u7aef\u7684\u65f6\u5019,\u77e5\u9053\u4f60\u5904\u4e8e\u7cfb\u7edf\u6587\u4ef6\u7684\u4ec0\u4e48\u4f4d\u7f6e\u662f\u975e\u5e38\u91cd\u8981\u7684.\u4e3a\u4e86\u77e5\u9053\u4f60\u4f4d\u4e8e\u54ea\u91cc,\u4f60\u53ef\u4ee5\u952e\u5165\npwd\n\u547d\u4ee4.\u5b83\u4f1a\u663e\u793a\u51fa\u4f60\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55.\u4f8b\u5982:\n\n\nLast login: Mon Sep 23 11:35:44 on ttys003\nsibu:~ leif$ pwd\n/Users/leif\nsibu:~ leif$\n\n\n\n\n\u4f60\u53ef\u4ee5\u770b\u5230\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u662f:\n/Users/leif\n.\n\n\n\u540c\u65f6\u4f60\u53ef\u4ee5\u6ce8\u610f\u5230\u6211\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e3a~.\u8fd9\u662f\u56e0\u4e3a\u6ce2\u6d6a\u7ebf(\n~\n)\u8868\u793a\u6211\u7684\u4e3b\u76ee\u5f55.\u6240\u6709\u7c7bUNIX\u6587\u4ef6\u7cfb\u7edf\u7684\u90fd\u662f\u6839\u76ee\u5f55\u4f5c\u4e3a\u8d77\u59cb\u57fa\u70b9\u7684.\u6839\u76ee\u5f55\u7528\n/\n\u8868\u793a.\n\n\n\u5982\u679c\u4f60\u4e0d\u5728\u4f60\u7684\u4e3b\u76ee\u5f55\u91cc,\u4f60\u53ef\u4ee5\u901a\u8fc7\u952e\u5165\u5982\u4e0b\u547d\u4ee4\u6539\u53d8\u76ee\u5f55(\ncd\n).\n\n\n$ cd ~\n\n\n\n\n\u8ba9\u6211\u4eec\u5efa\u4e00\u4e2a\u540d\u53eb\ncode\n\u7684\u6587\u4ef6\u5939.\u53ef\u4ee5\u952e\u5165\u5efa\u7acb\u6587\u4ef6\u5939\u547d\u4ee4(\nmkdir\n),\u5982\u4e0b.\n\n\n$ mkdir code\n\n\n\n\n\u8fdb\u5165\u65b0\u5efa\u7684\ncode\n\u6587\u4ef6\u5939,\u952e\u5165\ncd code\n.\u5982\u679c\u4f60\u68c0\u67e5\u4f60\u73b0\u5728\u7684\u5de5\u4f5c\u76ee\u5f55,\u4f60\u53ef\u4ee5\u770b\u5230\u4f60\u5904\u5728\n~/code/\n\u76ee\u5f55\u4e2d.\u540c\u6837\u4f60\u53ef\u4ee5\u901a\u8fc7\u4f60\u7684\u63d0\u793a\u7b26\u770b\u51fa\u6765.\u770b\u4e0b\u9762\u7684\u4f8b\u5b50,\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u51fa\u73b0\u5728\u7535\u4e3b\u673a\u540d\u5b57\nsibu\n\u540e\u9762.\n\n\n\n\nNote\n\n\n\u4ee5\u540e\u4e0d\u7ba1\u4ec0\u4e48\u65f6\u5019\u63d0\u5230\u5de5\u4f5c\u7a7a\u95f4(\nworkspace\n),\u6211\u4eec\u6307\u7684\u662f\u4f60\u7684\ncode\n\u76ee\u5f55\n\n\n\n\nsibu:~ leif$ mkdir code\nsibu:~ leif$ cd code\nsibu:code leif$\nsibu:code leif$ pwd\n/Users/leif/code\n\n\n\n\n\u5217\u51fa\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6,\u53ef\u4ee5\u7528\nls\n\u547d\u4ee4.\u5982\u679c\u4f60\u60f3\u67e5\u770b\u9690\u85cf\u6587\u4ef6\u6216\u76ee\u5f55\u53ea\u9700\u8981\u952e\u5165\nls -a\n\u547d\u4ee4,\u8fd9\u91cc\na\n\u53c2\u6570\u6307\u4ee3\u5168\u90e8.\u5982\u679c\ncd\n\u56de\u5230\u4f60\u7684\u4e3b\u76ee\u5f55(\ncd ~\n)\u7136\u540e\u952e\u5165\nls\n,\u4f60\u5c31\u4f1a\u770b\u5230\u5728\u4f60\u7684\u4e3b\u76ee\u5f55\u91cc\u6709\u4e2a\u53eb\ncode\n\u7684\u6587\u4ef6\u5939.\n\n\n\u4e3a\u4e86\u67e5\u770b\u4f60\u76ee\u5f55\u91cc\u7684\u66f4\u591a\u4fe1\u606f,\u53ef\u4ee5\u8f93\u5165\nls -l\n.\u5b83\u4f1a\u5c55\u793a\u4f60\u6587\u4ef6\u7684\u8bb8\u591a\u8be6\u7ec6\u4fe1\u606f\u5305\u62ec\u4ed6\u662f\u5426\u662f\u76ee\u5f55(\u901a\u8fc7\u524d\u9762\u7684\nd\n\u53ef\u4ee5\u770b\u51fa)\n\n\nsibu:~ leif$ cd ~\nsibu:~ leif$ ls -l\n\ndrwxr-xr-x   36 leif  staff    1224 23 Sep 10:42 code\n\n\n\n\n\u8f93\u51fa\u4fe1\u606f\u540c\u65f6\u5305\u542b\n\u76ee\u5f55\u6743\u9650\u7684\u4fe1\u606f\n,\u8c01\u5efa\u7acb\u4e86\u8fd9\u4e2a\u6587\u4ef6\u5939(\nleif\n),\u5b83\u7684\u7fa4\u7ec4(\nstaff\n),\u5927\u5c0f,\u8fd9\u4e2a\u6587\u4ef6\u4fee\u6539\u65f6\u95f4,\u5f53\u7136\u8fd8\u6709\u5b83\u7684\u540d\u5b57.\n\n\n\u901a\u8fc7\u7ec8\u7aef\u4f60\u53ef\u4ee5\u53d1\u73b0\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u4fee\u6539\u6587\u4ef6.\u5728\u4f60\u7684\u7535\u8111\u4e0a\u53ef\u80fd\u5df2\u7ecf\u5b89\u88c5\u4e86\u8bb8\u591a\u51fa\u8272\u7684\u7f16\u8f91\u5668.\nnano\n\u7f16\u8f91\u5668\u662f\u4e00\u4e2a\u5f88\u7b80\u6d01\u7684\u7f16\u8f91\u5668,\u5b83\u4e0d\u50cf\nvi\n\u9700\u8981\u82b1\u5f88\u591a\u65f6\u95f4\u6765\u5b66\u4e60.\u4e0b\u9762\u5c06\u4ecb\u7ecd\u4e00\u4e9b\u5341\u5206\u6709\u7528\u7684UNIX\u547d\u4ee4.\n\n\n3.1.1 \u5e38\u7528\u547d\u4ee4\n\n\n\u6240\u6709\u7684\u7c7bUNIX\u64cd\u4f5c\u7cfb\u7edf\u90fd\u6709\u4e00\u7cfb\u5217\u7684\u9488\u5bf9\u6587\u4ef6\u7ba1\u7406\u7684\u5185\u5efa\u547d\u4ee4.\u4e0b\u9762\u5c06\u5217\u51fa\u4e00\u4e9b\u4f7f\u7528\u9891\u7387\u975e\u5e38\u9ad8\u7684\u547d\u4ee4,\u6211\u4eec\u5c06\u4f1a\u7b80\u5355\u4ecb\u7ecd\u5b83\u4eec\u662f\u5e72\u4ec0\u4e48\u7684\u548c\u5982\u4f55\u53bb\u4f7f\u7528\u5b83\u4eec.\n\n\n\n\npwd\n:\u5728\u7ec8\u7aef\u6253\u5370\u51fa\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55.\u5c55\u793a\u51fa\u5f53\u524d\u6240\u5728\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84.\n\n\nls\n:\u5728\u7ec8\u7aef\u6253\u5370\u51fa\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e2d\u6587\u4ef6\u5217\u8868.\u9ed8\u8ba4\u60c5\u51b5\u4e0b,\u4f60\u4e0d\u4f1a\u770b\u5230\u6587\u4ef6\u5927\u5c0f - \u53ef\u4ee5\u901a\u8fc7\nls -lh\n\u547d\u4ee4\u8fdb\u884c\u67e5\u770b.\n\n\ncd\n:\u540e\u8fb9\u8fde\u63a5\u8def\u5f84,\u53ef\u4ee5\u5141\u8bb8\u4f60\u6539\u53d8\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55.\u4f8b\u5982,\ncd /home/leif/\n\u6539\u53d8\u5de5\u4f5c\u76ee\u5f55\u5230\n/home/leif/\n.\u4f60\u8fd8\u53ef\u4ee5\u901a\u8fc7\u952e\u5165\u4e24\u4e2a\u70b9(\ncd ..\n)\u8f6c\u79fb\u5230\u4e0a\u4e00\u7ea7\u76ee\u5f55\u800c\u4e0d\u7528\u8f93\u5165\n\u7edd\u5bf9\u8def\u5f84\n.\n\n\ncp\n:\u590d\u5236\u6587\u4ef6\u6216\u8005\u76ee\u5f55.\u4f60\u5fc5\u987b\u63d0\u4f9b\u6e90\u548c\u76ee\u6807.\u4f8b\u5982,\u5982\u679c\u8981\u5728\u540c\u4e00\u6587\u4ef6\u5939\u91cc\u590d\u5236\ninput.py\n,\u90a3\u4f60\u53ef\u4ee5\u8fd9\u6837\u8f93\u5165\ncp input.py input_backup.py\n\n\nmv\n\u79fb\u52a8\u6587\u4ef6\u6216\u8005\u76ee\u5f55.\u50cf\ncp\n\u4e00\u6837,\u5fc5\u987b\u63d0\u4f9b\u6e90\u548c\u76ee\u6807.\u8fd9\u4e2a\u547d\u4ee4\u8fd8\u53ef\u4ee5\u91cd\u547d\u540d\u6587\u4ef6.\u4f8b\u5982,\u628a\nnumbers.txt\n\u91cd\u547d\u540d\u4e3a\nletters.txt\n\u53ea\u9700\u952e\u5165\nmv numbers.txt letters.txt\n.\u628a\u4e00\u4e2a\u6587\u4ef6\u79fb\u52a8\u5230\u53e6\u4e00\u4e2a\u76ee\u5f55,\u4f60\u53ef\u4ee5\u4f7f\u7528\u7edd\u5bf9\u6216\u8005\u76f8\u5bf9\u8def\u5f84\u4f5c\u4e3a\u76ee\u7684\u5730\u5740 - \u6bd4\u5982\nmv numbers.txt /home/david/numbers.txt\n.\n\n\nmkdir\n:\u5728\u5f53\u524d\u76ee\u5f55\u521b\u89c1\u6587\u4ef6\u5939.\u4f60\u9700\u8981\u63d0\u4f9b\u4e00\u4e2a\u65b0\u6587\u4ef6\u5939\u7684\u540d\u5b57\u5728\nmkdir\n\u547d\u4ee4\u540e\u9762.\u4f8b\u5982,\u5f53\u524d\u76ee\u5f55\u662f\n/home/david/\n,\u8fd0\u884c\nmkdir music\n,\u4f60\u5c06\u4f1a\u5f97\u5230\u4e00\u4e2a\u6587\u4ef6\u5939\n/home/david/music/\n.\u4f60\u9700\u8981\u952e\u5165\ncd\n\u6765\u8fdb\u5165\u8fd9\u4e2a\u6587\u4ef6\u5939.\n\n\nrm\n:remove\u7684\u7b80\u5199,\u8fd9\u4e2a\u547d\u4ee4\u4f1a\u5220\u9664\u4f60\u7684\u6587\u4ef6.\u4f60\u5fc5\u987b\u63d0\u4f9b\u4f60\u8981\u5220\u9664\u6587\u4ef6\u7684\u540d\u5b57.\u5982\u679c\u4f60\u8f93\u5165\nrm\n\u547d\u4ee4,\u5b83\u4f1a\u63d0\u793a\u4f60\u662f\u5426\u5e0c\u671b\u5220\u9664\u8fd9\u4e2a\u6587\u4ef6\u7684\u9009\u9879.\u4f60\u4e5f\u53ef\u4ee5\u7528\n\u9012\u5f52\u5220\u9664\n\u6765\u5220\u9664\u6587\u4ef6\u5939.\u7528\u8fd9\u4e2a\u547d\u4ee4\u4e00\u5b9a\u8981\u5c0f\u5fc3,\u8981\u6062\u590d\u5220\u9664\u7684\u6587\u4ef6\u51e0\u4e4e\u4e0d\u53ef\u80fd.\n\n\nrmdir\n:\u5220\u9664\u76ee\u5f55\u7684\u4f20\u7edf\u65b9\u6cd5.\u5728\u540e\u9762\u63d0\u4f9b\u4f60\u8981\u5220\u9664\u7684\u76ee\u5f55.\u9700\u8981\u6ce8\u610f\u7684\u662f:\u8fd9\u4e2a\u547d\u4ee4\u6ca1\u6709\u63d0\u793a\u662f\u5426\u8981\u5220\u9664\u8fd9\u4e2a\u76ee\u5f55.\n\n\nsudo\n:\u5141\u8bb8\u4f60\u7528\u5176\u4ed6\u7528\u6237\u6743\u9650\u6765\u8fd0\u884c\u8fd9\u4e2a\u7a0b\u5e8f.\u4e00\u822c,\u7528\nroot\n(\u7c7bUNIX\u6216\u8005UNIX\u884d\u751f\u7cfb\u7edf\u7684\n\u8d85\u7ea7\u7528\u6237\n)\u8eab\u4efd\u6765\u8fd0\u884c\u8fd9\u4e2a\u7a0b\u5e8f.\n\n\n\n\n\n\nNote\n\n\n\u8fd9\u91cc\u53ea\u5217\u51fa\u4e86\u4e00\u5c0f\u90e8\u5206\u547d\u4ee4\u5217\u8868.\u5982\u679c\u60f3\u4e86\u89e3\u66f4\u591a\u8bf7\u67e5\u770bubuntu\u7684\u5173\u4e8e\n\u4f7f\u7528\u7ec8\u7aef\n\u7684\u6587\u6863,\u6216\u8005FOSSwire\u5199\u7684\nCheat Sheet\n.\n\n\n\n\n3.2 \u5b89\u88c5\u8f6f\u4ef6\n\n\n\u73b0\u5728\u4f60\u5df2\u7ecf\u77e5\u9053\u600e\u4e48\u548c\u7ec8\u7aef\u6253\u4ea4\u9053\u4e86,\u4f60\u53ef\u4ee5\u6309\u7740\u8fd9\u4e2a\u6559\u7a0b\u7684\u8981\u6c42\u5b89\u88c5\u8f6f\u4ef6\u4e86.\n\n\n3.2.1 \u5b89\u88c5Python\n\n\nPython2.7.5\u5df2\u7ecf\u5b89\u5230\u4f60\u7684\u7535\u8111\u4e0a\u4e86\u5417?\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662flinux\u53d1\u884c\u7248\u6216\u8005OS X\u7cfb\u7edf,\u90a3\u4e48\u4f60\u7684Python\u5df2\u7ecf\u5b89\u88c5\u597d\u4e86.\u56e0\u4e3a\u8bb8\u591a\u7cfb\u7edf\u7684\u529f\u80fd\u90fd\u662f\u6709Python\u5b9e\u73b0\u7684,\u6240\u4ee5\u4ed6\u4eec\u672c\u8eab\u81ea\u5e26\nPython\u89e3\u6790\u5668\n!\n\n\n\u5f88\u4e0d\u5e78,\u51e0\u4e4e\u6240\u6709\u7684\u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\u7684Python\u7248\u672c\u90fd\u6bd4\u6211\u4eec\u5728\u8fd9\u4e2a\u6559\u7a0b\u91cc\u9700\u8981\u7684\u8981\u8001.\u6709\u8bb8\u591a\u65b9\u6cd5\u53ef\u4ee5\u5b89\u88c5Python,\u8bb8\u591a\u65b9\u6cd5\u90fd\u975e\u5e38\u82e6\u96be.\u6211\u4eec\u63d0\u4f9b\u4e86\u6700\u5e38\u7528\u7684\u65b9\u6cd5,\u5e76\u4e14\u63d0\u4f9b\u83b7\u53d6\u66f4\u591a\u4fe1\u606f\u7684\u94fe\u63a5.\n\n\n\n\nWarning\n\n\n\u8fd9\u4e2a\u6bb5\u843d\u5c06\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\u5982\u4f55\u5b89\u88c5Python2.7.5.\u4f46\u662f\u5343\u4e07\u4e0d\u8981\u79fb\u9664\u7cfb\u7edf\u9ed8\u8ba4\u7684Python.\u8fd9\u6837\u505a\u53ef\u80fd\u635f\u574f\u4f60\u7684\u7cfb\u7edf.\n\n\n\n\n3.2.1.1 \u82f9\u679cOS X\n\n\n\u8fd9\u4e2a\u65b9\u6cd5\u6700\u7b80\u5355,\u4f60\u53ea\u9700\u8981\u4e0b\u8f7d\u5e76\u8fd0\u884c\u5b98\u65b9\u7684\u4e0b\u8f7d\u5668\u5373\u53ef.\u7f51\u5740\u5728 http://www.python.org/getit/releases/2.7.5/.\n\n\n\n\nWarning\n\n\n\u5728\u4e0b\u8f7d\u524d\u786e\u4fdd\n.dmg\n\u6587\u4ef6\u7684\u7248\u672c\u548c\u4f60\u7684OS X\u7cfb\u7edf\u7684\u7248\u672c\u76f8\u7b26!\n\n\n\n\n\n\n\u4e0b\u8f7d\u5b8c\n.dmg\n\u6587\u4ef6,\u5728\u76ee\u5f55\u91cc\u53cc\u51fb.\n\n\n\u6587\u4ef6\u4f1a\u4ee5\u78c1\u76d8\u65b9\u5f0f\u6302\u8f7d,\u5e76\u4f1a\u51fa\u73b0\u4e00\u4e2a\u65b0\u7684Finder\u7a97\u53e3.\n\n\n\u53cc\u51fb\nPython.mpkg\n\u6587\u4ef6.\u5c06\u4f1a\u8fd0\u884cPython\u5b89\u88c5\u5668.\n\n\n\u4f60\u5fc5\u987b\u8f93\u5165\u5bc6\u7801\u786e\u8ba4\u4f60\u8981\u5b89\u88c5\u8fd9\u4e2a\u8f6f\u4ef6.\n\n\n\u6240\u6709\u4ee5\u4e0a\u90fd\u5b8c\u6210\u4e86,\u5173\u95ed\u5b89\u88c5\u5668\u5e76\u5f39\u51faPython\u78c1\u76d8.\u73b0\u5728\u53ef\u4ee5\u5220\u9664\n.dmg\n\u6587\u4ef6.\n\n\n\n\n\u4f60\u73b0\u5728\u5c31\u5df2\u7ecf\u5b89\u88c5\u4e86\u5347\u7ea7\u8fc7\u540e\u7684Python\u4e86,\u4e3aDjango\u505a\u597d\u51c6\u5907!\u662f\u4e0d\u662f\u7070\u5e38\u7b80\u5355?\n\n\n3.2.1.2 Linux\u53d1\u884c\u7248\n\n\n\u4e0d\u5e78\u7684\u662f,\u5728Linux\u53d1\u884c\u7248\u4e0a\u4e0b\u8f7d\u66f4\u65b0Python\u6709\u8bb8\u591a\u4e0d\u540c\u7684\u65b9\u6cd5.\u66f4\u7cdf\u7cd5\u7684\u662f\u6bcf\u4e2a\u53d1\u884c\u7248\u7684\u65b9\u6cd5\u90fd\u4e0d\u4e00\u6837.\u4f8b\u5982,\nFedora\n\u5b89\u88c5Python\u7684\u65b9\u6cd5\u5c31\u548c\nUbuntu\n\u4e0d\u4e00\u6837.\n\n\n\u7136\u800c\u5e76\u4e0d\u662f\u4e00\u70b9\u65b9\u6cd5\u90fd\u6ca1\u6709.\u4e00\u4e2a\u975e\u5e38\u725bB\u7684\u53eb\u505a\nPythonbrew\n\u5de5\u5177(\u6216\u8005\u8bf4\u662fPython\u73af\u5883\u7ba1\u7406\u5668)\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u89e3\u51b3\u8fd9\u4e00\u96be\u9898.\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u5b89\u88c5\u548c\u7ba1\u7406\u4e0d\u540c\u7248\u672cPython\u7684\u65b9\u6cd5.\u8fd9\u610f\u5473\u7740\u4f60\u53ef\u4ee5\u4e0d\u7528\u7ba1\u7cfb\u7edf\u5df2\u7ecf\u9ed8\u8ba4\u5b89\u88c5\u7684Python\u4e86.\n\n\n\u53ef\u4ece\npythonbrew\n\u7684\u4e3b\u9875\u548c\nstackOverflow\n\u4e86\u89e3\u5230,\u5b89\u88c5Python2.7.5\u9700\u8981\u4ee5\u4e0b\u6b65\u9aa4.\n\n\n\n\n\u6253\u5f00\u4e00\u4e2a\u7ec8\u7aef\n\n\n\u8fd0\u884c\u547d\u4ee4\ncurl -kL http://xrl.us/pythonbrewinstall | bash\n.\u4f60\u5c06\u4f1a\u4e0b\u8f7d\u4e00\u4e2a\u5b89\u88c5\u5668,\u7136\u540e\u5728\u7ec8\u7aef\u91cc\u8fd0\u884c\u5b83.pythonbrew\u5c06\u4f1a\u5b89\u88c5\u5728\n~/.pythonbrew\n\u76ee\u5f55.\u8bb0\u4f4f\n~\n\u7b26\u53f7\u8868\u793a\u4f60\u7684\u4e3b\u76ee\u5f55.\n\n\n\u4f60\u9700\u8981\u7f16\u8f91\n~/.bashrc\n\u6587\u4ef6.\u901a\u8fc7\u7f16\u8f91\u5668(\u6bd4\u5982\ngedit\n,\nnano\n,\nvi\n\u6216\u8005\nemacs\n)\u6253\u5f00,\u5728\u6587\u4ef6\u6700\u540e\u52a0\u5165\u4e0b\u9762\n[[ -s $HOME/.pythonbrew/etc/bashrc ]] \n source $HOME/.pythonbrew/etc/bashrc\n\n\n\u4fdd\u5b58\n~/.bashrc\n\u6587\u4ef6,\u5173\u95ed\u7ec8\u7aef\u5e76\u91cd\u65b0\u6253\u5f00\u4e00\u4e2a\u65b0\u7684.\u8fd9\u6837\u505a\u4f60\u7684\u6539\u53d8\u5c31\u53ef\u4ee5\u751f\u6548\u4e86.\n\n\n\u8fd0\u884c\npythonbrew install 2.7.5\n\u6765\u5b89\u88c5Python 2.7.5.\n\n\n\u73b0\u5728\u4f60\u9700\u8981\u5207\u6362Python2.7.5\u6765\u6fc0\u6d3bPython\u7684\u5b89\u88c5.\u53ea\u9700\u8981\u952e\u5165\npythonbrew switch 2.7.5\n.\n\n\nPython 2.7.5\u5c31\u5df2\u7ecf\u5b89\u88c5\u597d\u4e86.\n\n\n\n\n\n\nNote\n\n\n\u4ee5\u70b9\u53f7\u5f00\u5934\u7684\u6587\u4ef6\u6216\u8005\u76ee\u5f55\u540cwindows\u91cc\u7684\u9690\u85cf\u6587\u4ef6\u662f\u4e00\u6837\u7684.\nDot file\n\u6b63\u5e38\u60c5\u51b5\u4e0b\u662f\u770b\u4e0d\u89c1\u7684,\u4ed6\u4eec\u901a\u5e38\u7528\u4f5c\u914d\u7f6e\u6587\u4ef6.\u5982\u679c\u8981\u67e5\u770b\u9690\u85cf\u7684\u6587\u4ef6\u53ea\u9700\u8981\u952e\u5165\nls -a\n.\n\n\n\n\n3.2.1.3 Windows\n\n\nWindows\u5e76\u6ca1\u6709\u9ed8\u8ba4\u5b89\u88c5Python.\u4e5f\u5c31\u662f\u8bf4\u4e0d\u5fc5\u8003\u8651\u9057\u7559\u7248\u672c\u7684\u95ee\u9898,\u53ea\u9700\u4e0b\u8f7d\u5b89\u88c5\u5373\u53ef.\u53ef\u4ee5\u4ece\nPython\u5b98\u65b9\u7f51\u7ad9\n\u4e0b\u8f7d64\u4f4d\u6216\u800532\u4f4d\u7684\u7248\u672c.\u5982\u679c\u4f60\u4e0d\u786e\u5b9a\u8981\u4e0b\u8f7d\u54ea\u4e00\u4e2a,\u4f60\u53ef\u4ee5\u901a\u8fc7\u8bbf\u95ee\nthe Microsoft website\n\u6765\u786e\u5b9a\u4f60\u7684\u7535\u8111\u662f64\u4f4d\u8fd8\u662f32\u4f4d.\n\n\n\n\n\u5f53\u5b89\u88c5\u5668\u4e0b\u597d\u4ee5\u540e,\u6253\u5f00\u5b83.\n\n\n\u6839\u636e\u63d0\u793a\u5b89\u88c5Python\n\n\n\u5b8c\u6210\u540e\u5173\u95ed\u5b89\u88c5\u5668,\u5220\u9664\u4e0b\u8f7d\u7684\u6587\u4ef6.\n\n\n\n\n\u5f53\u5b89\u88c5\u5668\u5b8c\u6210\u4ee5\u540e,\u4f60\u7684Python\u5c31\u80fd\u5b89\u88c5\u597d\u5e76\u4e14\u80fd\u7528\u4e86.Python2.7.5\u9ed8\u8ba4\u5b89\u88c5\u5728\nC:\\Python27\n\u6587\u4ef6\u5939\u5185.\u6211\u4eec\u5efa\u8bae\u4f60\u4f7f\u7528\u8fd9\u4e2a\u9ed8\u8ba4\u7684\u8def\u5f84.\n\n\n\u5b89\u88c5\u5b8c\u6bd5\u540e,\u6253\u5f00\u547d\u4ee4\u63d0\u793a\u7b26\u8f93\u5165\npython\n.\u5982\u679c\u770b\u5230Python\u7684\u63d0\u793a\u7b26,\u8868\u793a\u5b89\u88c5\u6210\u529f.\u7136\u800c\u6709\u4e9b\u65f6\u5019\u5b89\u88c5\u5668\u4e0d\u80fd\u6b63\u786e\u7684\u8bbe\u7f6eWindows\u7684\nPATH\n\u53d8\u91cf.\u5c06\u5bfc\u81f4\npython\n\u547d\u4ee4\u4e0d\u80fd\u88ab\u627e\u5230.\u5728Windows7\u91cc\u53ef\u4ee5\u6309\u7167\u5982\u4e0b:\n\n\n\n\n\u70b9\u51fb\u5f00\u59cb\u6309\u94ae,\u53f3\u952e\u70b9\u51fb\u6211\u7684\u7535\u8111\u9009\u62e9\u5c5e\u6027.\n\n\n\u70b9\u51fb\u9ad8\u7ea7\u9009\u9879\u5361.\n\n\n\u7535\u673a\u73af\u5883\u53d8\u91cf\u6309\u94ae.\n\n\n\u5728\u7cfb\u7edf\u53d8\u91cf\u5217\u8868\u91cc,\u67e5\u627e\u540d\u5b57\u53ebPath\u7684\u53d8\u91cf,\u70b9\u51fb\u5e76\u9009\u62e9\u7f16\u8f91\u6309\u94ae\n\n\n\u5728\u884c\u672b\u6dfb\u52a0\n;C:\\python27;C:\\python27\\scripts\n.\u4e0d\u8981\u5ffd\u7565\u5206\u53f7 - \u8fd8\u6709\u4e0d\u8981\u6dfb\u52a0\u7a7a\u683c.\n\n\n\u70b9\u51fb\u786e\u5b9a\u4fdd\u5b58\u914d\u7f6e.\n\n\n\u5173\u95ed\u6240\u6709\u7684\u547d\u4ee4\u884c,\u91cd\u65b0\u6253\u5f00,\u8bd5\u8bd5\u770b\u952e\u5165\npython\n.\n\n\n\n\n\u5982\u679c\u4e00\u6b65\u6b65\u505a\u4e0b\u6765Python\u5e94\u5f53\u5c31\u80fd\u5b89\u88c5\u6210\u529f\u4e86.\u5bf9\u4e8eWindows XP\u6765\u8bf4,\u6709\n\u4e00\u4e9b\u4e0d\u540c\n,\u5bf9\u4e8e\nWindows 8\n\u7684\u60c5\u51b5\u4e5f\u662f.\n\n\n3.2.2 \u8bbe\u7acbPYTHONPATH\n\n\n\u5f53Python\u5b89\u88c5\u5b8c\u6bd5,\u6211\u4eec\u9700\u8981\u68c0\u67e5\u4e00\u4e0b\u5b89\u88c5\u662f\u5426\u6210\u529f.\u4e3a\u4e86\u786e\u5b9a\u5b89\u88c5\u6210\u529f\u6211\u4eec\u9700\u8981\u68c0\u67e5\nPYTHONPATH\n\u73af\u5883\u53d8\u91cf\n\u6210\u529f\u88ab\u8bbe\u5b9a.\nPYTHONPATH\n\u4e3aPython\u89e3\u6790\u5668\u63d0\u4f9b\u4e86\n\u5305\u548c\u6a21\u5757\n\u7684\u4f4d\u7f6e.\u5982\u679c\nPYTHONPATH\n\u8bbe\u7f6e\u9519\u8bef,\u6211\u4eec\u5c06\u4e0d\u80fd\u5b89\u88c5\u548c\u4f7f\u7528Django!\n\n\n\u9996\u5148,\u8ba9\u6211\u4eec\u9a8c\u8bc1\nPYTHONPATH\n\u53d8\u91cf\u5b58\u5728.\u5728\u7c7bUNIX\u7cfb\u7edf\u4e2d,\u952e\u5165\u5982\u4e0b\u547d\u4ee4.\n\n\n$ echo $PYTHONPATH\n\n\n\n\n\u5728Windows\u7cfb\u7edf\u4e2d.\n\n\n$ echo %PYTHONPATH%\n\n\n\n\n\u5982\u679c\u6210\u529f\u8fd0\u884c,\u4f60\u5c06\u4f1a\u770b\u5230\u5982\u4e0b\u76f8\u4f3c\u7684\u8f93\u51fa.\u5728Windows\u7cfb\u7edf\u4e2d\u4f60\u5c06\u4f1a\u770b\u89c1\u4e00\u4e2aWindows\u8def\u5f84,\u5927\u591a\u6570\u5b83\u4eec\u662f\u4ee5C\u76d8\u4f5c\u4e3a\u6839\u76ee\u5f55.\n\n\n/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages:\n\n\n\n\n\u8fd9\u4e2a\u8def\u5f84\u5c31\u662fPython\u5305\u548c\u6a21\u5757\u5b58\u653e\u7684\u8def\u5f84.\u5982\u679c\u4f60\u5f97\u5230\u4e86\u8fd9\u4e2a\u8def\u5f84,\u4f60\u53ef\u4ee5\u7ee7\u7eed\u63a5\u4e0b\u6765\u7684\u6559\u7a0b\u4e86.\u5982\u679c\u4f60\u4ec0\u4e48\u90fd\u6ca1\u6709\u5f97\u5230,\u4f60\u9700\u8981\u505a\u4e00\u4e9b\u989d\u5916\u7684\u5de5\u4f5c\u53bb\u627e\u5230\u8fd9\u4e2a\u8def\u5f84.\u5982\u679c\u5728Windows\u7cfb\u7edf\u91cc\nsite-packages\n\u4e00\u822c\u4f4d\u4e8e\u5b89\u88c5Python\u76ee\u5f55\u7684\nlib\n\u6587\u4ef6\u5939\u91cc.\u4f8b\u5982,\u5982\u679c\u4f60\u5728\nC:\\Python27\n\u5b89\u88c5\u4e86Python,\u90a3\u4e48\nsite-packages\n\u4e00\u822c\u5c31\u4f1a\u5728\nC:\\Python27\\Lib\\site-packages\\\n.\n\n\n\u5bf9\u4e8e\u7c7bUNIX\u7cfb\u7edf,\u5148\u6253\u5f00Python\u89e3\u6790\u5668.\u8f93\u5165\u5982\u4e0b\u7684\u547d\u4ee4.\n\n\n$ python\n\nPython 2.7.5 (v2.7.5:ab05e7dd2788, May 13 2013, 13:18:45)\n[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin\nType \nhelp\n, \ncopyright\n, \ncredits\n or \nlicense\n for more information.\n\n\n import site\n\n print site.getsitepackages()[0]\n\n'/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages'\n\n\n quit()\n\n\n\n\n\u8c03\u7528\nsite.getsitepackages()\n\u5c06\u4f1a\u8fd4\u56dePython\u5b58\u50a8\u5305\u548c\u6a21\u5757\u7684\u5730\u5740\u5217\u8868.\u5982\u679c\u8c03\u7528\ngetsitepackages()\n\u51fd\u6570\u7684\u65f6\u5019\u8fd4\u56de\u9519\u8bef,\u90a3\u4e48\u9700\u8981\u68c0\u67e5\u4e00\u4e0bPython\u7684\u7248\u672c.\u53ea\u67092.7.5\u53ca\u4ee5\u4e0a\u7248\u672c\u624d\u5305\u542b\u8fd9\u4e2a\u51fd\u6570.\n\n\nprint site.getsitepackages()[0]\n\u8bed\u53e5\u8fd0\u884c\u7684\u7ed3\u679c\u4f1a\u8fd4\u56de\u5b89\u88c5\u7684\nsite-packages\n\u76ee\u5f55.\u5f97\u5230\u8fd9\u4e2a\u8def\u5f84,\u6211\u4eec\u9700\u8981\u628a\u5b83\u6dfb\u52a0\u8fdb\u4f60\u7684\u8bbe\u7f6e.\u5728\u7c7bUNIX\u7cfb\u7edf\u91cc,\u518d\u6b21\u7f16\u8f91\n.bashrc\n\u6587\u4ef6,\u628a\u4e0b\u9762\u8fd9\u53e5\u52a0\u5165\u6587\u4ef6\u91cc.\n\n\nexport PYTHONPATH=$PYTHONPATH:\nPATH_TO_SITE-PACKAGES\n\n\n\n\n\n\u628a\nPATH_TO_SITE-PACKAGES\n\u66f4\u6362\u4e3a\u4f60\u7684\nsite-packages\n\u76ee\u5f55\u5730\u5740.\u4fdd\u5b58\u6587\u4ef6,\u9000\u51fa\u5e76\u91cd\u65b0\u6253\u5f00\u7ec8\u7aef.\n\n\n\u5728Windows\u673a\u5668\u4e0a,\u5982\u524d\u9762\u7684\u65b9\u6cd5\u4e00\u6837,\u8bbe\u7f6e\u4e00\u4e2a\nPYTHONPATH\n\u53d8\u91cf\u5e76\u628a\u5b83\u7684\u5730\u5740\u8bbe\u7f6e\u4e3a\nC:\\Python27\\Lib\\site-package\n.\n\n\n3.2.3 \u4f7f\u7528Setuptools\u548cPip\n\n\n\u5bf9\u4e8e\u4efb\u4f55\u4e00\u4e2a\u9879\u76ee\u6765\u8bf4\u5b89\u88c5\u548c\u8bbe\u7f6e\u5f00\u53d1\u73af\u5883\u90fd\u6781\u4e3a\u91cd\u8981.\u7531\u4e8e\u50cfDjango\u8fd9\u6837\u7684\u5305\u5b89\u88c5\u90fd\u662f\u5206\u522b\u5b89\u88c5\u7684,\u8fd9\u5c06\u4f1a\u5bfc\u81f4\u8bb8\u591a\u95ee\u9898\u548c\u9ebb\u70e6.\u6bd4\u5982\u8bf4,\u4f60\u5982\u4f55\u548c\u5176\u4ed6\u7684\u5f00\u53d1\u4eba\u5458\u5206\u4eab\u4f60\u7684\u8bbe\u7f6e?\u5982\u4f55\u5728\u4e00\u53f0\u65b0\u7684\u673a\u5668\u4e0a\u90e8\u7f72\u540c\u6837\u7684\u73af\u5883?\u5982\u4f55\u628a\u5305\u5347\u7ea7\u5230\u6700\u65b0\u7248\u672c?\u4f7f\u7528\u5305\u7ba1\u7406\u5de5\u5177\u53ef\u4ee5\u89e3\u51b3\u5927\u90e8\u5206\u5b89\u88c5\u548c\u8bbe\u7f6e\u73af\u5883\u7684\u95ee\u9898.\u5b83\u53ef\u4ee5\u786e\u4fdd\u5b89\u88c5\u7684\u5305\u9002\u5408\u4f60\u7684Python\u7248\u672c,\u540c\u65f6\u5b83\u4e5f\u53ef\u4ee5\u81ea\u52a8\u5b89\u88c5\u5176\u4ed6\u9700\u8981\u4f9d\u8d56\u7684\u5305\u6587\u4ef6.\n\n\n\u5728\u8fd9\u672c\u4e66\u91cc\u6211\u4eec\u5c06\u4f7f\u7528Pip.Pip\u662f\u4e00\u4e2a\u5bf9\u7528\u6237\u66f4\u53cb\u597d\u7684Python\u5305\u7ba1\u7406\u5de5\u5177.\u56e0\u4e3aPip\u4f9d\u8d56\u4e8eSetuptools,\u6240\u4ee5\u6211\u4eec\u5fc5\u987b\u4fdd\u8bc1\u4e24\u4e2a\u7a0b\u5e8f\u90fd\u5b89\u88c5\u5728\u4f60\u7684\u7535\u8111\u4e0a.\n\n\n\u4e00\u5f00\u59cb\u6211\u4eec\u9700\u8981\u5728\nPython package website\n\u4e0b\u8f7dSetuptools.\u4f60\u53ef\u4ee5\u4e0b\u8f7d\n.tar.gz\n\u6587\u4ef6.\u7528\u4f60\u559c\u6b22\u7684\u89e3\u538b\u8f6f\u4ef6\u89e3\u538b\u5b83.\u5b83\u4eec\u5e94\u5f53\u88ab\u89e3\u538b\u5230\nsetuptools-1.1.6\n\u76ee\u5f55\u91cc - \u8fd9\u91cc\n1.1.6\n\u4ee3\u8868Setuptools\u7248\u672c\u53f7.\u5728\u7ec8\u7aef\u91cc\u8fdb\u5165\u76ee\u5f55\u6267\u884c\nez_setup.py\n\u811a\u672c,\u5982\u4e0b.\n\n\n$ cd setuptools-1.1.6\n$ sudo python ez_setup.py\n\n\n\n\n\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d,\u6211\u4eec\u7528\nsudo\n\u6765\u5141\u8bb8\u5728\u7cfb\u7edf\u8303\u56f4\u5185\u7684\u66f4\u6539.\u7b2c\u4e8c\u4e2a\u547d\u4ee4\u5c06\u4f1a\u4e3a\u4f60\u5b89\u88c5Setuptools.\u5982\u679c\u8f93\u51fa\u5982\u4e0b\u5c31\u53ef\u4ee5\u9a8c\u8bc1\u5b89\u88c5\u6210\u529f.\n\n\nFinished processing dependencies for setuptools==1.1.6\n\n\n\n\n\u5f53\u7136\u8fd9\u91cc\u7684\n1.1.6\n\u4f1a\u7528\u4f60\u4e0b\u7684\u7248\u672c\u53f7\u4ee3\u66ff.\u5982\u679c\u4f60\u770b\u5230\u4e0a\u9762\u7684\u8f93\u51fa,\u90a3\u4e48\u5c31\u53ef\u4ee5\u63a5\u4e0b\u6765\u5b89\u88c5Pip\u4e86.\u8fd9\u4e2a\u6b65\u9aa4\u975e\u5e38\u7684\u7b80\u5355,\u5728\u7ec8\u7aef\u4e2d\u952e\u5165\u5982\u4e0b.\n\n\n$ sudo easy_install pip\n\n\n\n\n\u8fd9\u4e2a\u547d\u4ee4\u540c\u6837\u4f1a\u5728\u7cfb\u7edf\u91cc\u4e0b\u8f7d\u548c\u5b89\u88c5Pip.\u5982\u679c\u8f93\u51fa\u5982\u4e0b\u5219\u5b89\u88c5\u6210\u529f.\n\n\nFinished processing dependencies for pip\n\n\n\n\n\u5982\u679c\u770b\u5230\u4e0a\u9762\u7684\u8f93\u51fa,\u4f60\u5c31\u53ef\u4ee5\u5728\u7ec8\u7aef\u91cc\u76f4\u63a5\u8f93\u5165\npip\n\u6765\u542f\u52a8Pip\u4e86.\u5982\u679c\u6ca1\u6709\u9047\u5230\u4ec0\u4e48\u9519\u8bef\u7684\u8bdd,\u4f60\u5c06\u4f1a\u770b\u5230\u4e00\u4e2aPip\u63d0\u4f9b\u7684\u547d\u4ee4\u5217\u8868.\u5982\u679c\u4f60\u770b\u5230\u4e86\u8fd9\u4e2a\u5217\u8868,\u90a3\u4e48\u606d\u559c\u4f60!\n\n\n\n\nNote\n\n\n\u5728Windows\u4e3b\u673a\u91cc,\u64cd\u4f5c\u90fd\u4e00\u6837.\u4f46\u662f\u5728\u8f93\u5165\u547d\u4ee4\u7684\u65f6\u5019\u4e0d\u7528\u8f93\u5165\nsudo\n.\n\n\n\n\n3.2.4 \u5b89\u88c5Django\n\n\n\u5982\u679c\u5b89\u88c5Pip\u6210\u529f\u7684\u8bdd,Django\u5c31\u5bb9\u6613\u5b89\u88c5\u4e86.\u6253\u5f00\u7ec8\u7aef\u8ba9\u6211\u4eec\u6765\u8f93\u5165.\n\n\n$ pip install -U django==1.7\n\n\n\n\n\u5982\u679c\u4f60\u4f7f\u7528\u7c7bUNIX\u7cfb\u7edf\u7684\u8bdd\u4f60\u9700\u8981\u5728\u547d\u4ee4\u524d\u52a0\nsudo\n.\n\n\n$ sudo pip install -U django==1.7\n\n\n\n\n\u5305\u7ba1\u7406\u5668\u5c06\u4f1a\u4e0b\u8f7dDjango\u5230\u6b63\u786e\u7684\u4f4d\u7f6e.\u4ee5\u4e0a\u505a\u5b8c\u540e,Django\u5c31\u5b89\u88c5\u6210\u529f\u4e86.\u6ce8\u610f,\u5982\u679c\u6ca1\u6709\u5199\n==1.7\n,\u90a3\u4e48\u4f60\u5c06\u6709\u53ef\u80fd\u5b89\u88c5\u5176\u4ed6\u7248\u672c\u7684Django.\n\n\n3.2.5 \u5b89\u88c5Python\u56fe\u50cf\u5e93\n\n\n\u5728\u5efa\u9020Rango\u8fd9\u4e2a\u5e94\u7528\u7684\u65f6\u5019,\u6211\u4eec\u9700\u8981\u5904\u7406\u548c\u4e0a\u4f20\u56fe\u7247.\u6240\u4ee5\u6211\u4eec\u9700\u8981\nPillow\n\u8fd9\u4e2a\u56fe\u5f62\u5e93.\u6253\u5f00\u7ec8\u7aef\u8f93\u5165\u5982\u4e0b.\n\n\n$ pip install pillow\n\n\n\n\n\u5982\u679c\u9700\u8981\u524d\u9762\u52a0\nsudo\n.\n\n\n3.2.6 \u5b89\u88c5\u5176\u4ed6Python\u5305\n\n\n\u503c\u5f97\u6ce8\u610f\u7684\u662f,\u5176\u4ed6\u5305\u4e5f\u53ef\u4ee5\u7528\u8fd9\u79cd\u65b9\u6cd5\u5f88\u65b9\u4fbf\u7684\u4e0b\u8f7d\u4e0b\u6765.The Python Package Index\u63d0\u4f9b\u4e86Pip\u53ef\u4ee5\u5b89\u88c5\u5305\u7684\u5217\u8868.\n\n\n\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u547d\u4ee4\u67e5\u770b\u5df2\u7ecf\u5b89\u88c5\u5305\u7684\u5217\u8868.\n\n\n$ pip list\n\n\n\n\n3.2.7 \u5206\u4eab\u4f60\u7684\u5305\u5217\u8868\n\n\n\u4f60\u53ef\u4ee5\u5c06\u4f60\u7684\u5df2\u5b89\u88c5\u5305\u5217\u8868\u5206\u4eab\u7ed9\u5176\u4ed6\u7684\u5f00\u53d1\u8005.\n\n\n$ pip freeze \n requirements.txt\n\n\n\n\n\u5982\u679c\u4f60\u7528\nmore\n,\nless\n\u6216\u8005\ncat\n\u6765\u68c0\u67e5\nrequirements.txt\n\u6587\u4ef6,\u4f60\u5c06\u4f1a\u770b\u89c1\u5dee\u4e0d\u591a\u4e00\u6837\u7684\u5217\u8868.\u8fd9\u4e2a\nrequirements.txt\n\u6587\u4ef6\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u5b89\u88c5.\u5982\u679c\u4f60\u8981\u5728\u53e6\u4e00\u53f0\u7535\u8111\u4e0a\u914d\u7f6e\u73af\u5883\u5c06\u53d8\u5f97\u975e\u5e38\u65b9\u4fbf.\n\n\n$ pip install -r requirements.txt\n\n\n\n\n3.3 \u96c6\u6210\u5f00\u53d1\u73af\u5883\n\n\n\u5c3d\u7ba1\u4e0d\u662f\u5fc5\u987b\u7684,\u4f46\u662f\u4e00\u4e2a\u597d\u7684\u96c6\u6210\u5f00\u53d1\u73af\u5883(IDE)\u5c06\u4f1a\u5bf9\u6211\u4eec\u7684\u5f00\u53d1\u7070\u5e38\u6709\u5e2e\u52a9.\u50cfJetBrain\u7cfb\u5217\u7684\nPyCharm\n\u548cPyDev(\nEclipse\n\u7684\u4e00\u4e2a\u63d2\u4ef6)\u90fd\u662f\u6bd4\u8f83\u6d41\u884c\u7684IDE.\nPython Wiki\n\u4f1a\u63d0\u4f9b\u4e00\u4e2a\u5b9e\u65f6\u66f4\u65b0\u7684Python IDE\u5217\u8868.\n\n\n\u53ef\u4ee5\u8bd5\u8bd5\u5230\u5e95\u54ea\u4e2a\u9002\u5408\u4f60,\u540c\u65f6\u8981\u77e5\u9053\u5176\u4e2d\u4e00\u4e9b\u9700\u8981\u8d2d\u4e70\u8ba4\u8bc1.\u7406\u60f3\u60c5\u51b5\u4e0b,\u4f60\u4f1a\u9009\u62e9\u4e00\u4e2a\u96c6\u6210Django\u7684IDE.PyCharm\u548cPyDev\u90fd\u63d0\u4f9b\u4e86Django\u7684\u96c6\u6210 - \u5c3d\u7ba1\u4f60\u9700\u8981\u544a\u8bc9IDE\u4f60\u4f7f\u7528\u7684\u662f\u54ea\u4e2a\u7248\u672c\u7684Python.\n\n\n3.3.1 \u865a\u62df\u73af\u5883\n\n\n\u6211\u4eec\u9a6c\u4e0a\u5c31\u5feb\u8bbe\u7f6e\u5b8c\u6bd5\u4e86!\u5728\u6211\u4eec\u7ee7\u7eed\u4e4b\u524d,\u503c\u5f97\u6ce8\u610f\u7684\u662f\u5982\u679c\u6211\u4eec\u5c31\u8fd9\u4e48\u5b89\u88c5\u7684\u8bdd\u4f1a\u6709\u5f88\u591a\u7f3a\u70b9.\u52a0\u5165\u6211\u4eec\u6709\u5176\u4ed6\u7684Python\u5e94\u7528,\u9700\u8981\u53e6\u4e00\u4e2a\u7248\u672c\u624d\u80fd\u8fd0\u884c?\u6216\u8005\u4f60\u60f3\u8f6c\u5230\u65b0\u7684\u7248\u672c\u7684Django,\u4f46\u4ecd\u7136\u50cf\u7ef4\u6301Django1.7\u9879\u76ee?\n\n\n\u89e3\u51b3\u7684\u65b9\u6cd5\u5c31\u662f\nvirtual environment\n.\u865a\u62df\u73af\u5883\u53ef\u4ee5\u5141\u8bb8\u6211\u4eec\u540c\u65f6\u5b89\u88c5\u4e0d\u540c\u7248\u672c\u7684Python\u548c\u4ed6\u4eec\u7684\u5305.\u73b0\u5728,\u8fd9\u5df2\u7ecf\u6210\u4e3a\u4e00\u4e2a\u666e\u904d\u7684\u65b9\u6cd5.\n\n\n\u5b89\u88c5\u7684\u8bdd\u4e5f\u975e\u5e38\u597d\u5b89\u88c5.\n\n\n$ pip install virtualenv\n$ pip install virtualenvwrapper\n\n\n\n\n\u7b2c\u4e00\u4e2a\u5305\u63d0\u4f9b\u4e86\u521b\u5efa\u865a\u62df\u73af\u5883\u7684\u57fa\u7840.\u5982\u9700\u66f4\u591a\u7ec6\u8282\u53ef\u4ee5\u53c2\u770bJamie Matthews\u7684a non-magical introduction to Pip and Virtualenv for Python Beginners.\u5982\u679c\u4ec5\u4ec5\u4f7f\u7528virtualenv\u5c06\u4f1a\u53d8\u5f97\u5f88\u590d\u6742.\u5b89\u88c5\u7684\u7b2c\u4e8c\u4e2a\u5305\u5c31\u662f\u4f7f\u8fd9\u4e2a\u8fc7\u7a0b\u7b80\u5316.\n\n\n\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f\u7c7bUNIX\u7cfb\u7edf,\u90a3\u4e48\u4f60\u9700\u8981\u5728\u547d\u4ee4\u884c\u4e2d\u542f\u52a8\u8fd9\u4e2a\u811a\u672c:\n\n\n$ source virtualenvwrapper.sh\n\n\n\n\n\u4e3a\u4e86\u4e0d\u5fc5\u6bcf\u6b21\u4f7f\u7528\u65f6\u90fd\u8f93\u5165\u8fd9\u4e2a\u547d\u4ee4\u53ef\u4ee5\u5728profile\u91cc\u8bbe\u5b9a.\n\n\n\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662fWindows\u73af\u5883,\u90a3\u4e48\u9700\u8981\u4e0b\u8f7d\nvirtualenvwrapper-win\n\u5305:\n\n\n$ pip install virtualenvwrapper-win\n\n\n\n\n\u73b0\u5728\u4f60\u53ef\u4ee5\u521b\u89c1\u865a\u62df\u73af\u5883\u4e86:\n\n\n$ mkvirtualenv rango\n\n\n\n\n\u4f60\u53ef\u4ee5\u7528\nlsvirtualenv\n\u547d\u4ee4\u5217\u51fa\u521b\u5efa\u7684\u865a\u62df\u73af\u5883,\u5982\u679c\u4f60\u8981\u6fc0\u6d3b\u8f93\u5165\u5982\u4e0b:\n\n\n$ workon rango\n(rango)$\n\n\n\n\n\u4f60\u7684\u547d\u4ee4\u63d0\u793a\u7b26\u4f1a\u6539\u53d8\u800c\u4e14\u4f1a\u663e\u793a\u5f53\u524d\u865a\u62df\u73af\u5883,\u50cf\u4e0a\u9762\u7684rango.\u73b0\u5728\u4f60\u53ef\u4ee5\u5728\u73af\u5883\u91cc\u5b89\u88c5\u4f60\u60f3\u8981\u5b89\u88c5\u7684\u4efb\u4f55\u5305\u4e86,\u5e76\u4e14\u4ed6\u4eec\u4e0d\u4f1a\u5e72\u6d89\u5176\u4ed6\u7684\u73af\u5883.\u952e\u5165\npip list\n\u53bb\u68c0\u67e5\u662f\u5426\u5b89\u88c5\u4e86Django\u6216\u8005Pillow\u5305.\u4f60\u53ef\u4ee5\u7528pip\u6765\u5b89\u88c5\u4ed6\u4eec,\u4f46\u662f\u4ed6\u4eec\u53ea\u662f\u5b58\u5728\u4e8e\u865a\u62df\u73af\u5883\u91cc.\n\n\n\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u8981\u5f00\u53d1\u5e94\u7528\u5e76\u4e14\u8bbe\u7f6e\u4e00\u4e2a\u865a\u62df\u73af\u5883,\u53c2\u770b\u4e0b\u4e00\u7ae0 \u5f00\u53d1\u4f60\u7684\u5e94\u7528.\n\n\n3.3.2 \u4ee3\u7801\u5e93\n\n\n\u5f53\u4f60\u8fdb\u884c\u5f00\u53d1\u65f6,\u53ef\u4ee5\u4f7f\u7528\nSVN\n\u6216\u8005\nGIT\n\u6765\u8fdb\u884c\u7248\u672c\u63a7\u5236.\u5728\u6211\u4eec\u7684\u6559\u7a0b\u91cc\u4e0d\u4f1a\u4f7f\u7528\u7248\u672c\u63a7\u5236.\u4f46\u662f\u6211\u4eec\u63d0\u4f9b\u4e86\ncrash course on GIT\n.\u6211\u4eec\u5f3a\u70c8\u5efa\u8bae\u4f60\u5728\u81ea\u5df1\u7684\u9879\u76ee\u91cc\u5efa\u7acb\u7248\u672c\u63a7\u5236.\u4ed6\u5f80\u5f80\u80fd\u7ec8\u7a76\u4f60\u4e0e\u6c34\u706b.\n\n\n3.4 \u7ec3\u4e60\n\n\n\u4e3a\u4e86\u66f4\u597d\u7684\u8bbe\u7f6e\u4f60\u7684\u73af\u5883,\u8bd5\u7740\u5b8c\u6210\u4e0b\u5217\u7ec3\u4e60.\n\n\n\n\n\u5b89\u88c5Python2.7.5+\u548cPip\n\n\n\u7ec3\u4e60CLI,\u521b\u5efa\u540d\u5b57\u53eb\ncode\n\u76ee\u5f55\u5e76\u628a\u6211\u4eec\u7684\u9879\u76ee\u653e\u8fdb\u53bb.\n\n\n\u5b89\u88c5Django\u548cPillow\u5305\n\n\n\u8bbe\u7f6e\u865a\u62df\u73af\u5883\n\n\n\u8bbe\u7f6e\u4f60\u7684GitHub\u8d26\u53f7\n\n\n\u4e0b\u8f7d\u5e76\u8bbe\u7f6eIDE(\u6bd4\u5982PyCharm)\n\n\n\u6211\u4eec\u5c06\u4e66\u4e2d\u7684\u4ee3\u7801\u653e\u5728\u4e86GitHub,\u53c2\u89c1\nTango With Django Book\n\u548c\nRango Application\n\n\n\u5982\u679c\u4f60\u5bf9\u8fd9\u672c\u4e66\u9047\u5230\u9519\u8bef\u548c\u95ee\u9898,\u4f60\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2arequest!\n\n\n\u5982\u679c\u5bf9\u7ec3\u4e60\u9898\u6709\u95ee\u9898,\u4f60\u53ef\u4ee5\u68c0\u67e5\u4ee3\u7801\u5e93\u770b\u770b\u6211\u4eec\u662f\u5982\u4f55\u5b8c\u6210\u7684.\n\n\n\n\n\n\n\n\n4 Django\u57fa\u7840\n\n\n\u8ba9\u6211\u4eec\u5f00\u59cbDjango\u4e4b\u65c5\u5427!\u5728\u672c\u7ae0,\u6211\u4eec\u5c06\u6982\u8ff0\u5982\u4f55\u4f7f\u7528Django.\u4f60\u53ef\u4ee5\u5efa\u7acb\u4e00\u4e2a\u65b0\u7684\u9879\u76ee\u548cweb\u5e94\u7528.\u5728\u672c\u7ae0\u7684\u6700\u540e,\u4f60\u5c06\u80fd\u591f\u5efa\u7acb\u4e00\u4e2aDjango\u9875\u9762\u5e76\u4e14\u8fd0\u884c\u5b83.\n\n\n4.1 \u6d4b\u8bd5\u4f60\u7684\u5b89\u88c5\n\n\n\u8ba9\u6211\u4eec\u68c0\u6d4b\u4e00\u4e0bPython\u548cDjango\u662f\u5426\u662f\u6211\u4eec\u6559\u7a0b\u91cc\u9700\u8981\u7684\u7248\u672c.\n\n\n$ python --version\n2.7.5\n\n\n\n\n\u4e0a\u9762\u7684\u547d\u4ee4\u5c06\u4f1a\u8fd0\u884cPython\u89e3\u6790\u5668,\u5982\u679c\u6709\n-c\n\u9009\u9879\u5219\u53ef\u4ee5\u6267\u884c\u5b83\u540e\u9762\u7684\u4ee3\u7801.\u4f60\u53ef\u4ee5\u67e5\u770b\u8f93\u51fa\u4ee5\u68c0\u67e5Python\u7248\u672c\u662f\u5426\u662f\u4f60\u9700\u8981\u7684.\u5982\u679c\u7248\u672c\u4e0d\u662f\n2.7.5\n,\u4f60\u53ef\u80fd\u9700\u8981\u8fd4\u56de\n3.2\n\u7ae0\u8282\u53bb\u68c0\u67e5\u4e00\u4e0b\u5b89\u88c5\u65f6\u662f\u5426\u62c9\u4e0b\u4e86\u67d0\u4e9b\u6b65\u9aa4.\n\n\n\u5728\u68c0\u9a8c\u4e86\u5b89\u88c5\u7684python\u540e,\u8ba9\u6211\u4eec\u68c0\u9a8c\u4e00\u4e0bDjango.\n\n\n$ python -c \nimport django; print(django.get_version())\n\n1.7\n\n\n\n\n\u901a\u8fc7\u8c03\u7528Django\u6a21\u5757,\u53ef\u4ee5\u770b\u5230\u4e0b\u65b9\u8f93\u51fa\n1.7\n.\u5982\u679c\u4f60\u5f97\u5230\u7684\u662f\u5176\u4ed6\u7248\u672c,\u6216\u8005\u51fa\u73b0\nImportError\n,\u90a3\u4e48\u8fd4\u56de\n3.2\n\u7ae0\u8282\u6216\u8005\u53c2\u770b\nDjango Documentation on Installing Django\n.\u5982\u679c\u4f60\u53d1\u73b0\u4f60\u7684Django\u7248\u672c\u4e0d\u662f1.7,\u90a3\u4e48\u4ee5\u540e\u53ef\u80fd\u4f1a\u9047\u5230\u4e00\u4e9b\u95ee\u9898.\u6240\u4ee5\u8fd8\u662f\u786e\u4fddDjango\u7684\u7248\u672c\u662f1.7\u5427.\n\n\n4.2 \u521b\u5efa\u4f60\u7684Django\u9879\u76ee\n\n\n\u5728\u4f60\u7684\ncode\n\u76ee\u5f55\u91cc\u521b\u5efa\u4f60\u7684\u9879\u76ee.\n\n\n$ django-admin.py startproject tango_with_django_project\n\n\n\n\n\n\nNote\n\n\n\u6839\u636e\nstackoverflow\n\u5728Windows\u673a\u5668\u4e0a\u4f60\u9700\u8981\u5168\u8def\u5f84\u8fd0\u884cdjango-admin.py\u811a\u672c.\u6bd4\u5982\npython c:\\python27\\scripys\\django-admin.py startproject tango_with_django_project\n\n\n\n\n\u8fd9\u4e2a\u547d\u4ee4\u7adf\u4f1a\u8fd0\u884c\ndjango-admin.py\n\u811a\u672c,\u5b83\u5c06\u4f1a\u4e3a\u4f60\u521b\u5efa\u4e00\u4e2a\u540d\u53eb\ntango_with_django_project\n\u7684Django\u65b0\u9879\u76ee.\u8fd9\u4e2a\u540d\u5b57\u968f\u4fbf\u4f60\u53d6\u7684.\n\n\n\u4f60\u53ef\u80fd\u6ce8\u610f\u5230\u4e86\u5728\u4f60\u65b0\u521b\u5efa\u7684\ntang_with_django_project\n\u9879\u76ee\u91cc\u81ea\u52a8\u521b\u5efa\u4e86\u4e24\u4e2a\u9879\u76ee:\n\n\n\n\n\u53e6\u4e00\u4e2a\u548c\ntango_with_django_project\n\u540c\u540d\u7684\u76ee\u5f55.\n\n\n\u4e00\u4e2a\u53eb\nmanage.py\n\u7684Python\u811a\u672c\n\n\n\n\n\u5728\u8fd9\u7bc7\u6559\u7a0b\u91cc\u6211\u4eec\u628a\u8fd9\u4e2a\ntango_with_django_project\n\u76ee\u5f55\u53eb\u505a\u9879\u76ee\u8bbe\u7f6e\u76ee\u5f55,\u5728\u8fd9\u4e2a\u76ee\u5f55\u91cc\u6211\u4eec\u4f1a\u53d1\u73b0\u67094\u4e2aPython\u811a\u672c.\u6211\u4eec\u7a0d\u540e\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\u4e0b\u8fd9\u51e0\u4e2a\u811a\u672c.\n\n\n\n\n__init__.py\n:\u8fd9\u662f\u4e00\u4e2a\u7a7a\u7684\u811a\u672c,\u7528\u6765\u544a\u8bc9Python\u7f16\u8bd1\u5668\u8fd9\u4e2a\u76ee\u5f55\u662f\u4e00\u4e2aPython\u5305.\n\n\nsettings.py\n:\u7528\u6765\u5b58\u50a8Django\u9879\u76ee\u8bbe\u7f6e\u7684\u6587\u4ef6.\n\n\nurls.py\n:\u7528\u6765\u5b58\u50a8\u9879\u76ee\u91cc\u7684URL\u6a21\u5f0f.\n\n\nwsgi.py\n:\u7528\u6765\u5e2e\u52a9\u4f60\u8fd0\u884c\u5f00\u53d1\u670d\u52a1,\u540c\u65f6\u53ef\u4ee5\u5e2e\u52a9\u90e8\u7f72\u4f60\u7684\u751f\u4ea7\u73af\u5883.\n\n\n\n\n\n\nNote\n\n\n\u8fd9\u4e2a\u9879\u76ee\u6587\u4ef6\u662f\u81ea\u4ece1.4\u7248\u672c\u540e\u624d\u521b\u7acb\u7684.\u867d\u7136\u548c\u9879\u76ee\u540c\u540d\u7684\u76ee\u5f55\u770b\u8d77\u6765\u5f88\u602a,\u4f46\u8fd9\u6837\u505a\u8fd8\u662f\u6709\u9053\u7406\u7684,\u5b83\u53ef\u4ee5\u548c\u5176\u4ed6\u5e94\u7528\u8fdb\u884c\u533a\u5206.\n\n\n\n\n\u5728\u9879\u76ee\u91cc\u8fd8\u6709\u4e00\u4e2a\u53eb\u505a\nmanage.py\n\u7684\u6587\u4ef6.\u8fd9\u4e2a\u6587\u4ef6\u662f\u6211\u4eec\u5f00\u53d1\u9879\u76ee\u65f6\u7ecf\u5e38\u4f7f\u7528\u7684\u6587\u4ef6,\u5b83\u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u7684Django\u547d\u4ee4.\u4f8b\u5982,\nmanage.py\n\u5141\u8bb8\u4f60\u8fd0\u884c\u5185\u5efa\u7684Django\u670d\u52a1\u6765\u6d4b\u8bd5\u548c\u8fd0\u884c\u6570\u636e\u5e93\u547d\u4ee4.\u771f\u7684,\u8fd9\u4e2a\u811a\u672c\u662f\u4f60\u6700\u5e38\u7528\u7684\u811a\u672c\u4e86.\n\n\n\n\nNote\n\n\n\u53ef\u4ee5\u53c2\u89c1\nAdmin and Manage scripts\n\u6765\u4e86\u89e3\u66f4\u591a.\n\n\n\n\n\u73b0\u5728\u53ef\u4ee5\u8fd0\u884c\nmanage.py\n\u811a\u672c\u4e86.\n\n\n$ python manage.py runserver\n\n\n\n\n\u6267\u884c\u4e0a\u9762\u7684\u547d\u4ee4\u5c06\u4f1a\u521d\u59cb\u5316\u8fd0\u884c\u4e00\u4e2a\u8f7b\u91cf\u7684\u670d\u52a1\u5668.\u53ef\u4ee5\u5728\u7ec8\u7aef\u91cc\u770b\u5230\u8f93\u51fa\u5982\u4e0b.\n\n\n$ python manage.py runserver\n\nSystem check identified no issues (0 silenced).\n\nYou have unapplied migrations; your app may not work properly until they are applied.\nRun 'python manage.py migrate' to apply them.\n\nOctober 01, 2014 - 19:49:05\nDjango version 1.7c2, using settings 'tango_with_django_project.settings'\nStarting development server at http://127.0.0.1:8000/\nQuit the server with CONTROL-C.\n\n\n\n\n$ python manage.py migrate\n\nOperations to perform:\n  Apply all migrations: admin, contenttypes, auth, sessions\nRunning migrations:\n  Applying contenttypes.0001_initial... OK\n  Applying auth.0001_initial... OK\n  Applying admin.0001_initial... OK\n  Applying sessions.0001_initial... OK\n\n\n\n\n\nmigrate\n\u547d\u4ee4\u4f1a\u68c0\u67e5\u4f60\u7684INSTALLED_APPS\u8bbe\u7f6e,\u540c\u65f6\u4f1a\u521b\u5efa\u4f60\u7684mysite/settings.py\u6587\u4ef6\u4e2d\u76f8\u5173\u7684app\u7684\u6570\u636e\u5e93\u56fe\u8868(\u6211\u4eec\u7a0d\u540e\u4f1a\u4ecb\u7ecd).\u4f60\u5c06\u4f1a\u770b\u5230\u6240\u6709\u521d\u59cb\u5316\u7684\u4fe1\u606f.\u5982\u679c\u4f60\u611f\u5174\u8da3,\u4f60\u53ef\u4ee5\u7528\u76f8\u5e94\u6570\u636e\u5e93\u7684\u547d\u4ee4\u67e5\u770bDjango\u521b\u5efa\u7684\u6570\u636e\u5e93,\u4f8b\u5982dt(PostgreSQL),SHOW TABLES(MySQL)\u6216\u8005 .schema(SQLite).\n\n\n\u73b0\u5728\u6253\u5f00\u6d4f\u89c8\u5668\u8f93\u5165 http://127.0.0.1:8000/ .\u4f60\u5c06\u4f1a\u770b\u5230\u4e0b\u56fe\u6240\u793a.\n\n\n\n\n\u5728\u7ec8\u7aef\u91cc\u8f93\u5165\nCTRL + C\n\u5c31\u53ef\u4ee5\u5173\u6389\u670d\u52a1\u5668.\u5982\u679c\u4f60\u5e0c\u671b\u670d\u52a1\u5668\u5f00\u5728\u522b\u7684\u7aef\u53e3,\u6216\u8005\u4f60\u5e0c\u671b\u5176\u4ed6\u4e3b\u673a\u53ef\u4ee5\u8bbf\u95ee,\u4f60\u53ef\u4ee5\u5728\u547d\u4ee4\u540e\u9762\u52a0\u5165\u53c2\u6570.\n\n\n$ python manage.py runserver \nyour_machines_ip_address\n:5555\n\n\n\n\n\u6267\u884c\u4e0a\u9762\u7684\u547d\u4ee4\u5c06\u4f1a\u628a\u670d\u52a1\u8f6c\u6362\u5230TCP\u76845555\u7aef\u53e3.\u4f60\u9700\u8981\u628a\u4e0a\u9762\u7684\n$ python manage.py runserver \nyour_machines_ip_address\n:5555\n\u6362\u6210\u4f60\u81ea\u5df1\u4e3b\u673a\u7684IP\u5730\u5740.\n\n\n\u5728\u8bbe\u7f6e\u7aef\u53e3\u7684\u65f6\u5019,\u4f60\u4e0d\u80fd\u8bbe\u7f6e1024\u4ee5\u4e0b\u7684\u7aef\u53e3,\u56e0\u4e3a\u5b83\u4eec\u90fd\u662f\u7cfb\u7edf\u7684\u9884\u7559\u7aef\u53e3.\n\n\n\u7528\u4e0a\u9762\u90a3\u4e2a\u547d\u4ee4\u5c31\u53ef\u4ee5\u8f7b\u677e\u7684\u5411\u540c\u4e8b\u4eec\u5c55\u793a\u4f60\u7684\u7f51\u9875\u4e86.\u5f53\u4f60\u8fd0\u884c\u4f60\u7684web\u670d\u52a1\u65f6,\u5176\u4ed6\u4eba\u53ef\u4ee5\u901a\u8fc7\u952e\u5165\nhttp://\nyour_machines_ip_address\n:\nport\n/\n\u6765\u8fdb\u5165\u4f60\u7684web\u5e94\u7528.\u5f53\u7136\u8fd9\u4e5f\u8981\u53d6\u51b3\u4e8e\u4f60\u7684\u7f51\u7edc\u8bbe\u7f6e.\u5728\u8054\u901a\u4e4b\u524d\u4f60\u6216\u8bb8\u8981\u8bbe\u7f6e\u4ee5\u4e0b\u9632\u706b\u5899\u6216\u8005\u4ee3\u7406.\u5982\u679c\u4f60\u4e0d\u80fd\u8fdc\u7a0b\u8fde\u63a5\u4f60\u7684\u7f51\u7ad9,\u90a3\u4e48\u8bf7\u68c0\u67e5\u4ee5\u4e0b\u4f60\u7684\u7f51\u7edc.\n\n\n\n\nNote\n\n\ndjango-admin.py\n\u548c\nmanage.py\n\u63d0\u4f9b\u4e86\u8bb8\u591a\u6709\u7528\u7684\u8282\u7701\u65f6\u95f4\u7684\u529f\u80fd.\ndjango-admin.py\n\u53ef\u4ee5\u521b\u5efa\u9879\u76ee\u548c\u5e94\u7528\u4ee5\u53ca\u4e00\u4e9b\u5176\u4ed6\u7684\u547d\u4ee4.\u4e0d\u5e26\u53c2\u6570\u7684\u6267\u884c\u811a\u672c\u53ef\u4ee5\u53c2\u770b\u5404\u81ea\u7684\u8bf4\u660e.\nofficial Django documentation provides a detailed list and explanation of each possible command\n \u6709\u8be6\u7ec6\u7684\u4ecb\u7ecd.\n\n\n\n\n\u5982\u679c\u4f60\u6b63\u5728\u4f7f\u7528\u7248\u672c\u63a7\u5236,\u90a3\u4e48\u73b0\u5728\u53ef\u4ee5\u63d0\u4ea4\u4f60\u7684\u66f4\u6539\u5230\u5de5\u4f5c\u7a7a\u95f4\u4e86.\u5982\u679c\u4f60\u5fd8\u8bb0\u8be5\u7528\u4ec0\u4e48\u547d\u4ee4,\u53ef\u4ee5\u770b\u770b[crash course on GIT][23].\n\n\n4.3 \u521b\u5efaDjango\u5e94\u7528\n\n\n\u901a\u8fc7\u4e00\u7cfb\u5217\u7684\u8bbe\u7f6e\u548c\u5404\u79cd\u5e94\u7528\u5c31\u53ef\u4ee5\u7ec4\u6210\u4e00\u4e2aweb\u5e94\u7528\u548c\u7f51\u7ad9,\u8fd9\u5c31\u662fDjango.\u719f\u7ec3\u7684\u4f7f\u7528\u5b83\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u8f6f\u4ef6\u5de5\u7a0b\u5b9e\u8df5.\u5982\u679c\u4f60\u5f00\u53d1\u4e86\u8bb8\u591a\u7684\u5c0f\u578b\u5e94\u7528,\u7406\u8bba\u4e0a\u8bb2\u4f60\u53ef\u4ee5\u975e\u5e38\u5bb9\u6613\u7684\u628a\u5e94\u7528\u653e\u5165\u5176\u4ed6\u7684Django\u9879\u76ee\u91cc.\u4e0d\u8981\u91cd\u590d\u9020\u8f6e\u5b50!\n\n\n\u6bcf\u4e2aDjango\u5e94\u7528\u7684\u5b58\u5728\u90fd\u5bf9\u5e94\u5b83\u5b9e\u73b0\u7684\u4e00\u79cd\u529f\u80fd.\u9488\u5bf9\u4e0d\u540c\u7684\u529f\u80fd\u4f60\u9700\u8981\u521b\u5efa\u4e0d\u540c\u7684\u5e94\u7528.\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u9879\u76ee,\u5b83\u5305\u62ec\u4e00\u4e2a\u6295\u7968app,\u4e00\u4e2a\u6ce8\u518capp\u548c\u4e00\u4e9b\u5185\u5bb9\u76f8\u5173\u7684app.\u5728\u5176\u4ed6\u7684\u9879\u76ee\u91cc,\u6211\u4eec\u5e0c\u671b\u80fd\u91cd\u7528\u6295\u7968\u548c\u6ce8\u518capp,\u5e76\u4e14\u7528\u4ed6\u4eec\u6765\u53d1\u9001\u4e0d\u540c\u7684\u5185\u5bb9.\u8fd9\u91cc\u6709\u8bb8\u591a\u5e94\u7528\u53ef\u4ee5\n\u4e0b\u8f7d\n\u5e76\u7528\u5230\u4f60\u7684\u9879\u76ee\u91cc.\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u8981\u5b66\u4e60\u5982\u4f55\u521b\u5efa\u4f60\u81ea\u5df1\u7684\u5e94\u7528.\n\n\n\u4e00\u5f00\u59cb\u6211\u4eec\u9700\u8981\u521b\u5efa\u540d\u5b57\u53ebRango\u7684\u5e94\u7528.\u5728\u4f60\u7684Django\u9879\u76ee\u7684\u76ee\u5f55\u91cc(\u4f8b\u5982\nworkspace\n/tango_with_django_project\n),\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4.\n\n\n$ python manage.py startapp rango\n\n\n\n\n\u8fd9\u4e2a\u547d\u4ee4\u5728\u4f60\u7684\u9879\u76ee\u6839\u76ee\u5f55\u91cc\u521b\u5efa\u4e86\u4e00\u4e2a\u65b0\u7684\u540d\u53eb\nrango\n\u7684\u76ee\u5f55 - \u8fd9\u91cc\u9762\u5305\u542b\u4e865\u4e2aPython\u811a\u672c.\n\n\n\n\n__init__.py\n,\u548c\u6211\u4eec\u524d\u9762\u8bf4\u8fc7\u7684\u529f\u80fd\u4e00\u6837.\n\n\nmodels.py\n,\u4e00\u4e2a\u5b58\u50a8\u4f60\u7684\u5e94\u7528\u4e2d\u6570\u636e\u6a21\u578b\u7684\u5730\u65b9 - \u5728\u8fd9\u91cc\u63cf\u8ff0\u6570\u636e\u7684\u5b9e\u4f53\u548c\u5173\u7cfb.\n\n\ntests.py\n,\u5b58\u50a8\u4f60\u5e94\u7528\u7684\u6d4b\u8bd5\u4ee3\u7801.\n\n\nviews.py\n,\u5728\u8fd9\u91cc\u5904\u7406\u7528\u6237\u8bf7\u6c42\u548c\u54cd\u5e94.\n\n\nadmin.py\n,\u5728\u8fd9\u91cc\u4f60\u53ef\u4ee5\u5411Django\u6ce8\u518c\u4f60\u7684\u6a21\u578b,\u5b83\u4f1a\u4e3a\u4f60\u521b\u5efaDjango\u7684\u7ba1\u7406\u754c\u9762.\n\n\n\n\nviews.py\n\u548c\nmodels.py\n\u5728\u6bcf\u4e2a\u5e94\u7528\u4e2d\u90fd\u8981\u7528\u5230,\u4ed6\u4eec\u4fe9\u662fDjango\u8bbe\u8ba1\u6a21\u5f0f\u7684\u7ec4\u6210\u90e8\u5206,\u4f8b\u5982Model-View-Template\u6a21\u5f0f.\u4f60\u53ef\u4ee5\u901a\u8fc7\nthe official Django documentation\n\u6765\u4e86\u89e3\u8be6\u7ec6\u7684\u4fe1\u606f.\n\n\n\u5728\u4f60\u521b\u5efa\u6a21\u578b\u548c\u89c6\u56fe\u4e4b\u524d,\u4f60\u5fc5\u987b\u8981\u544a\u8bc9Django\u4f60\u7684\u65b0\u5e94\u7528\u7684\u5b58\u5728.\u6240\u4ee5\u4f60\u5fc5\u987b\u4fee\u6539\u4f60\u914d\u7f6e\u76ee\u5f55\u91cc\u7684\nsettings.py\n\u6587\u4ef6.\u6253\u5f00\u6587\u4ef6\u627e\u5230\nINSTALLED_APPS\n\u5143\u7ec4.\u5728\u5143\u7956\u7684\u6700\u540e\u9762\u589e\u52a0\nrango\n.\n\n\nINSTALLED_APPS = (\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'rango',\n)\n\n\n\n\n\u901a\u8fc7\u8fd0\u884c\u670d\u52a1\u6765\u68c0\u67e5\u4f60\u7684\u5e94\u7528\u662f\u5426\u88ab\u6dfb\u52a0.\u5982\u679c\u8fd0\u884c\u6b63\u5e38,\u90a3\u4e48\u4f60\u7684\u5e94\u7528\u5c31\u6210\u529f\u52a0\u5165.\n\n\n4.4 \u521b\u5efa\u89c6\u56fe\n\n\n\u65e2\u7136\u6211\u4eec\u5df2\u7ecf\u521b\u5efa\u597dRango,\u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u7b80\u5355\u7684\u89c6\u56fe.\u4f5c\u4e3a\u6211\u4eec\u7684\u7b2c\u4e00\u4e2a\u89c6\u56fe,\u6211\u4eec\u5c31\u7b80\u5355\u7684\u628a\u6587\u672c\u4f20\u9001\u7ed9\u5ba2\u6237\u7aef - \u6211\u4eec\u73b0\u5728\u4e0d\u5fc5\u5173\u5fc3\u6a21\u578b\u6216\u8005\u6a21\u677f.\n\n\n\u7528\u4f60\u559c\u6b22\u7684IDE\u6253\u5f00\u4f4d\u4e8e\nrango\n\u76ee\u5f55\u91cc\u7684\nviews.py\n\u6587\u4ef6.\u5220\u9664\u6ce8\u91ca\n# Create your views here\n.\u73b0\u5728\u4f60\u5f97\u5230\u4e00\u4e2a\u7a7a\u6587\u4ef6.\n\n\n\u53ef\u4ee5\u52a0\u5165\u5982\u4e0b\u4ee3\u7801.\n\n\nfrom django.http import HttpResponse\n\ndef index(request):\n    return HttpResponse(\nRango says hey there world!\n)\n\n\n\n\n\n\u8ba9\u6211\u4eec\u9010\u884c\u5206\u6790.\n\n\n\n\n\u6211\u4eec\u7b2c\u4e00\u884c\u9996\u5148\u4ece\ndjango.http\n\u6a21\u5757\u5bfc\u5165\nHttpResponse\n\u5bf9\u8c61.\n\n\n\u5728\nviews.py\n\u6587\u4ef6\u91cc\u6bcf\u4e2a\u89c6\u56fe\u5bf9\u5e94\u4e00\u4e2a\u5355\u72ec\u7684\u51fd\u6570.\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u6211\u4eec\u53ea\u521b\u5efa\u4e86\u4e00\u4e2a\nindex\n\u89c6\u56fe.\n\n\n\u6bcf\u4e2a\u89c6\u56fe\u81f3\u5c11\u5e26\u4e00\u4e2a\u53c2\u6570 - \u4e00\u4e2a\u5728\ndjango.http\n\u6a21\u5757\u7684\nHttpRequest\u5bf9\n\u8c61.\n\n\n\u6bcf\u4e2a\u89c6\u56fe\u90fd\u8981\u8fd4\u56de\u4e00\u4e2aHttpResponse\u5bf9\u8c61.\u672c\u4f8b\u4e2d\u8fd9\u4e2aHttpResponse\u5bf9\u8c61\u628a\u4e00\u4e2a\u5b57\u7b26\u4e32\u5f53\u505a\u53c2\u6570\u4f20\u9012\u7ed9\u5ba2\u6237\u7aef.\n\n\n\n\n\u867d\u7136\u5df2\u7ecf\u521b\u5efa\u4e86\u89c6\u56fe,\u4f46\u662f\u5982\u679c\u60f3\u8ba9\u522b\u4eba\u770b\u5230\u5b83,\u4f60\u5fc5\u987b\u7528\nURL\n\u6620\u5c04\u8fd9\u4e2a\u89c6\u56fe.\n\n\n4.5 URL\u6620\u5c04\n\n\n\u5728\nrango\n\u76ee\u5f55\u91cc,\u6211\u4eec\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u53eb\u505a\nurls.py\n\u7684\u6587\u4ef6.\u6587\u4ef6\u91cc\u662f\u53ef\u4ee5\u8bbe\u7f6e\u4f60\u7684\u5e94\u7528\u6620\u5c04\u5230URL(\u4f8b\u5982'http://www.tangowithdjango.com/rango/').\n\n\nfrom django.conf.urls import patterns, url\nfrom rango import views\n\nurlpatterns = patterns('',\n        url(r'^$', views.index, name='index'))\n\n\n\n\n\u8fd9\u6bb5\u4ee3\u7801\u5bfc\u5165Django\u81ea\u5e26\u7684\u6620\u5c04URL\u673a\u5236.\u5bfc\u5165\nrango\n\u7684\nview\n\u6a21\u5757\u5f15\u5165\u6211\u4eec\u5148\u524d\u5efa\u7acb\u7684\u89c6\u56fe.\n\n\n\u4e3a\u4e86\u5efa\u7acb\u6620\u5c04,\u6211\u4eec\u7528\u5230\u4e86tuple.\u5728Django\u91cc\u5fc5\u987b\u7528\nurlpatterns\n\u6765\u547d\u540d\u8fd9\u4e2a\n\u5143\u7ec4\n.\u8fd9\u4e2a\nurlpatterns\n\u5143\u7ec4\u5305\u542b\u4e00\u4e9b\ndjango.conf.urls.url()\n\u51fd\u6570\u7684\u8c03\u7528,\u800c\u6bcf\u4e2a\u51fd\u6570\u91cc\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u7684\u6620\u5c04.\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u91cc,\u6211\u4eec\u53ea\u7528\u4e86\nurl()\n\u4e00\u6b21,\u6240\u4ee5\u6211\u4eec\u53ea\u6620\u5c04\u4e86\u4e00\u4e2aURL.\ndjango.conf.urls.url()\n\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u6b63\u5219\u8868\u8fbe\u5f0f\n^$\n,\u6307\u7684\u662f\u5339\u914d\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32.\u6240\u6709\u5339\u914d\u8fd9\u4e2a\u6a21\u5f0f\u7684URL\u90fd\u4f1a\u6620\u5c04\u5230\nviews.index()\n\u8fd9\u4e2a\u89c6\u56fe.\u7528\u6237\u7684\u8bf7\u6c42\u4fe1\u606f\u4f1a\u5305\u542b\u5728\nHttpRequest\n\u5bf9\u8c61\u91cc\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u89c6\u56fe.\u6211\u4eec\u7ed9\nurl()\n\u51fd\u6570\u53ef\u9009\u53c2\u6570\nname\n\u8d4b\u503c\u4e3a\nindex\n.\n\n\n\n\nNote\n\n\n\u4f60\u6216\u8bb8\u4ee5\u4e3a\u6620\u5c04\u4e00\u4e2a\u7a7aURL\u6beb\u65e0\u610f\u4e49 - \u5b83\u6709\u4ec0\u4e48\u7528?\u5f53\u6211\u4eec\u8fdb\u884cURL\u5339\u914d\u65f6,\u53ea\u8003\u8651\u5230\u4e86\u539f\u59cbURL\u5b57\u7b26\u4e32\u7684\u4e00\u90e8\u5206.\u8fd9\u662f\u56e0\u4e3a\u6211\u4eec\u7684Django\u9879\u76ee\u4f1a\u4f18\u5148\u5904\u7406\u539f\u59cbURL\u5b57\u7b26\u4e32(\u4f8b\u5982\nhttp://www.tangowithdjango.com/rango/\n).\u4e00\u65e6\u88ab\u5904\u7406,\u5b83\u5c06\u4f1a\u88ab\u5220\u9664,\u7559\u7ed9\u5269\u4e0b\u7684\u90e8\u5206\u53bb\u505a\u5339\u914d.\u5728\u672c\u4f8b\u4e2d,\u4f1a\u5269\u4e0b\u7a7a\u5b57\u7b26\u4e32 - \u6240\u4ee5\u7a7a\u5b57\u7b26\u4e32\u4f1a\u8fdb\u884c\u5339\u914d!\n\n\n\n\n\n\nNote\n\n\ndjango.conf.urls.url()\n\u51fd\u6570\u7684\nname\n\u53c2\u6570\u662f\u4e2a\u53ef\u9009\u53c2\u6570.Django\u63d0\u4f9b\u8fd9\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u8ba9\u4f60\u533a\u522b\u4e0d\u540c\u7684\u6620\u5c04.\u6709\u65f6\u5019\u8fde\u4e2a\u4e0d\u540c\u7684URL\u6620\u5c04\u8868\u8fbe\u5f0f\u4f1a\u8c03\u7528\u76f8\u540c\u7684\u89c6\u56fe.\nname\n\u53ef\u4ee5\u8ba9\u4f60\u8f7b\u677e\u7684\u533a\u5206\u4ed6\u4eec - \u6709\u4e9b\u65f6\u5019\u53cd\u54cdURL\u5339\u914d\u4f1a\u5f88\u6709\u7528.\u66f4\u591a\u7ec6\u8282\u67e5\u770b\nthe Official Django documentation\n .\n\n\n\n\n\u4f60\u6216\u8bb8\u5df2\u7ecf\u770b\u5230\u5728\u9879\u76ee\u76ee\u5f55\u91cc\u5df2\u7ecf\u5b58\u5728\u4e86\u4e00\u4e2a\nurls.py\n\u6587\u4ef6.\u4e3a\u4ec0\u4e48\u521b\u5efa\u53e6\u4e00\u4e2a\u5462?\u4e8b\u5b9e\u4e0a,\u4f60\u53ef\u4ee5\u5427\u6240\u6709\u7684\u9879\u76ee\u5e94\u7528\u7684URL\u90fd\u653e\u5728\u8fd9\u4e2a\u6587\u4ef6\u91cc.\u4f46\u662f\u8fd9\u662f\u4e00\u4e2a\u574f\u7684\u4e60\u60ef,\u8fd9\u56de\u589e\u52a0\u4f60\u7684\u5e94\u7528\u7684\u8026\u5408.\u5404\u81ea\u5e94\u7528\u7684\nurls.py\n\u6587\u4ef6\u5b58\u653e\u5404\u81ea\u5e94\u7528\u7684URL.\u4e3a\u4e86\u6700\u5c0f\u8026\u5408,\u4f60\u53ef\u4ee5\u7a0d\u540e\u628a\u5b83\u4eec\u52a0\u5165\u5230\u9879\u76ee\u76ee\u5f55\u7684\nurls.py\n\u6587\u4ef6\u91cc.\n\n\n\u8fd9\u5c31\u610f\u5473\u7740\u6211\u4eec\u9700\u8981\u8bbe\u7f6e\ntango_with_django_project\n\u91cc\u7684\nurls.py\n\u6587\u4ef6,\u628a\u6211\u4eec\u7684Rango\u5e94\u7528\u548cDjango\u8fde\u63a5.\n\n\n\u6211\u4eec\u8be5\u600e\u4e48\u505a\u5462?\u5f88\u7b80\u5355.\u6253\u5f00\u9879\u76ee\u76ee\u5f55\u91cc\u7684\nurls.py\n\u6587\u4ef6.\u5728\u4f60\u7684\u5de5\u4f5c\u76ee\u5f55\u91cc,\u6709\u53ef\u80fd\u662f\nworkspace\n/tango_with_django_project/tango_with_django_project/urls.py\n\u50cf\u4e0b\u9762\u4e00\u6837\u66f4\u65b0\nurlpatterns\n\u5143\u7ec4.\n\n\nurlpatterns = patterns('',\n    # Examples:\n    # url(r'^$', 'tango_with_django_project_17.views.home', name='home'),\n    # url(r'^blog/', include('blog.urls')),\n\n    url(r'^admin/', include(admin.site.urls)),\n    url(r'^rango/', include('rango.urls')), # ADD THIS NEW TUPLE!\n)\n\n\n\n\n\u65b0\u589e\u7684\u6620\u5c04\u5c06\u4f1a\u5bfb\u627e\u5339\u914d\n^rango/\n\u7684url\u5b57\u7b26\u4e32.\u5982\u679c\u5339\u914d\u6210\u529f\u7684\u8bdd\u5c06\u4f1a\u4f20\u9012\u7ed9\nrango.urls\n(\u6211\u4eec\u5df2\u7ecf\u8bbe\u7f6e\u8fc7\u4e86).\ninclude()\n\u51fd\u6570\u662f\u4ece\ndjango.conf.urls\n\u5bfc\u5165\u7684.\u6574\u4e2aURL\u5b57\u7b26\u4e32\u5904\u7406\u8fc7\u7a0b\u5982\u4e0b\u56fe\u6240\u793a.\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d,\u57df\u540d\u9996\u5148\u88ab\u63d0\u53d6\u51fa\u6765\u7136\u540e\u7559\u4e0b\u5176\u4ed6\u7684url\u5b57\u7b26\u4e32(\nrango/\n)\u4f20\u9012\u7ed9\u6211\u4eec\u7684tango_with_django_project,\u5728\u8fd9\u91cc\u5b83\u4f1a\u5339\u914d\u5e76\u53bb\u6389\nrango/\n\u7136\u540e\u628a\u7a7a\u5b57\u7b26\u4e32\u4f20\u9012\u7ed9rango\u5e94\u7528.Rango\u73b0\u5728\u5339\u914d\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32,\u5b83\u4f1a\u8fd4\u56de\u6211\u4eec\u521b\u9020\u7684\nindex()\n\u89c6\u56fe.\n\n\n\n\n\u91cd\u65b0\u542f\u52a8Django\u670d\u52a1\u7136\u540e\u8bbf\u95ee\nhttp://127.0.0.1:8000/rango\n.\u5982\u679c\u4e00\u5207\u987a\u5229,\u4f60\u5c06\u4f1a\u770b\u5230\nRango says hello world!\n.\u5c31\u50cf\u4e0b\u56fe\u6240\u793a.\n\n\n\n\n\u5728\u6bcf\u4e2a\u5e94\u7528\u4e2d,\u4f60\u90fd\u53ef\u4ee5\u521b\u5efa\u8bb8\u591aURL\u6620\u5c04.\u521d\u59cb\u6620\u5c04\u975e\u5e38\u7b80\u5355.\u4e0b\u9762\u6211\u4eec\u4f1a\u7528URL\u505a\u51fa\u66f4\u590d\u6742\u7684\u6620\u5c04.\n\n\n\u5bf9\u4e8e\u7406\u89e3Django\u7684URL\u673a\u5236\u975e\u5e38\u7684\u91cd\u8981.\u5982\u679c\u4f60\u4ecd\u6709\u4ec0\u4e48\u56f0\u60d1\u53ef\u4ee5\u67e5\u770b\nofficial Django documentation on URL\n,\u4ee5\u505a\u66f4\u8fdb\u4e00\u6b65\u7684\u4e86\u89e3.\n\n\n\n\nNote\n\n\nURL\u6a21\u5f0f\u4f7f\u7528\n\u6b63\u5219\u8868\u8fbe\u5f0f\n\u6765\u8fdb\u884c\u5339\u914d.\u5728Python\u4e2d\u5b66\u597d\u6b63\u5219\u8868\u8fbe\u5f0f\u975e\u5e38\u7684\u6709\u7528.Python\u5b98\u65b9\u6587\u6863\u5305\u542b\u4e86\nuserful guide on regular expressions\n, regexcheatsheet.com\u63d0\u4f9b\u4e86 \nneat summary of regular expressions\n.\n\n\n\n\n4.6 \u57fa\u672c\u6d41\u7a0b\n\n\n\u672c\u7ae0\u6240\u5b66\u7684\u5185\u5bb9\u5c06\u4f1a\u603b\u7ed3\u6210\u4e00\u4e2a\u5217\u8868.\u5728\u8fd9\u91cc\u6211\u4eec\u4e3a\u4e24\u4e2a\u4e0d\u540c\u5217\u8868.\n\n\n4.6.1 \u521b\u5efa\u65b0\u7684Django\u9879\u76ee\n\n\n\n\npython django-admin.py startproject \nname\n\u6765\u521b\u5efa\u9879\u76ee,\u8fd9\u91cc\nname\n\u662f\u4f60\u5e0c\u671b\u7684\u9879\u76ee\u540d.\n\n\n\n\n4.6.2 \u521b\u5efa\u65b0\u7684Django\u5e94\u7528\n\n\n\n\n$ python manage.py startapp \nappname\n\u6765\u521b\u5efa\u65b0\u7684\u5e94\u7528,\u8fd9\u91cc\nappname\n\u662f\u4f60\u7684\u5e94\u7528\u540d.\n\n\n\u901a\u8fc7\u628a\u65b0\u5e94\u7528\u540d\u5b57\u52a0\u5165\u5230\nsettings.py\n\u6587\u4ef6\u7684\nINSTALLED_APPS\n\u5143\u7ec4\u91cc\u6765\u544a\u8bc9Django\u9879\u76ee\u6dfb\u52a0\u4e86\u65b0\u7684\u5e94\u7528.\n\n\n\u5728\u9879\u76ee\u7684\nurls.py\n\u6587\u4ef6\u6620\u5c04\u5e94\u7528.\n\n\n\u5728\u5e94\u7528\u76ee\u5f55\u91cc\u521b\u5efa\nurls.py\n\u6587\u4ef6\u4f7fURL\u5b57\u7b26\u4e32\u6307\u5411\u89c6\u56fe.\n\n\n\u5728\u5e94\u7528\u7684\nview.py\n\u91cc,\u521b\u5efa\u7684\u89c6\u56fe\u8981\u786e\u4fdd\u8fd4\u56de\u4e00\u4e2a\nHttpResponse\n\u5bf9\u8c61.\n\n\n\n\n4.7 \u7ec3\u4e60\n\n\n\u606d\u559c\u4f60!\u4f60\u5df2\u7ecf\u521b\u5efa\u5e76\u8fd0\u884cRango\u4e86.\u8fd9\u662f\u91cc\u7a0b\u7891\u610f\u4e49\u7684\u4e8b\u4ef6.\u521b\u5efa\u89c6\u56fe\u548c\u6620\u5c04\u662f\u8fc8\u5411\u5f00\u53d1\u66f4\u590d\u6742\u53ef\u7528\u7684web\u5e94\u7528\u7684\u7b2c\u4e00\u6b65.\u73b0\u5728\u8bd5\u7740\u7ec3\u4e60\u4e00\u4e0b\u5de9\u56fa\u6240\u5b66.\n\n\n\n\n\u4fee\u6539\u7a0b\u5e8f,\u786e\u4fdd\u4f60\u77e5\u9053\u5982\u4f55\u628aURL\u6620\u5c04\u5230\u89c6\u56fe.\n\n\n\u521b\u7acb\u4e00\u4e2a\nabout\n\u89c6\u56fe,\u8fd4\u56de\nRango says here is the about page\n.\n\n\n\u628a\u8fd9\u4e2a\u89c6\u56fe\u6620\u5c04\u5230\n/rango/about/\n.\u5728\u8fd9\u4e00\u6b65\u91cc,\u4f60\u53ea\u9700\u8981\u7f16\u8f91rango\u5e94\u7528\u91cc\u7684\nurls.py\n\n\n\u4fee\u6539\nindex\n\u89c6\u56fe\u7684\nHttpResponse\n,\u4f7f\u5b83\u8fd4\u56de\u5305\u542babout\u9875\u9762\u7684\u94fe\u63a5.\n\n\n\u5728\nabout\n\u89c6\u56fe\u91cc\u4f7f\u5b83\u5305\u542b\u4e00\u4e2a\u56de\u5230\u4e3b\u9875\u7684\u94fe\u63a5.\n\n\n\u5982\u679c\u4f60\u8fd8\u6ca1\u600e\u4e48\u660e\u767d,\u8fd8\u662f\u53bb\u770b\u4e00\u4e0b\nDjango Tutorial\n.\n\n\n\n\n4.7.1 \u63d0\u793a\n\n\n\u5982\u679c\u611f\u89c9\u7ec3\u4e60\u6709\u56f0\u96be\u7684\u8bdd,\u4e0b\u9762\u5c06\u80fd\u5e2e\u52a9\u4f60\u5b8c\u6210\u7ec3\u4e60.\n\n\n\n\nindex\n\u89c6\u56fe\u91cc\u9700\u8981\u5305\u542b\nabout\n\u89c6\u56fe\u7684\u94fe\u63a5.\u8fd9\u4e2a\u5f88\u7b80\u5355 - \u52a0\u5165\nRango says: Hello world! \nbr/\n \na href='/rango/about'\nAbout\n/a\n\u8fd9\u6837\u7684\u8bed\u53e5\u5c31\u884c\u4e86.\u63a5\u4e0b\u6765\u6211\u4eec\u4f1a\u4f18\u5316\u8fd9\u4e9b\u9875\u9762\u7684.\n\n\n\u5339\u914d\nabout/\n\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u662f\nr^about/\n.\n\n\n\u8fd4\u56de\u4e3b\u9875\u7684\u94fe\u63a5\u662f\na href=\"/rango/\"\nIndex\n/a\n.\u8fd9\u4e2a\u7ed3\u6784\u548c\u4e0a\u9762\u7684\nabout\n\u9875\u9762\u91cc\u7684\u4e00\u6837.\n\n\n\n\n5 \u6a21\u677f\u548c\u9759\u6001\u5a92\u4f53\n\n\n\u5728\u672c\u7ae0\u91cc\u4f60\u5c06\u4f1a\u5b66\u5230\u6a21\u677f\u5f15\u64ce\u7684\u77e5\u8bc6\u540c\u65f6\u4e5f\u4f1a\u5b66\u4e60\u600e\u4e48\u5728\u4f60\u7684web\u9875\u9762\u6dfb\u52a0\u9759\u6001\u5a92\u4f53.\n\n\n5.1 \u4f7f\u7528\u6a21\u677f\n\n\n\u4e3a\u4e86\u521b\u5efa\u4e00\u4e2aDjango\u7f51\u9875,\u6211\u4eec\u9700\u8981\u628a\u8bb8\u591a\u4e1c\u897f\u90fd\u96c6\u4e2d\u5230\u4e00\u8d77.\u73b0\u5728\u6211\u4eec\u6709\u4e24\u4e2a\u89c6\u56fe\u4ee5\u53ca\u4e00\u4e9b\u8fde\u63a5\u5b83\u4eec\u7684\u6620\u5c04.\u4e0b\u9762\u6211\u4eec\u5c06\u5b66\u4e60\u5982\u4f55\u628a\u6a21\u677f\u52a0\u5165\u5230\u91cc\u9762.\n\n\n\u8bbe\u8ba1\u4f18\u79c0\u7684\u7f51\u7ad9\u4f1a\u91cd\u7528\u4ed6\u4eec\u7684\u5e03\u5c40\u7ed3\u6784.\u4f60\u662f\u5426\u770b\u5230\u8fc7\u540c\u6837header\u548cfooter\u7684\u9875\u9762,\u8fd9\u4e9b\n\u91cd\u590d\u5e03\u5c40\n\u4f1a\u63d0\u9ad8\u7f51\u7ad9\u7684\u7ec4\u7ec7\u6027\u540c\u65f6\u4f1a\u7ed9\u4eba\u8fde\u7eed\u611f.Django\u63d0\u4f9b\u4e86\u4e0e\u5e94\u7528\u903b\u8f91\u4e0a\u53ef\u5206\u7684\n\u6a21\u677f\n\u6765\u4e3a\u5f00\u53d1\u8005\u66f4\u5bb9\u6613\u7684\u5b9e\u73b0\u8fd9\u6837\u7684\u8bbe\u8ba1\u76ee\u6807.\u5728\u672c\u7ae0,\u4f60\u5c06\u4f1a\u521b\u5efa\u4e00\u4e2a\u6a21\u677f\u6765\u521b\u5efa\u4e00\u4e2aHTML\u9875\u9762.\u8fd9\u4e2a\u6a21\u677f\u5c06\u4f1a\u4f20\u9012\u7ed9Django\u7684\u89c6\u56fe.\u5728\u7b2c7\u7ae0,\u6211\u4eec\u4f1a\u7528\u6a21\u677f\u505a\u66f4\u590d\u6742\u7684\u4e8b\u60c5.\n\n\n5.1.1 \u8bbe\u7f6e\u6a21\u677f\u76ee\u5f55\n\n\n\u4e3a\u4e86\u5efa\u7acb\u548c\u542f\u52a8\u6a21\u677f,\u4f60\u9700\u8981\u8bbe\u7f6e\u4e00\u4e2a\u50a8\u5b58\u6a21\u677f\u7684\u76ee\u5f55.\n\n\n\u5728\u4f60\u7684Django\u9879\u76ee\u76ee\u5f55\u91cc(\u4f8b\u5982\nworkspace\n/tango_with_django_project/)\n),\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u76ee\u5f55\u53eb\u505a\ntemplates\n.\u5728\u8fd9\u4e2a\u76ee\u5f55\u91cc\u521b\u5efa\u53e6\u4e00\u4e2a\nrango\n\u76ee\u5f55.\u6240\u4ee5\u6211\u4eec\u5c06\u5728\nworkspace\n/tango_with_django_project/templates/rango/\n\u76ee\u5f55\u91cc\u5b58\u653e\u5173\u4e8e\nrango\n\u5e94\u7528\u7684\u6a21\u677f.\n\n\n\u4e3a\u4e86\u544a\u8bc9Django\u6211\u4eec\u7684\u6a21\u677f\u5728\u54ea\u91cc,\u6211\u4eec\u9700\u8981\u4fee\u6539\u9879\u76ee\u7684\nsettings.py\n\u6587\u4ef6.\u627e\u5230\nTEMPLATE_DIRS\n\u5e76\u628a\u521b\u5efa\u7684\ntemplates\n\u76ee\u5f55\u8def\u5f84\u52a0\u5165\u5230\u91cc\u9762.\n\n\nTEMPLATE_DIRS = ['\nworkspace\n/tango_with_django_project/']\n\n\n\n\n\u6ce8\u610f\u4f60\u9700\u8981\u63d0\u4f9b\ntemplates\n\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84.\u5982\u679c\u4f60\u662f\u4e00\u4e2a\u56e2\u961f\u7684\u4e00\u5458\u6216\u8005\u5de5\u4f5c\u5728\u4e0d\u540c\u7684\u7535\u8111\u4e0a,\u8fd9\u5728\u5c06\u6765\u53ef\u80fd\u51fa\u73b0\u95ee\u9898.\u4f60\u53ef\u4ee5\u6709\u4e0d\u540c\u7684\u7528\u6237\u540d\u8fd9\u610f\u5473\u7740\u4f60\nworkspace\n\u76ee\u5f55\u6709\u4e0d\u540c\u7684\u8def\u5f84.\u5982\u679c\u662f\u786c\u7f16\u7801\u8def\u5f84\u7684\u8bdd\u4e0a\u9762\u7684\u8def\u5f84\u5728\u4e0d\u540c\u7535\u8111\u4e0a\u662f\u4e0d\u540c\u7684.\u5f53\u7136,\u4f60\u9700\u8981\u4e3a\u4e0d\u540c\u7684\u8bbe\u7f6e\u589e\u52a0\u4e0d\u540c\u76ee\u5f55,\u96be\u9053\u6ca1\u6709\u4ec0\u4e48\u597d\u7684\u65b9\u6cd5\u4e86\u5417?\n\n\n\n\nWarning\n\n\n\u786c\u7f16\u7801\n\u8def\u5f84\u7edd\u903c\u5e26\u4f60\u901a\u5f80\u5730\u72f1.\u786c\u7f16\u7801\u5728\n\u8f6f\u4ef6\u5de5\u7a0b\n\u91cc\u662f\u7edd\u5bf9\u62b5\u5236\u7684\u4e00\u79cd\u6a21\u5f0f,\u5b83\u4f1a\u8ba9\u4f60\u7684\u9879\u76ee\u4e0d\u5229\u4e8e\n\u79fb\u690d\n.\n\n\n\n\n5.1.2 \u52a8\u6001\u8def\u5f84\n\n\n\u89e3\u51b3\u786c\u7f16\u7801\u8def\u5f84\u95ee\u9898\u7684\u65b9\u6cd5\u662f\u5229\u7528Python\u5185\u5efa\u51fd\u6570\u6765\u52a8\u6001\u7684\u521b\u5efa\nteemplates\n\u76ee\u5f55\u7684\u8def\u5f84.\u901a\u8fc7\u8fd9\u4e2a\u65b9\u6cd5\u4f60\u4e0d\u5fc5\u8003\u8651\u4f60\u7684Django\u9879\u76ee\u4f4d\u7f6e\u5c31\u80fd\u83b7\u53d6\u5b83\u7684\u7edd\u5bf9\u8def\u5f84.\u8fd9\u5c06\u5229\u4e8e\u4f60\u7684\u9879\u76ee\u4ee3\u7801\u7684\u79fb\u690d.\n\n\n\u5728Djang1.7\u7684\nsettings.py\n\u6587\u4ef6\u91cc\u5305\u542b\u4e86\u4e00\u4e2a\u53d8\u91cf\nBASE_DIR\n.\u8fd9\u4e2a\u53d8\u91cf\u4f1a\u4fdd\u5b58\nsettings.py\n\u6587\u4ef6\u7684\u8def\u5f84.\u8fd9\u91cc\u9762\u7528\u4e86\u4e00\u4e2a\u7279\u6b8a\u7684\n__file__\n\u5c5e\u6027,\u5b83\u80fd\u83b7\u53d6\n\u6a21\u5757\u7684\u7edd\u5bf9\u8def\u5f84\n.\u7136\u540e\u901a\u8fc7\u8c03\u7528\nos.path.dirname()\n\u6765\u63d0\u4f9b\u7edd\u5bf9\u8def\u5f84\u7684\u76ee\u5f55.\u518d\u6b21\u8c03\u7528\nos.path.dirname()\n\u6211\u4eec\u56de\u5f97\u5230\u4e0a\u5c42\u7684\u76ee\u5f55,\u6240\u4ee5\nBASE_DIR\n\u5185\u5bb9\u662f\nworkspace\n/tango_with_django_project/\n.\u5982\u679c\u4f60\u8fd8\u662f\u5f88\u597d\u5947\u7684\u8bdd\u4f60\u53ef\u4ee5\u8f93\u5165\u4e0b\u9762\u7684\u547d\u4ee4.\n\n\nprint __file__\nprint os.path.dirname(__file__)\nprint os.path.dirname(os.path.dirname(__file__))\n\n\n\n\n\u73b0\u5728\u8ba9\u6211\u4eec\u4f7f\u7528\u5b83\u770b\u4e00\u770b.\u5728\nsetting.py\n\u4e2d\u521b\u5efa\nTEMPLATE_PATH\n\u53d8\u91cf,\u7528\u5b83\u6765\u50a8\u5b58\ntemplates\n\u76ee\u5f55.\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\nos.path.join()\n\u51fd\u6570.\n\n\nTEMPLATE_PATH = os.path.join(BASE_DIR, 'templates')\n\n\n\n\n\u6211\u4eec\u7528\nos.path.join()\n\u51fd\u6570\u6765\u8fde\u63a5\nBASW_DIR\n\u53d8\u91cf\u548c\ntemplates\n,\u5b83\u5c06\u8fd4\u56de\nworkspace\n/tango_with_django_project/templates/\n.\u6211\u4eec\u53ef\u4ee5\u4e3a\nTEMPLATE_DIRS\n\u6dfb\u52a0\nTEMPLATE_PATH\n,\u5c31\u50cf\u4e0b\u9762\u4e00\u6837.\n\n\nTEMPLATE_DIRS = [\n    # Put strings here, like \n/home/html/django_templates\n or \nC:/www/django/templates\n.\n    # Always use forward slashes, even on Windows.\n    # Don't forget to use absolute paths, not relative paths.\n    TEMPLATE_PATH,\n]\n\n\n\n\n\u6211\u4eec\u53ef\u4ee5\u5427\nTEMPLATE_PATH\n\u653e\u5728\nsettings.py\n\u6a21\u5757\u7684\u5f00\u5934\u4ee5\u65b9\u4fbf\u6211\u4eec\u5bf9\u5b83\u7684\u4fee\u6539.\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u521b\u5efa\u53d8\u91cf\u6765\u5b58\u50a8\u6a21\u677f\u8def\u5f84.\n\n\n\n\nWarning\n\n\n\u5f53\u8fde\u63a5\u7cfb\u7edf\u8def\u5f84\u7684\u65f6\u5019\u7528\nos.path.join()\n\u662f\u4e00\u4e2a\u6bd4\u8f83\u597d\u7684\u65b9\u6cd5.\u7528\u8fd9\u79cd\u65b9\u6cd5\u53ef\u4ee5\u4fdd\u8bc1\u4f9d\u636e\u4f60\u7684\u64cd\u4f5c\u4e00\u540c\u6765\u6dfb\u52a0\u6b63\u786e\u7684\u5206\u9694\u7b26.\u5728POSIX\u517c\u5bb9\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a,\u659c\u6760\u7528\u6765\u5206\u5272\u76ee\u5f55,\u800c\u5728Windows\u7cfb\u7edf\u91cc\u7528\u7684\u662f\u53cd\u659c\u6760.\u5982\u679c\u4f60\u624b\u52a8\u4e3a\u8def\u5f84\u6dfb\u52a0\u5206\u9694\u7b26,\u90a3\u4e48\u4f60\u53ef\u80fd\u4f1a\u5728\u522b\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u64cd\u4f5c\u65f6\u5370\u53d1\u8def\u5f84\u9519\u8bef.\n\n\n\n\n5.1.3 \u6dfb\u52a0\u6a21\u677f\n\n\n\u5728\u6211\u4eec\u521b\u5efa\u6a21\u677f\u76ee\u5f55\u548c\u8bbe\u7f6e\u597d\u8def\u5f84\u4ee5\u540e,\u6211\u4eec\u9700\u8981\u5728\ntemplate/rango/\n\u76ee\u5f55\u91cc\u5efa\u7acb\u4e00\u4e2a\u53eb\u505a\nindex.html\n\u7684\u6587\u4ef6,\u5728\u65b0\u6587\u4ef6\u91cc\u52a0\u5165\u4e0b\u9762\u4ee3\u7801:\n\n\n!DOCTYPE html\n\n\nhtml\n\n\n    \nhead\n\n        \ntitle\nRango\n/title\n\n    \n/head\n\n\n    \nbody\n\n        \nh1\nRango says...\n/h1\n\n        hello world! \nstrong\n{{ boldmessage }}\n/strong\nbr /\n\n        \na href=\n/rango/about/\nAbout\n/a\nbr /\n\n    \n/body\n\n\n\n/html\n\n\n\n\n\n\u8fd9\u4e2aHTML\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a\u95ee\u5019\u7528\u6237\u7684\u7b80\u5355HTML\u9875\u9762.\u4f60\u53ef\u80fd\u6ce8\u610f\u5230\u4e86\u5728\u4e0a\u9762\u6709\u4e00\u6bb5\u975eHTML\u4ee3\u7801\n{{boldmessage}}\n.\u8fd9\u662fDjango\u6a21\u677f\u7684\u53d8\u91cf,\u4ed6\u53ef\u4ee5\u5728\u8f93\u51fa\u65f6\u4e3a\u8fd9\u4e2a\u53d8\u91cf\u8d4b\u503c.\u4e00\u4f1a\u6211\u4eec\u5c31\u4f1a\u7528\u5b83.\n\n\n\u4e3a\u4e86\u4f7f\u7528\u8fd9\u4e2a\u6a21\u677f,\u6211\u4eec\u9700\u8981\u91cd\u65b0\u4fee\u6539\u4e00\u4e0b\u6211\u4eec\u5148\u524d\u521b\u5efa\u7684\nindex()\n\u89c6\u56fe.\u8fd9\u6b21\u6211\u4eec\u4e0d\u8ba9\u4ed6\u4f20\u9012\u7b80\u5355\u7684\u4fe1\u606f,\u800c\u662f\u8ba9\u4ed6\u8fd4\u56de\u6211\u4eec\u7684\u6a21\u677f.\n\n\n\u5728\nrango/views.py\n\u91cc,\u786e\u5b9a\u6587\u4ef6\u5934\u90e8\u6709\u5982\u4e0b\u4ee3\u7801.\n\n\nfrom django.shortcuts import render\n\n\n\n\n\u4fee\u6539\nindex()\n\u89c6\u56fe\u51fd\u6570\u5982\u4e0b,\u6ce8\u91ca\u89e3\u91ca\u6bcf\u884c\u4f5c\u7528.\n\n\ndef index(request):\n\n    # Construct a dictionary to pass to the template engine as its context.\n    # Note the key boldmessage is the same as {{ boldmessage }} in the template!\n    context_dict = {'boldmessage': \nI am bold font from the context\n}\n\n    # Return a rendered response to send to the client.\n    # We make use of the shortcut function to make our lives easier.\n    # Note that the first parameter is the template we wish to use.\n\n    return render(request, 'rango/index.html', context_dict)\n\n\n\n\n\u9996\u5148\u6211\u4eec\u5efa\u7acb\u4e00\u4e2a\u5728\u6a21\u677f\u4e2d\u4f7f\u7528\u7684\u5b57\u5178,\u7136\u540e\u6211\u4eec\u8c03\u53d6\nrender()\n\u51fd\u6570.\u8fd9\u4e2a\u51fd\u6570\u63a5\u53d7\u7528\u6237\u7684\nrequest\n,\u6a21\u677f\u540d\u79f0\u548c\u5185\u5bb9\u5b57\u5178\u4f5c\u4e3a\u53c2\u6570.\u8fd9\u4e2a\nrender()\n\u51fd\u6570\u5c06\u4f1a\u628a\u8fd9\u4e9b\u53c2\u6570\u805a\u5408\u5230\u4e00\u8d77\u751f\u6210\u4e00\u4e2a\u5b8c\u6574\u7684HTML\u9875\u9762.\u7136\u540e\u8fd4\u56de\u7ed9\u7528\u6237\u7684\u6d4f\u89c8\u5668.\n\n\n\u5f53\u6a21\u677f\u6587\u4ef6\u88ab\u52a0\u8f7d\u5230Django\u6a21\u677f\u7cfb\u7edf\u91cc\u65f6,\u5b83\u6a21\u677f\u5185\u5bb9\u4e5f\u4f1a\u88ab\u521b\u5efa.\u5728\u7b80\u5355\u7684\u4f8b\u5b50\u91cc\u6a21\u677f\u7684\u5185\u5bb9\u662f\u5b57\u5178\u91cc\u7684\u6a21\u677f\u53d8\u91cf\u5bf9\u5e94\u7684Python\u53d8\u91cf.\u5728\u6211\u4eec\u65e9\u5148\u521b\u5efa\u7684\u6a21\u677f\u6587\u4ef6,\u6211\u4eec\u521b\u5efa\u4e86\u4e00\u4e2a\u53eb\u505a\nboldmessage\n\u7684\u6a21\u677f\u53d8\u91cf.\u5728\nindex(request)\n\u89c6\u56fe\u4f8b\u5b50\u4e2d,\u5b57\u7b26\u4e32\nI am bold font from the context\n\u6620\u5c04\u5230\u6a21\u677f\u53d8\u91cf\nboldmessage\n.\u6240\u4ee5\u5b57\u7b26\u4e32\nI am bold font from the context\n\u5c06\u4f1a\u66ff\u6362\u6a21\u677f\u91cc\u6240\u6709\u7684\n{{ boldmessage }}\n.\n\n\n\u73b0\u5728\u4f60\u5df2\u7ecf\u66f4\u65b0\u4e86\u89c6\u56fe,\u8fd0\u884cDjango\u670d\u52a1\u5e76\u8bbf\u95ee http://127.0.0.1:8000/rango/ .\u4f60\u8bb2\u4f1a\u770b\u5230\u5982\u4e0b\u56fe\u6240\u793a.\n\n\n\n\n\u5982\u679c\u4f60\u6ca1\u6709\u770b\u5230\u4e0a\u56fe,\u8bd5\u7740\u8bfb\u8bfb\u9519\u8bef\u65e5\u5fd7\u91cd\u65b0\u68c0\u67e5\u4e00\u4e0b\u521a\u624d\u4fee\u6539\u7684\u6587\u4ef6.\u786e\u5b9a\u6240\u6709\u6240\u6709\u7684\u66f4\u6539\u90fd\u6b63\u786e.\u901a\u5e38\u90fd\u662f\u5728\nsettings.py\n\u6587\u4ef6\u4e2d\u8bbe\u7f6e\u6a21\u677f\u8def\u5f84\u4ea7\u751f\u7684\u9519\u8bef.\u6709\u65f6\u5019\u9700\u8981\u6dfb\u52a0\nprint\n\u8bed\u53e5\u6765\u8f93\u51fa\nBASE_DIR\n\u548c\nTEMPLATE_PATH\n,\u786e\u4fdd\u5b83\u4eec\u4fe9\u8bbe\u7f6e\u7684\u6b63\u786e\u6027.\n\n\n\u8fd9\u4e2a\u4f8b\u5b50\u5c55\u793a\u4e86\u5728\u89c6\u56fe\u91cc\u5982\u4f55\u4f7f\u7528\u6a21\u677f.\u7136\u800c\u6211\u4eec\u4ec5\u4ec5\u63a5\u89e6\u4e86\u4e00\u4e9bDjango\u6a21\u677f\u65b9\u9762\u7684\u529f\u80fd.\u5728\u6211\u4eec\u7684\u6559\u7a0b\u91cc\u5c06\u4f1a\u63a5\u89e6\u5230\u66f4\u590d\u6742\u7684\u6a21\u677f\u5e94\u7528.\u540c\u65f6\u4f60\u53ef\u4ee5\u53c2\u8003\ntemplates from the official Django documentation\n.\n\n\n5.2 \u63d0\u4f9b\u9759\u6001\u5a92\u4f53\n\n\n\u73b0\u5728Rango\u7f51\u7ad9\u786e\u5b9e\u6bd4\u8f83\u539f\u59cb,\u6ca1\u6709\u6837\u5f0f\u4e5f\u6ca1\u6709\u56fe\u7247.\u4e3a\u4e86\u589e\u52a0\u6837\u5f0f\u548c\u5f15\u5165\u52a8\u6001\u884c\u4e3a\u6211\u4eec\u53ef\u4ee5\u5728\u6211\u4eec\u7684\u7f51\u7ad9\u91cc\u52a0\u5165\nCSS\n,\nJavascript\n\u548c\u56fe\u50cf\u8fd9\u4e9b\u9759\u6001\u5a92\u4f53.\u8fd9\u4e9b\u6587\u4ef6\u548c\u7f51\u9875\u6709\u4e00\u4e9b\u4e0d\u540c.\u8fd9\u662f\u56e0\u4e3a\u5b83\u4eec\u4e0d\u60f3HTML\u9875\u9762\u662f\u751f\u6210\u51fa\u6765\u7684.\u8fd9\u7ae0\u8282\u5c06\u4f1a\u6559\u4f60\u5982\u4f55\u5728Django\u9879\u76ee\u91cc\u8bbe\u7f6e\u9759\u6001\u5a92\u4f53.\u6211\u4eec\u5c06\u4f1a\u4e3a\u6211\u4eec\u7684\u6a21\u677f\u6dfb\u52a0\u4e00\u4e9b\u9759\u6001\u5a92\u4f53.\n\n\n5.2.1 \u8bbe\u7f6e\u9759\u6001\u5a92\u4f53\u76ee\u5f55\n\n\n\u4e3a\u4e86\u8bbe\u7f6e\u9759\u6001\u5a92\u4f53,\u4f60\u9700\u8981\u8bbe\u7acb\u5b58\u50a8\u5b83\u4eec\u7684\u76ee\u5f55.\u5728\u4f60\u7684\u9879\u76ee\u76ee\u5f55(\u4f8b\u5982\nworkspace\n/tango_with_django_project/\n),\u521b\u5efa\u53eb\u505a\nstatic\n\u7684\u76ee\u5f55.\u5728\nstatic\n\u91cc\u518d\u521b\u5efa\u4e00\u4e2a\nimages\n\u76ee\u5f55.\n\n\n\u73b0\u5728\u5728\nstatic/images\n\u76ee\u5f55\u91cc\u653e\u7f6e\u4e00\u4e2a\u56fe\u7247.\u5982\u4e0b\u56fe\u6240\u793a\u6211\u4eec\u9009\u62e9\u4e00\u5f20\u53d8\u8272\u9f99\u7684\u56fe\u6848\u6765\u505a\u6211\u4eec\u9879\u76ee\u7684\u5409\u7965\u7269.\n\n\n\n\n\u5c31\u50cf\u5148\u524d\n`templates\n\u76ee\u5f55\u4e00\u6837\u6211\u4eec\u9700\u8981\u544a\u8bc9Django\u6211\u4eec\u521b\u5efa\u4e86\nstatic\n\u76ee\u5f55.\n\n\n\u5728\nsettings.py\n\u6587\u4ef6,\u6211\u4eec\u9700\u8981\u66f4\u65b0\u4e24\u4e2a\u53d8\u91cf\nSTATIC_URL\n\u548c\nSTATICFILES_DIRS\n\u5143\u7ec4,\u50cf\u4e0b\u9762\u4e00\u6837\u521b\u5efa\u4e00\u4e2a\u50a8\u5b58\u9759\u6001\u76ee\u5f55(\nSTATIC_PATH\n)\u7684\u53d8\u91cf.\n\n\nSTATIC_PATH = os.path.join(BASE_DIR,'static')\n\nSTATIC_URL = '/static/' # You may find this is already defined as such.\n\nSTATICFILES_DIRS = (\n    STATIC_PATH,\n)\n\n\n\n\n\u7b2c\u4e00\u4e2a\u53d8\u91cf\nSTATIC_URL\n\u5b9a\u4e49\u4e86\u5f53Django\u8fd0\u884c\u65f6Django\u5e94\u7528\u5bfb\u627e\u9759\u6001\u5a92\u4f53\u7684\u5730\u5740.\u4f8b\u5982,\u50cf\u6211\u4eec\u4e0a\u9762\u7684\u4ee3\u7801\u4e00\u6837\u5427\nSTATIC_URL\n\u8bbe\u7f6e\u6210\n/static/\n,\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7\nhttp://127.0.0.1:8000/static/\n\u6765\u8bbf\u95ee\u5b83\u4e86. \nofficial documentation on serving up static media\n \u8b66\u544a\u6211\u4eec\u8981\u6ce8\u610f\u659c\u6760\u7684\u4e66\u5199.\u5982\u679c\u4e0d\u8fd9\u4e48\u8bbe\u7f6e\u5c06\u4f1a\u5f15\u8d77\u4e00\u5927\u5806\u9ebb\u70e6.\n\n\nSTATIC_URL\n\u5b9a\u4e49\u4e86web\u670d\u52a1\u94fe\u63a5\u5a92\u4f53\u7684URL\u5730\u5740,\nSTATICFILES_DIRS\n\u5141\u8bb8\u4f60\u5b9a\u4e49\u65b0\u7684\nstatic\n\u76ee\u5f55.\u50cf\nTEMPLATE_DIRS\n\u5143\u7ec4\u4e00\u6837.\nSTATICFILES_DIRS\n\u9700\u8981\nstatic\n\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84.\u8fd9\u91cc,\u6211\u4eec\u91cd\u65b0\u75285.1\u7ae0\u7684\nBASE_DIR\n\u53d8\u91cf\u6765\u521b\u5efa\nSTATIC_PATH\n.\n\n\n\u5b8c\u6210\u4e86\u8fd9\u4e24\u4e2a\u8bbe\u7f6e\u540e,\u518d\u4e00\u6b21\u8fd0\u884c\u4f60\u7684Django\u670d\u52a1.\u5982\u679c\u6211\u4eec\u60f3\u8981\u67e5\u770b\u6211\u4eec\u7684Rango\u56fe\u7247,\u8bbf\u95ee\nhttp://127.0.0.1:8000/static/images/rango.jpg\n.\u5982\u679c\u6ca1\u6709\u51fa\u73b0\u8bf7\u67e5\u770b\nsetings.py\n\u6587\u4ef6\u662f\u5426\u8bbe\u7f6e\u6b63\u786e,\u5e76\u91cd\u542f\u670d\u52a1.\u5982\u679c\u51fa\u73b0\u4e86,\u8bd5\u7740\u52a0\u5165\u5176\u4ed6\u7c7b\u578b\u7684\u6587\u4ef6\u5230\nstatic\n\u76ee\u5f55\u5e76\u5728\u6d4f\u89c8\u5668\u4e0a\u8bbf\u95ee\u4ed6\u4eec.\n\n\n\n\nNote\n\n\n\u5728\u5f00\u53d1\u73af\u5883\u4e2d\u53ef\u4ee5\u4f60\u53ef\u4ee5\u7528\u8fd9\u79cd\u65b9\u6cd5\u6765\u63d0\u4f9b\u9759\u6001\u5a92\u4f53\u6587\u4ef6,\u4f46\u662f\u5728\u751f\u4ea7\u73af\u5883\u5c31\u4e0d\u592a\u9002\u5408\u4e86. \nofficial Django documentation on Deploymen\n\u63d0\u4f9b\u4e86\u5728\u751f\u4ea7\u73af\u5883\u5982\u4f55\u90e8\u7f72\u9759\u6001\u6587\u4ef6.\n\n\n\n\n5.3 \u9759\u6001\u5a92\u4f53\u6587\u4ef6\u548c\u6a21\u677f\n\n\n\u73b0\u5728\u4f60\u5df2\u7ecf\u4e3a\u4f60\u7684Django\u9879\u76ee\u8bbe\u7f6e\u4e86\u9759\u6001\u5a92\u4f53,\u4f60\u53ef\u4ee5\u5728\u4f60\u7684\u6a21\u677f\u91cc\u52a0\u5165\u8fd9\u4e9b\u5a92\u4f53.\n\n\n\u4e0b\u9762\u5c06\u5c55\u793ahi\u5982\u4f55\u52a0\u5165\u9759\u6001\u5a92\u4f53,\u6253\u5f00\u4f4d\u4e8e\nworkspace\n/templates/rango\n\u76ee\u5f55\u7684\nindex.html\n\u6587\u4ef6.\u50cf\u4e0b\u9762\u4e00\u6837\u4fee\u6539HTML\u6e90\u4ee3\u7801.\u65b0\u52a0\u5165\u4e24\u884c\u7528\u6ce8\u91ca\u6807\u793a.\n\n\n!DOCTYPE html\n\n\n{% load staticfiles %} \n!-- New line --\n\n\n\nhtml\n\n\n    \nhead\n\n        \ntitle\nRango\n/title\n\n    \n/head\n\n\n    \nbody\n\n        \nh1\nRango says...\n/h1\n\n        hello world! \nstrong\n{{ boldmessage }}\n/strong\nbr /\n\n        \na href=\n/rango/about/\nAbout\n/a\nbr /\n\n        \nimg src=\n{% static \nimages/rango.jpg\n %}\n alt=\nPicture of Rango\n /\n \n!-- New line --\n\n    \n/body\n\n\n\n/html\n\n\n\n\n\n\u9996\u5148,\u6211\u4eec\u9700\u8981\u4f7f\u7528\n{% load static %}\n\u6807\u7b7e\u6765\u4f7f\u7528\u9759\u6001\u5a92\u4f53.\u6240\u4ee5\u6211\u4eec\u624d\u53ef\u4ee5\u7528\n{% static \"rango.jpg\" %\n\u5728\u6a21\u677f\u91cc\u8c03\u7528\nstatic\n\u6587\u4ef6.Django\u6a21\u677f\u6807\u7b7e\u7528\n{ }\n\u6765\u8868\u793a.\u5728\u8fd9\u4e2a\u4f8b\u5b50\u91cc\u6211\u4eec\u7528\nstatic\n\u6807\u7b7e,\u5b83\u5c06\u4f1a\u628a\nSTATIC_URL\n\u548c\nrango.jpg\n\u8fde\u63a5\u8d77\u6765,\u5982\u4e0b\u6240\u793a.\n\n\nimg src=\n/static/images/rango.jpg\n alt=\nPicture of Rango\n /\n \n!-- New line --\n\n\n\n\n\n\u5982\u679c\u56e0\u4e3a\u4ec0\u4e48\u539f\u56e0\u56fe\u7247\u4e0d\u80fd\u52a0\u8f7d\u6211\u4eec\u53ef\u4ee5\u7528\u4e00\u4e9b\u6587\u672c\u6765\u4ee3\u66ff.\u8fd9\u5c31\u662f\nalt\n\u5c5e\u6027\u7684\u4f5c\u7528 - \u5982\u679c\u56fe\u7247\u52a0\u8f7d\u5931\u8d25\u5c31\u663e\u793a\nalt\n\u5c5e\u6027\u4e2d\u7684\u6587\u672c.\n\n\n\u597d\u4e86,\u8ba9\u6211\u4eec\u518d\u6b21\u8fd0\u884cDjango\u670d\u52a1\u8bbf\u95ee\nhttp://127.0.0.1:8000/rango\n.\u5e78\u8fd0\u7684\u8bdd\u53ef\u4ee5\u770b\u5230\u4e0b\u56fe.\n\n\n\n\n\u5f53\u4f60\u5e0c\u671b\u5728\u6a21\u677f\u91cc\u4f7f\u7528\u9759\u6001\u5a92\u4f53\u4f60\u9700\u8981\u8c03\u7528\n{% static %}\n\u51fd\u6570.\u4e0b\u9762\u7684\u4ee3\u7801\u5c06\u5c55\u793a\u7ed9\u4f60\u5982\u4f55\u5728\u4f60\u7684\u6a21\u677f\u91cc\u6dfb\u52a0Javascript,CSS\u548c\u56fe\u7247.\n\n\n!DOCTYPE html\n\n\n{% load static %}\n\n\nhtml\n\n\n    \nhead\n\n        \ntitle\nRango\n/title\n\n        \nlink rel=\nstylesheet\n href=\n{% static \ncss/base.css\n %}\n /\n \n!-- CSS --\n\n        \nscript src=\n{% static \njs/jquery.js\n %}\n/script\n \n!-- JavaScript --\n\n    \n/head\n\n\n    \nbody\n\n        \nh1\nIncluding Static Media\n/h1\n\n        \nimg src=\n{% static \nimages/rango.jpg\n %}\n alt=\nPicture of Rango\n /\n \n!-- Images --\n\n    \n/body\n\n\n\n/html\n\n\n\n\n\n\u5f88\u663e\u7136\u4f60\u9700\u8981\u5f15\u5165\u7684\u9759\u6001\u6587\u4ef6\u9700\u8981\u5728\u4f60\u7684\nstatic\n\u76ee\u5f55\u91cc.\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\u6216\u8005\u5f15\u7528\u9519\u8bef\u7684\u8bdd,\u63a7\u5236\u53f0\u5c06\u4f1a\u8f93\u51fa\u9519\u8bef.\u8bd5\u8bd5\u770b\u5f15\u5165\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684\u6587\u4ef6\u5c06\u4f1a\u53d1\u751f\u4ec0\u4e48.\n\n\n\u4e3a\u4e86\u8fdb\u4e00\u6b65\u4e86\u89e3\u9759\u6001\u5a92\u4f53\u53ef\u67e5\u770b\nDjango documentation on working with static files in templates\n.\n\n\n\n\nNote\n\n\n\u5728\u4f60\u6a21\u677f\u7684\u7b2c\u4e00\u884c\u786e\u4fdd\n\u6587\u6863\u7c7b\u578b\u58f0\u660e\n(\u4f8b\u5982\n!DOCTYPE html\n).\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u9700\u8981\u628a\n{% load static %}\n\u653e\u5728\u6587\u6863\u7c7b\u578b\u58f0\u660e\u540e\u9762\u800c\u4e0d\u662f\u524d\u9762.\u6839\u636eHTML/XHTML\u4e0d\u540c\u6587\u6863\u7c7b\u578b\u5bf9\u8c61\u7684\u58f0\u660e\u4e5f\u6709\u7a0d\u8bb8\u4e0d\u540c.\u5f88\u663e\u7136Django\u547d\u4ee4\u4f1a\u5728\u6a21\u677f\u8f93\u51fa\u7684\u65f6\u5019\u5220\u9664,\u4f46\u662f\u5220\u9664\u4e4b\u540e\u7684\u547d\u4ee4\u4f1a\u7559\u4e0b\u4e00\u4e9b\u7a7a\u767d\u610f\u5473\u7740\u4f60\u7684\u8f93\u51fa\u5c06\u5f97\u4e0d\u5230\nW3C\u8ba4\u8bc1\u670d\u52a1\n\u7684\n\u9a8c\u8bc1\n.\n\n\n\n\nTODO(leifos):\u6ce8\u610f\u5f53\u4f60\u90e8\u7f72\u9879\u76ee\u7684\u65f6\u5019\u6700\u597d\u4e0d\u8981\u8fd9\u6837\u505a,\u4f60\u53ef\u4ee5\u67e5\u8be2https://docs.djangoproject.com/en/1.7/howto/static-files/deployment/ \n\n\nTODO(leifos):DEBUG\u53d8\u91cf\u5728\nsettings.py\n\u4e2d,\u8bbe\u7f6e\u5b83\u53ef\u4ee5\u8ba9\u6211\u4eec\u63a7\u5236\u662f\u5426\u8f93\u51fa\u9519\u8bef\u4fe1\u606f.\u5f53\u628a\nDEBUG\n\u8bbe\u7f6e\u6210True\u65f6\u5bf9\u4e8e\u5e94\u7528\u7684\u90e8\u7f72\u5e76\u4e0d\u5b89\u5168.\u5f53\u4f60\u628a\nDEBUG\n\u8bbe\u7f6e\u6210False,\u4f60\u5f97\u9700\u8981\u628a\nsettings.py\n\u4e2d\u7684\nALLOWED_HOSTS\n\u53d8\u91cf\u8bbe\u7f6e\u6210\n127.0.0.1\n\u4ee5\u4fbf\u53ef\u4ee5\u5728\u672c\u5730\u4e3b\u673a\u4e0a\u8fd0\u884c.\u4f60\u9700\u8981\u4fee\u6539\u9879\u76ee\u91cc\u7684\nurls.py\n\u6587\u4ef6:\n\n\nfrom django.conf import settings # New Import\nfrom django.conf.urls.static import static # New Import\n\n\nif not settings.DEBUG:\n        urlpatterns += static(settings.STATIC_URL, document_root=settings.STATIC_ROOT)\n\n\n\n\nTODO(leifos):\u6211\u4eec\u5c06\u5728\u90e8\u7f72\u7ae0\u8282\u8be6\u7ec6\u7684\u4ecb\u7ecd.\n\n\n5.4 \u9759\u6001\u5a92\u4f53\u670d\u52a1\n\n\n\u73b0\u5728\u4f60\u53ef\u4ee5\u4f7f\u7528\u9759\u6001\u6587\u4ef6,\u8ba9\u6211\u4eec\u770b\u770b\u5982\u4f55\u4e0a\u4f20\u5a92\u4f53.\u8bb8\u591a\u7f51\u7ad9\u63d0\u4f9b\u4e86\u4e0a\u4f20\u56fe\u50cf\u7684\u529f\u80fd.\u8fd9\u7ae0\u6211\u4eec\u5c06\u5c55\u793a\u5982\u4f55\u4e3a\u4f60\u7684Django\u9879\u76ee\u5f00\u53d1\u4e00\u4e2a\u7b80\u5355\u7684\u5a92\u4f53\u670d\u52a1.\u5728\u5f00\u53d1\u5a92\u4f53\u670d\u52a1\u4e2d\u9700\u8981\u7528\u5230\u7684\u6587\u4ef6\u4e0a\u4f20\u8868\u683c\u6211\u4eec\u5c06\u4f1a\u5728\u7b2c9\u7ae0\u91cc\u63a5\u89e6\u5230.\n\n\n\u90a3\u4e48,\u6211\u4eec\u600e\u4e48\u6837\u624d\u80fd\u5f00\u53d1\u5a92\u4f53\u670d\u52a1\u5462?\u7b2c\u4e00\u6b65\u662f\u9700\u8981\u5728\u6211\u4eecDjango\u9879\u76ee\u6839\u76ee\u5f55\u91cc(\u6bd4\u5982\nworkspace\n/tango_with_django_project/\n)\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u76ee\u5f55,\u540d\u5b57\u53eb\nmedia\n.\u8fd9\u4e2a\u76ee\u5f55\u5c31\u5728\ntemplates\n\u548c\nstatic\n\u540c\u7ea7\u76ee\u5f55\u91cc.\u5728\u4f60\u521b\u5efa\u76ee\u5f55\u540e,\u9700\u8981\u8981\u4fee\u6539\u4f4d\u4e8e\u8bbe\u7f6e\u76ee\u5f55(\u4f8b\u5982\nworkspace\n/tango_with_django_project/tango_with_django_project/\n)\u91cc\u7684\nurls.py\n\u6587\u4ef6.\u4fee\u6539\u5982\u4e0b.\n\n\n# At the top of your urls.py file, add the following line:\nfrom django.conf import settings\n\n# UNDERNEATH your urlpatterns definition, add the following two lines:\nif settings.DEBUG:\n    urlpatterns += patterns(\n        'django.views.static',\n        (r'^media/(?P\npath\n.*)',\n        'serve',\n        {'document_root': settings.MEDIA_ROOT}), )\n\n\n\n\n\u901a\u8fc7\u5bfc\u5165\ndjango.conf\n\u7684\nsettings\n\u6a21\u5757\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u6211\u4eec\u9879\u76ee\u91cc\nsettings.py\n\u6587\u4ef6\u7684\u53d8\u91cf.\u63a5\u4e0b\u6765\u7684\u6761\u4ef6\u5224\u65ad\u8bed\u53e5\u5224\u65adDjango\u662f\u5426\u5904\u5728\nDEBUG\n\u6a21\u5f0f.\u5982\u679c\nDEBUG\n\u88ab\u8bbe\u5b9a\u4e3a\nTrue\n,\u90a3\u4e48\u5c31\u4f1a\u5728\nurlpatterns\n\u52a0\u5165URL\u5339\u914d\u6a21\u5f0f.\u6240\u6709\u4ee5\nmedia/\n\u5f00\u5934\u7684\u9752\u8c46\u90fd\u4f1a\u4f20\u9012\u7ed9\ndjango.views.static\n\u89c6\u56fe.\u8fd9\u4e2a\u89c6\u56fe\u5c06\u4f1a\u628a\u4e0a\u4f20\u7684\u5a92\u4f53\u4f20\u7ed9\u4f60.\n\n\n\u5728\u4fee\u6539\u4e86\nurls.py\n\u6587\u4ef6\u540e,\u6211\u4eec\u9700\u8981\u4fee\u6539\nsettings.py\n\u6587\u4ef6.\u6211\u4eec\u9700\u8981\u521b\u5efa\nMEDIA_URL\n\u548c\nMEDIA_ROOT\n\u4e24\u4e2a\u53d8\u91cf.\n\n\nMEDIA_URL = '/media/'\nMEDIA_ROOT = os.path.join(BASE_DIR, 'media') # Absolute path to the media directory\n\n\n\n\n\u7b2c\u4e00\u4e2a\u53d8\u91cf\nMEDIA_URL\n\u5b9a\u4e49\u4e86\u57fa\u5730\u5740.\u5982\u679c\u628a\nMEDIA_URL\n\u8bbe\u7f6e\u4e3a\n/media/\n\u610f\u5473\u7740\u4e0a\u4f20URL\u4e3a\nhttp://127.0.0.1:8000/media/\n.\nMEDIA_ROOT\n\u7528\u6765\u544a\u8bc9Django\u4f60\u7684\u4e0a\u4f20\u6587\u4ef6\u4fdd\u5b58\u5728\u7535\u8111\u7684\u54ea\u4e2a\u4f4d\u7f6e.\u5728\u4e0a\u8fb9\u7684\u4f8b\u5b50\u4e2d,\u6211\u4eec\u75285.1\u7ae0\u8282\u8bbe\u7f6e\u7684\nPROJECT_PATH\n\u53d8\u91cf\u548c\n/media/\n\u8fde\u63a5.\u5c31\u53d8\u6210\u4e86\u7edd\u5bf9\u8def\u5f84\nworkspace\n/tango_with_django_project/media/\n.\n\n\n\n\nNote\n\n\n\u548c\u524d\u9762\u63d0\u5230\u7684\u4e00\u6837,Django\u63d0\u4f9b\u7684\u5f00\u53d1\u5a92\u4f53\u670d\u52a1\u5bf9debug\u975e\u5e38\u6709\u5e2e\u52a9.\u4f46\u662f\u5b83\u4e0d\u80fd\u7528\u5728\u751f\u4ea7\u73af\u5883\u4e2d. \nDjango documentation on static files\n\u8b66\u544a\u8fd9\u6837\u505a\"\u4f4e\u6548\u7387\u4e14\u4e0d\u5b89\u5168\".\u5982\u679c\u4f60\u9700\u8981\u90e8\u7f72\u4f60\u7684Django\u9879\u76ee,\u4f60\u9700\u8981\u9605\u8bfb\u6587\u6863\u9009\u62e9\u66f4\u5b89\u5168\u7684\u65b9\u6cd5\u89e3\u51b3\u4e0a\u4f20\u6587\u4ef6\u7684\u95ee\u9898.\n\n\n\n\n\u4f60\u53ef\u4ee5\u5728\nmedia\n\u76ee\u5f55\u91cc\u653e\u5165\u4e00\u4e2a\u56fe\u7247\u6765\u68c0\u67e5\u5b83\u662f\u5426\u5de5\u4f5c.\u542f\u52a8Django\u670d\u52a1,\u5728\u6d4f\u89c8\u5668\u91cc\u8bbf\u95ee\u56fe\u7247.\u4f8b\u5982\u5982\u679c\u4f60\u5728\nmedia\n\u4e2d\u52a0\u5165\nrango.jpg\n\u6587\u4ef6,\u4f60\u9700\u8981\u8bbf\u95ee\u7684URL\u770b\u8d77\u6765\u662f\u8fd9\u6837\u7684\nhttp://127.0.0.1:8000/media/rango.jpg\n.\u4f60\u4f1a\u770b\u5230\u4f60\u7684\u56fe\u7247.\u5982\u679c\u4f60\u6ca1\u770b\u5230,\u4f60\u9700\u8981\u56de\u53bb\u68c0\u67e5\u8bbe\u7f6e\u662f\u5426\u9519\u8bef.\n\n\n5.5 \u57fa\u672c\u6d41\u7a0b\n\n\n\u5b66\u5b8c\u8fd9\u7ae0,\u4f60\u5e94\u5f53\u5b66\u4f1a\u5982\u4f55\u8bbe\u7f6e\u548c\u521b\u5efa\u6a21\u677f,\u5728\u4f60\u7684\u89c6\u56fe\u91cc\u4f7f\u7528\u6a21\u677f,\u8bbe\u7f6e\u548c\u4f7f\u7528Django\u6765\u53d1\u9001\u9759\u6001\u5a92\u4f53\u6587\u4ef6,\u5305\u62ec\u6a21\u677f\u91cc\u7684\u56fe\u7247\u548c\u4e3a\u4e86\u6587\u4ef6\u4e0a\u4f20\u8bbe\u7f6eDjango\u9759\u6001\u5a92\u4f53\u670d\u52a1.\u6211\u4eec\u5df2\u7ecf\u5b66\u4e86\u5f88\u591a\u4e86!\n\n\n\u521b\u5efa\u6a21\u677f\u5e76\u5728\u89c6\u56fe\u91cc\u4f7f\u7528\u662f\u8fd9\u7ae0\u7684\u5173\u952e.\u5b83\u9700\u8981\u4e00\u4e9b\u6b65\u9aa4,\u4f46\u662f\u5f53\u4f60\u5c1d\u8bd5\u51e0\u6b21\u540e\u5c31\u975e\u5e38\u5bb9\u6613\u638c\u63e1\u4e86.\n\n\n\n\n\u9996\u5148,\u521b\u5efa\u4f60\u5e0c\u671b\u4f7f\u7528\u7684\u6a21\u677f\u5e76\u628a\u5b83\u4fdd\u5b58\u5728\ntemplates\n\u76ee\u5f55\u91cc,\u8fd9\u4e2a\u76ee\u5f55\u9700\u8981\u4f60\u5199\u5165\nsettings.py\n\u6587\u4ef6.\u4f60\u53ef\u4ee5\u5728\u6a21\u677f\u91cc\u4f7f\u7528Django\u6a21\u677f\u53d8\u91cf(\u4f8b\u5982\n{{ bariable_name }}\n).\u4f60\u53ef\u4ee5\u5728\u89c6\u56fe\u91cc\u66f4\u6362\u8fd9\u4e9b\u53d8\u91cf.\n\n\n\u5728\u5e94\u7528\u7684\nviews.py\n\u6587\u4ef6\u91cc\u67e5\u627e\u6216\u8005\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u89c6\u56fe.\n\n\n\u589e\u52a0\u89c6\u56fe\u903b\u8f91.\u4f8b\u5982\u4f60\u53ef\u4ee5\u4ece\u6570\u636e\u5e93\u91cc\u83b7\u5f97\u6570\u636e.\n\n\n\u5728\u89c6\u56fe\u91cc,\u521b\u5efa\u4e00\u4e2a\u5b57\u5178\u5bf9\u8c61\u53ef\u4ee5\u5427\u6a21\u677f\u5185\u5bb9\u4f20\u9012\u7ed9\u6a21\u677f\u5f15\u64ce.\n\n\n\u4f7f\u7528\nrender()\n\u51fd\u6570\u6765\u751f\u6210\u8fd4\u56de.\u786e\u4fdd\u5f15\u7528request,\u7136\u540e\u662f\u6a21\u677f\u6587\u4ef6,\u6700\u540e\u662f\u5185\u5bb9\u5b57\u5178!\n\n\n\u5982\u679c\u4f60\u8fd8\u6ca1\u6709\u4fee\u6539\nurls.py\n\u6587\u4ef6\u6216\u8005\u5e94\u7528\u4e2d\u7684\nurls.py\n\u4e2d\u7684\u6620\u5c04,\u4f60\u9700\u8981\u4fee\u6539\u4e00\u4e0b.\n\n\n\n\n\u5728\u4f60\u7684\u9875\u9762\u4e0a\u83b7\u53d6\u4e00\u4e2a\u9759\u6001\u5a92\u4f53\u6587\u4ef6\u4e5f\u662f\u4e00\u4e2a\u4f60\u9700\u8981\u638c\u63e1\u7684\u5f88\u91cd\u8981\u7684\u6b65\u9aa4.\n\n\n\n\n\u628a\u4f60\u8981\u6dfb\u52a0\u7684\u9759\u6001\u6587\u4ef6\u653e\u5165\nstatic\n\u76ee\u5f55.\u8fd9\u4e2a\u76ee\u5f55\u662f\u4f60\u5728\nsettings.py\n\u4e2d\u8bbe\u7f6e\u7684\nSTATICFILES_DIRS\n\u5143\u7ec4.\n\n\n\u5728\u6a21\u677f\u4e2d\u6dfb\u52a0\u9759\u6001\u5a92\u4f53\u5f15\u7528.\u4f8b\u5982\u4e00\u4e2aHTML\u7f51\u9875\u7684\u56fe\u7247\u7528\nimg /\n\u6807\u7b7e.\n\n\n\u8bb0\u5f97\u7528\n{% load staticfiles %}\n\u548c\n{% static \"filename\" %}\n\u547d\u4ee4\u5728\u6a21\u677f\u4e2d\u8bbe\u7f6e\u9759\u6001\u6587\u4ef6.\n\n\n\n\n\u4e0b\u4e00\u7ae0\u6211\u4eec\u5c06\u4f1a\u5b66\u4e60\u6570\u636e\u5e93.\u6211\u4eec\u5c06\u5b66\u4e60\u5982\u4f55\u7528Django\u51fa\u8272\u7684\u6570\u636e\u5e93\u5c42\u6765\u5e2e\u52a9\u6211\u4eec\u6446\u8131\u7e41\u7410!\n\n\n5.6 \u7ec3\u4e60\n\n\n\u4e0b\u9762\u4e24\u4e2a\u7ec3\u4e60\u6765\u5de9\u56fa\u672c\u7ae0.\n\n\n\n\n\u628aabout\u9875\u9762\u4e5f\u7528\u4e00\u4e2a\nabout.html\n\u6a21\u677f\u6765\u8bbe\u7f6e.\n\n\n\u5728\nabout.html\n\u6a21\u677f\u91cc,\u5728\u4f60\u7684\u9759\u6001\u5a92\u4f53\u91cc\u589e\u52a0\u56fe\u7247.\n\n\n\n\n6 \u6a21\u578b\u548c\u6570\u636e\u5e93\n\n\n\u901a\u5e38\u6765\u8bf4\u5904\u7406\u6570\u636e\u5e93\u9700\u8981\u6211\u4eec\u638c\u63e1\u8bb8\u591a\u590d\u6742\u7684SQL\u8bed\u53e5.\u4f46\u662f\u5728Django\u91cc,\u5bf9\u8c61\u5173\u7cfb\u6620\u5c04(ORM)\u5e2e\u6211\u4eec\u5904\u7406\u8fd9\u4e00\u5207,\u5305\u62ec\u901a\u8fc7\u6a21\u578b\u521b\u5efa\u6570\u636e\u5e93\u8868.\u4e8b\u5b9e\u4e0a,\u6a21\u578b\u662f\u63cf\u8ff0\u4f60\u7684\u6570\u636e\u6a21\u578b/\u56fe\u8868\u7684\u4e00\u4e2aPython\u5bf9\u8c61.\u4e0e\u4ee5\u5f80\u901a\u8fc7SQL\u64cd\u4f5c\u6570\u636e\u5e93\u4e0d\u540c,\u4f60\u53ea\u7528\u4f7f\u7528Python\u5bf9\u8c61\u5c31\u80fd\u64cd\u4f5c\u6570\u636e\u5e93.\u5728\u672c\u7ae0,\u6211\u4eec\u5c06\u4f1a\u5b66\u4e60\u5982\u4f55\u8bbe\u7acb\u6570\u636e\u5e93\u5e76\u4e3aRango\u5efa\u7acb\u6a21\u578b.\n\n\n6.1 Rango\u7684\u9700\u6c42\n\n\n\u9996\u5148,\u8ba9\u6211\u4eec\u770b\u770bRango\u7684\u9700\u6c42.\u4e0b\u9762\u5217\u51fa\u4e86Rango\u6570\u636e\u5173\u952e\u7684\u51e0\u4e2a\u9700\u6c42.\n\n\n\n\nRango\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u7f51\u9875\u76ee\u5f55 - \u4e00\u4e2a\u5305\u542b\u5176\u4ed6\u6211\u7ad9\u94fe\u63a5\u7684\u7f51\u7ad9\n\n\n\u6709\u8bb8\u591a\u4e0d\u540c\u7f51\u7ad9\u7684\u76ee\u5f55,\u6bcf\u4e2a\u76ee\u5f55\u4e2d\u5305\u542b\u8bb8\u591a\u94fe\u63a5.\u6211\u4eec\u5728\u7b2c\u4e8c\u7ae0\u5047\u8bbe1\u5bf9\u591a\u5173\u7cfb.\u770b\u4e0b\u9762\u7684ER\u56fe.\n\n\n\u4e00\u4e2a\u76ee\u5f55\u8981\u6709\u540d\u5b57,\u8bbf\u95ee\u6570\u548c\u94fe\u63a5.\n\n\n\u4e00\u4e2a\u9875\u9762\u8981\u6709\u76ee\u5f55,\u6807\u9898,URL\u548c\u4e00\u4e9b\u89c6\u56fe.\n\n\n\n\n\n\n6.2 \u544a\u8bc9Django\u4f60\u7684\u6570\u636e\u5e93\n\n\n\u5728\u4f60\u521b\u9020\u4efb\u4f55\u6a21\u578b\u4e4b\u524d\u90fd\u8981\u5bf9\u4f60\u7684\u6570\u636e\u5e93\u8fdb\u884c\u8bbe\u7f6e.\u5728Django1.7,\u5f53\u4f60\u521b\u5efa\u4e86\u4e00\u4e2a\u9879\u76ee,Django\u4f1a\u81ea\u52a8\u5728\nsettings.py\n\u91cc\u6dfb\u52a0\u4e00\u4e2a\u53eb\u505a\nDATABASES\n\u7684\u5b57\u5178.\u5b83\u5305\u542b\u5982\u4e0b.\n\n\nDATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.sqlite3',\n        'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),\n    }\n}\n\n\n\n\n\u80fd\u770b\u5230\u9ed8\u8ba4\u7528SQLite3\u4f5c\u4e3a\u540e\u7aef\u6570\u636e\u5e93.SQLite\u662f\u4e2a\u8f7b\u91cf\u7ea7\u7684\u6570\u636e\u5e93\u5bf9\u6211\u4eec\u5f00\u53d1\u5f88\u6709\u7528.\u6211\u4eec\u4ec5\u4ec5\u9700\u8981\u8bbe\u7f6e\nDATABASE_PATH\n\u91cc\u7684\nNAME\n\u952e\u503c\u5bf9.\u5176\u4ed6\u5f15\u64ce\u9700\u8981\nUSER\n,\nPASSWORD\n,\nHOST\n\u548c\nPORT\n\u7b49\u5173\u952e\u5b57.\n\n\n\n\nNote\n\n\n\u5bf9\u4e8e\u6559\u7a0b\u6765\u8bf4\u4f7f\u7528SQLite\u5f15\u64ce\u8fd8\u597d,\u4f46\u662f\u5bf9\u4e8e\u90e8\u7f72\u4f60\u7684\u5e94\u7528\u6765\u8bf4\u53ef\u80fd\u4e0d\u662f\u6700\u597d\u7684\u9009\u62e9,\u6216\u8bb8\u5e94\u5f53\u4f7f\u7528\u5176\u4ed6\u66f4\u5065\u58ee\u548c\u66f4\u5927\u578b\u7684\u6570\u636e\u5e93\u5f15\u64ce.Django\u540c\u6837\u652f\u6301\u50cf\nPostgreSQL\n\u548c\nMySQL\n\u8fd9\u6837\u7684\u6d41\u884c\u6570\u636e\u5e93\u5f15\u64ce.\u4ece \nofficial Django documentation on Database Engines\n \u83b7\u53d6\u66f4\u591a\u7ec6\u8282.\u4f60\u53ef\u4ee5\u67e5\u770b\u5173\u4e8e\u8fd9\u7bc7\u5173\u4e8eSQLite\u7684\n\u6587\u7ae0\n\u6765\u9009\u62e9\u662f\u5426\u4f7f\u7528SQLite\u5f15\u64ce.\n\n\n\n\n6.3 \u521b\u5efa\u6a21\u578b\n\n\n\u8ba9\u6211\u4eec\u4e3aRango\u521b\u5efa\u4e24\u4e2a\u6570\u636e\u6a21\u578b.\n\n\n\u5728\nrango/models.py\n\u91cc,\u6211\u4eec\u5b9a\u4e49\u4e24\u4e2a\u7ee7\u627f\u81ea\ndjnago.db.models.Model\n\u7684\u7c7b.\u8fd9\u4e24\u4e2a\u7c7b\u5206\u522b\u5b9a\u4e49\u76ee\u5f55\u548c\u9875\u9762.\u5b9a\u4e49\nCategory\n\u548c\nPage\n\u5982\u4e0b.\n\n\nclass Category(models.Model):\n    name = models.CharField(max_length=128, unique=True)\n\n    def __unicode__(self):  #For Python 2, use __str__ on Python 3\n        return self.name\n\nclass Page(models.Model):\n    category = models.ForeignKey(Category)\n    title = models.CharField(max_length=128)\n    url = models.URLField()\n    views = models.IntegerField(default=0)\n\n    def __unicode__(self):      #For Python 2, use __str__ on Python 3\n        return self.title\n\n\n\n\n\u5f53\u4f60\u5b9a\u4e49\u4e86\u4e00\u4e2a\u6a21\u578b,\u4f60\u9700\u8981\u5236\u5b9a\u53ef\u9009\u53c2\u6570\u7684\u5c5e\u6027\u4ee5\u53ca\u76f8\u5173\u7684\u7c7b\u578b\u5217\u8868.Django\u63d0\u4f9b\u4e86\u8bb8\u591a\u5185\u5efa\u5b57\u6bb5.\u4e00\u4e9b\u5e38\u7528\u7684\u5982\u4e0b.\n\n\n\n\nCharField\n,\u5b58\u50a8\u5b57\u7b26\u6570\u636e\u7684\u5b57\u6bb5(\u4f8b\u5982\u5b57\u7b26\u4e32).\nmax_length\n\u63d0\u4f9b\u4e86\u6700\u5927\u957f\u5ea6.\n\n\nURLField\n,\u548c\nCharField\n\u4e00\u6837,\u4f46\u662f\u5b83\u5b58\u50a8\u8d44\u6e90\u7684URL.\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528\nmax_length\n\u53c2\u6570.\n\n\n'IntegerField',\u5b58\u50a8\u6574\u6570.\n\n\nDateField\n,\u5b58\u50a8Python\u7684\ndatetime.date\n.\n\n\n\n\n\u67e5\u770b\nDjango documentation on model fields\n\u83b7\u53d6\u5b8c\u6574\u5217\u8868.\n\n\n\u6bcf\u4e2a\u5b57\u6bb5\u90fd\u6709\u4e00\u4e2a\nunique\n\u5c5e\u6027.\u5982\u679c\u8bbe\u7f6e\u4e3a\nTrue\n,\u90a3\u4e48\u5728\u6574\u4e2a\u6570\u636e\u5e93\u6a21\u578b\u91cc\u5b83\u7684\u5b57\u6bb5\u91cc\u7684\u503c\u5fc5\u987b\u662f\u552f\u4e00\u7684.\u4f8b\u5982,\u6211\u4eec\u4e0a\u9762\u5b9a\u4e49\u7684\nCategory\n\u6a21\u578b.\nname\n\u5b57\u6bb5\u88ab\u8bbe\u7f6e\u4e3a\nunique\n - \u6240\u4ee5\u6bcf\u4e00\u4e2a\u76ee\u5f55\u7684\u540d\u5b57\u90fd\u5fc5\u987b\u662f\u552f\u4e00\u7684.\n\n\n\u5982\u679c\u4f60\u60f3\u628a\u8fd9\u4e2a\u5b57\u6bb5\u4f5c\u4e3a\u6570\u636e\u5e93\u7684\u5173\u952e\u5b57\u4f1a\u975e\u5e38\u6709\u7528.\u4f60\u53ef\u4ee5\u4e3a\u6bcf\u4e2a\u5b57\u6bb5\u8bbe\u7f6e\u4e00\u4e2a\u9ed8\u8ba4\u503c(\ndefault='value'\n),\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u6210\nNULL\n(null=True).\n\n\nDjango\u4e5f\u63d0\u4f9b\u4e86\u8fde\u63a5\u6a21\u578b/\u8868\u7684\u7b80\u5355\u673a\u5236.\u8fd9\u4e2a\u673a\u5236\u5c01\u88c5\u57283\u4e2a\u5b57\u6bb5\u91cc,\u5982\u4e0b.\n\n\n\n\nForeignKey\n, \u521b\u5efa1\u5bf9\u591a\u5173\u7cfb\u7684\u5b57\u6bb5\u7c7b\u578b.\n\n\nOneToOneField\n,\u5b9a\u4e49\u4e00\u4e2a\u4e25\u683c\u76841\u5bf91\u5173\u7cfb\u5b57\u6bb5\u7c7b\u578b.\n\n\nManyToManyFeild\n,\u5f53\u4ee5\u591a\u5bf9\u591a\u5173\u7cfb\u5b57\u6bb5\u7c7b\u578b.\n\n\n\n\n\u4ece\u4e0a\u9762\u6211\u4eec\u7684\u4f8b\u5b50,\nPage\n\u4e2d\ncategory\n\u5b57\u6bb5\u662f\nForeignKey\n\u7c7b\u578b.\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a1\u5bf9\u591a\u5173\u7cfb\u7684\nCategory\n\u6a21\u578b/\u8868,\u8fd9\u4e2a\nCategory\n\u4f1a\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u7684\u4e00\u4e2a\u53c2\u6570.Django\u4f1a\u81ea\u52a8\u7684\u4e3a\u6bcf\u4e2a\u6a21\u578b\u8868\u4e2d\u521b\u5efaID\u5b57\u6bb5.\u6240\u4ee5\u4f60\u4e0d\u540c\u4e3a\u6bcf\u4e2a\u6a21\u578b\u521b\u5efa\u4e3b\u952e - \u5b83\u5df2\u7ecf\u4e3a\u4f60\u505a\u597d\u4e86!\n\n\n\n\nNote\n\n\n\u5f53\u521b\u5efa\u6a21\u677f\u7684\u65f6\u5019,\u6700\u597d\u521b\u5efa\n__unicode__()\n\u65b9\u6cd5 - \u7b49\u4ef7\u4e8e\n__strr__()\n\u65b9\u6cd5.\u5982\u679c\u4f60\u4e0d\u719f\u6089\u8fd9\u4e24\u4e2a\u65b9\u6cd5,\u5b83\u4eec\u4fe9\u7684\u4f5c\u7528\u548cJava\u4e2d\ntoString()\n\u65b9\u6cd5\u76f8\u4f3c.\n__unicode__()\n\u65b9\u6cd5\u4e3a\u6a21\u578b\u5b9e\u4f8b\u63d0\u4f9bunicode\u8868\u8fbe\u5f0f.\u4f8b\u5982\u6211\u4eec\u7684\nCategory\n\u6a21\u578b\u901a\u8fc7\n__unicode__()\n\u65b9\u6cd5\u8fd4\u56de\u76ee\u5f55\u7684\u540d\u5b57 - \u5f53\u4f60\u5f00\u59cb\u7528Django\u7684\u7ba1\u7406\u754c\u9762\u540e\u8fd9\u5c06\u4f1a\u975e\u5e38\u4fbf\u5229.\n\n\n\n\n\u5728\u4f60\u7684\u7c7b\u91cc\u52a0\u5165\n__unicode__()\n\u65b9\u6cd5\u5bf9debug\u4e5f\u975e\u5e38\u6709\u7528.\u5982\u679c\u5728\nCategory\n\u6a21\u578b\u4e2d\u6ca1\u6709\n__unicode\n\u65b9\u6cd5\u5c06\u4f1a\u8fd4\u56de\nCategory: Category object\n.\u6211\u4eec\u53ea\u77e5\u9053\u662f\u4e00\u4e2a\u76ee\u5f55,\u4f46\u662f\u662f\u54ea\u4e00\u4e2a\u5462?\u5982\u679c\u6211\u4eec\u6709\n__unicode__()\n\u65b9\u6cd5\u6211\u4eec\u5c06\u4f1a\u8fd4\u56de\nCategory: python\n,\u8fd9\u91cc\u7684\npython\n\u662f\u76ee\u5f55\u7684\u540d\u5b57.\n\n\n6.4 \u521b\u5efa\u548c\u8fc1\u79fb\u6570\u636e\u5e93\n\n\n\u6211\u4eec\u5b9a\u4e49\u4e86\u6a21\u578b,\u90a3\u4e48Django\u5c31\u80fd\u5f88\u597d\u7684\u81ea\u52a8\u521b\u5efa\u6211\u4eec\u7684\u6570\u636e\u5e93.\u5728\u5148\u524d\u7684Django\u7248\u672c\u4e2d\u6211\u4eec\u7528\u5982\u4e0b\u547d\u4ee4:\n\n\n$ python manage.py syncdb\n\n\n\n\n\u800c\u5728Django1.7\u4e2d\u63d0\u4f9b\u4e86\u4e00\u4e2a\u8fc1\u79fb\u5de5\u5177\u5e2e\u52a9\u6211\u4eec\u4fee\u6539\u66f4\u65b0\u5728\u6a21\u5757\u4e2d\u6539\u53d8\u7684\u6570\u636e\u5e93.\u6240\u4ee5\u73b0\u5728\u60c5\u51b5\u53d8\u5f97\u590d\u6742\u4e9b - \u4f46\u662f\u4e3b\u8981\u7684\u76ee\u7684\u662f\u5f53\u6211\u4eec\u6539\u53d8\u6a21\u578b\u7684\u65f6\u5019\u6211\u4eec\u4e0d\u5fc5\u5220\u9664\u5b83\u65e2\u53ef\u8fdb\u884c\u66f4\u65b0.\n\n\n6.4.1 \u8bbe\u7f6e\u6570\u636e\u5e93\u5e76\u521b\u5efa\u7ba1\u7406\u5458\n\n\n\u5982\u679c\u8fd8\u6ca1\u6709\u8bbe\u7f6e\u6570\u636e\u5e93\u90a3\u4e48\u9700\u8981\u901a\u8fc7migrate\u547d\u4ee4\u6765\u8bbe\u7acb.\n\n\n$ python manage.py migrate\n\n\nOperations to perform:\n  Apply all migrations: admin, contenttypes, auth, sessions\nRunning migrations:\n  Applying contenttypes.0001_initial... OK\n  Applying auth.0001_initial... OK\n  Applying admin.0001_initial... OK\n  Applying sessions.0001_initial... OK\n\n\n\n\n\u4f60\u662f\u5426\u8fd8\u8bb0\u5f97\u5728\nsettings.py\n\u6587\u4ef6\u91cc\u8bbe\u7f6e\u7684INSTALLED_APPS\u5217\u8868,\u5b83\u4f1a\u521d\u59cb\u5316\u521b\u5efa\u8fd9\u4e9bapp\u7684\u56fe\u8868,\u4f8b\u5982auth,admin\u7b49\u7b49.\u5728\u4f60\u7684\u9879\u76ee\u6839\u76ee\u5f55\u91cc\u4f1a\u521b\u5efa\ndb.sqlite\n\u6587\u4ef6.\n\n\n\u73b0\u5728\u4f60\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u7ba1\u7406\u5458\u6765\u7ba1\u7406\u6570\u636e\u5e93.\n\n\n$ python manage.py createsuperuser\n\n\n\n\n\u7ba1\u7406\u5458\u8d26\u6237\u5c06\u4f1a\u5728Django\u7ba1\u7406\u754c\u9762\u767b\u9646\u65f6\u4f7f\u7528.\u6309\u7167\u63d0\u793a\u8f93\u5165\u7528\u6237\u540d,\u90ae\u7bb1\u5730\u5740\u548c\u5bc6\u7801.\u6ce8\u610f\u8981\u8bb0\u4f4f\u7528\u6237\u540d\u548c\u5bc6\u7801.\n\n\n6.4.2 \u521b\u5efa/\u4e0a\u4f20\u6a21\u578b/\u8868\n\n\n\u5f53\u4f60\u66f4\u6539\u6a21\u578b\u7684\u65f6\u5019,\u4f60\u9700\u8981\u901a\u8fc7\nmakemigrations\n\u8fdb\u884c\u4fee\u6539,\u6240\u4ee5\u5bf9\u4e8erango,\u6211\u4eec\u9700\u8981:\n\n\n$ python manage.py makemigrations rango\n\nMigrations for 'rango':\n  0001_initial.py:\n    - Create model Category\n    - Create model Page\n\n\n\n\n\u5982\u679c\u4f60\u68c0\u67e5\nrango/migrations\n\u6587\u4ef6,\u4f60\u4f1a\u53d1\u73b0\u4f1a\u521b\u5efa\u4e00\u4e2a\u53eb\u505a\n0001_initial.py\n\u7684python\u811a\u672c.\u5982\u679c\u60f3\u8981SQL\u547d\u4ee4\u53bb\u6267\u884c\u8fc1\u79fb,\u90a3\u4e48\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u547d\u4ee4\npython manage.py sqlmigrate \napp_name\n \nmigration_no\n.\u6211\u4eec\u4e0a\u9762\u7684\u8fc1\u79fb\u6570\u5b57\u662f0001,\u6240\u4ee5\u6211\u4eec\u8f93\u5165\npython manage.py sqlmigrate rango 0001\n,\u8ba9\u6211\u4eec\u8bd5\u8bd5\u770b.\n\n\n\u73b0\u5728\u8ba9\u6211\u4eec\u5e94\u7528\u8fd9\u4e9b\u8fc1\u79fb(\u57fa\u4e8e\u521b\u5efa\u6570\u636e\u5e93\u56fe\u8868).\n\n\n$ python manage.py migrate\n\nOperations to perform:\n  Apply all migrations: admin, rango, contenttypes, auth, sessions\nRunning migrations:\n  Applying rango.0001_initial... OK\n\n\n\n\n\n\nWarning\n\n\n\u5f53\u4f60\u6dfb\u52a0\u5df2\u5b58\u5728\u7684\u6a21\u578b,\u4f60\u9700\u8981\u91cd\u590d\u8fd0\u884c\npython manage.py makemigrations \napp_name\n\u547d\u4ee4\u7136\u540e\u518d\u8fd0\u884c\npython manage.py migrate\n.\n\n\n\n\n\u4f60\u53ef\u80fd\u53d1\u73b0\u4e86\u6211\u4eec\u7684\nCategory\n\u6a21\u5757\u7f3a\u5c11\u4e00\u4e9b\u6211\u4eec\u8981\u6c42\u7684\u5b57\u6bb5.\u6211\u4eec\u5c06\u5728\u7a0d\u540e\u6dfb\u52a0.\n\n\n6.5 Django\u6a21\u578b\u548cDjango Shell\n\n\n\u5728\u6211\u4eec\u628a\u6ce8\u610f\u529b\u96c6\u4e2d\u5230Django\u7ba1\u7406\u754c\u9762\u4e4b\u524d,\u901a\u8fc7Django shell\u521b\u5efaDjango\u6a21\u578b\u4e5f\u662f\u503c\u5f97\u4e00\u8bd5\u7684 - \u5b83\u5bf9\u6211\u4eecdebug\u975e\u5e38\u6709\u7528.\u4e0b\u9762\u6211\u4eec\u5c06\u5c55\u793a\u5982\u4f55\u7528\u8fd9\u79cd\u65b9\u5f0f\u6765\u521b\u5efa\nCategory\n\u5b9e\u4f8b.\n\n\n\u4e3a\u4e86\u5f97\u5230shell\u6211\u4eec\u9700\u8981\u518d\u4e00\u6b21\u8c03\u7528Django\u9879\u76ee\u6839\u76ee\u5f55\u91cc\u7684\nmanage.py\n.\n\n\n$ python manage.py shell\n\n\n\n\n\u8fd9\u4e2a\u5b9e\u4f8b\u5c06\u4f1a\u521b\u5efa\u4e00\u4e2aPython\u89e3\u6790\u5668\u5e76\u4e14\u8f7d\u5165\u4f60\u7684\u9879\u76ee\u7684\u8bbe\u7f6e.\u4f60\u53ef\u4ee5\u548c\u6a21\u578b\u8fdb\u884c\u4ea4\u4e92.\u4e0b\u9762\u7684\u547d\u4ee4\u5c55\u793a\u4e86\u8fd9\u4e00\u529f\u80fd.\u6ce8\u91ca\u91cc\u53ef\u4ee5\u770b\u5230\u6bcf\u4e2a\u547d\u4ee4\u7684\u529f\u80fd.\n\n\n# Import the Category model from the Rango application\n\n from rango.models import Category\n\n# Show all the current categories\n\n print Category.objects.all()\n[] # Returns an empty list (no categories have been defined!)\n\n# Create a new category object, and save it to the database.\n\n c = Category(name=\nTest\n)\n\n c.save()\n\n# Now list all the category objects stored once more.\n\n print Category.objects.all()\n[\nCategory: test\n] # We now have a category called 'test' saved in the database!\n\n# Quit the Django shell.\n\n quit()\n\n\n\n\n\u5728\u4f8b\u5b50\u4e2d\u6211\u4eec\u9996\u5148\u5bfc\u5165\u6211\u4eec\u9700\u8981\u64cd\u4f5c\u7684\u6a21\u578b.\u7136\u540e\u6253\u5370\u51fa\u5b58\u5728\u7684\u76ee\u5f55,\u5728\u8fd9\u91cc\u56e0\u4e3a\u6211\u4eec\u7684\u56fe\u8868\u662f\u7a7a\u6240\u4ee5\u8f93\u51fa\u4e5f\u662f\u7a7a.\u7136\u540e\u521b\u5efa\u5e76\u50a8\u5b58\u4e00\u4e2a\u76ee\u5f55,\u6253\u5370.\n\n\n\n\nNote\n\n\n\u4e0a\u9762\u7684\u4f8b\u5b50\u53ea\u5c55\u793a\u4e86Django shell\u4e00\u5c0f\u90e8\u5206\u529f\u80fd.\u66f4\u591a\u7684\u53ef\u4ee5\u770b \nofficial Django Tutorial to learn more about interacting with the model\n\u548c\nofficial Django documentation on the list of available commands\n.\n\n\n\n\n6.6 \u8bbe\u7f6e\u7ba1\u7406\u754c\u9762\n\n\nDjango\u6700\u7a81\u51fa\u7684\u4e00\u4e2a\u7279\u6027\u5c31\u662f\u5b83\u63d0\u4f9b\u5185\u5efa\u7684\u7f51\u9875\u7ba1\u7406\u754c\u9762,\u7528\u6765\u6d4f\u89c8\u548c\u7f16\u8f91\u5b58\u50a8\u5728\u6a21\u578b\u7684\u6570\u636e,\u4e5f\u53ef\u4ee5\u4e0e\u6570\u636e\u5e93\u56fe\u8868\u4ea4\u4e92.\u5728\nsettings.py\n\u6587\u4ef6\u91cc,\u6ce8\u610f\u5230\u6709\u4e00\u4e2a\u9ed8\u8ba4\u5b89\u88c5\u7684\ndjango.contib.admin\napp,\u800c\u4e14\u4f60\u7684\nurls.py\n\u91cc\u4e5f\u9ed8\u8ba4\u589e\u52a0\u4e86\nadmin/\n\u5339\u914d.\n\n\n\u5f00\u542fDjango\u670d\u52a1:\n\n\n$ python manage.py runserver\n\n\n\n\n\u8bbf\u95ee\nhttp://127.0.0.1:8000/admin/\n.\u53ef\u4ee5\u7528\u5148\u524d\u8bbe\u7f6e\u7ba1\u7406\u5458\u8d26\u6237\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u6765\u767b\u5f55Django\u7ba1\u7406\u754c\u9762.\u7ba1\u7406\u754c\u9762\u53ea\u5305\u542b\nGroups\n\u548c\nUsers\n\u56fe\u8868\u4ee5\u6211\u4eec\u9700\u8981\u8ba9Django\u5305\u542b\nrango\n\u6a21\u5757.\u6240\u4ee5\u6253\u5f00\nrango/admin.py\n\u8f93\u5165\u5982\u4e0b\u4ee3\u7801:\n\n\nfrom django.contrib import admin\nfrom rango.models import Category, Page\n\nadmin.site.register(Category)\nadmin.site.register(Page)\n\n\n\n\n\u4e0a\u9762\u4ee3\u7801\u4f1a\u4e3a\u6211\u4eec\u5728\u7ba1\u7406\u754c\u9762\u6ce8\u518c\u6a21\u578b.\u5982\u679c\u6211\u4eec\u60f3\u8981\u5176\u4ed6\u6a21\u578b,\u53ef\u4ee5\u5728\nadmin.stie.register()\n\u51fd\u6570\u91cc\u4f20\u9012\u6a21\u578b\u4f5c\u4e3a\u53c2\u6570.\n\n\n\u5b8c\u6210\u4e4b\u540e\u91cd\u65b0\u8bbf\u95ee\nhttp://127.0.0.1:8000/admin/\n,\u4f60\u60f3\u56de\u770b\u5230\u5982\u4e0b\u56fe\u6848.\n\n\n\n\n\u70b9\u51fb\nCategorys\n\u94fe\u63a5.\u8fd9\u91cc\u6211\u4eec\u80fd\u770b\u89c1\u6211\u4eec\u901a\u8fc7Django shell\u521b\u5efa\u7684\ntest\n\u76ee\u5f55.\u6211\u4eec\u53ef\u4ee5\u975e\u5e38\u65b9\u4fbf\u7684\u5728\u8fd9\u91cc\u521b\u5efa,\u4fee\u6539\u548c\u5220\u9664\u76ee\u5f55\u548c\u9875\u9762.\u540c\u6837\u4f60\u53ef\u4ee5\u5728\nAuth\n\u5e94\u7528\u91cc\u6dfb\u52a0\nUser\n\u6765\u589e\u52a0\u767b\u9646Django\u7ba1\u7406\u754c\u9762\u7684\u7528\u6237.\n\n\n\n\nNote\n\n\n\u6ce8\u610f\u7ba1\u7406\u754c\u9762\u7684\u6392\u5370\u9519\u8bef(category\u800c\u4e0d\u662fcategories).\u8fd9\u4e2a\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u5728\u4f60\u7684\u6a21\u578b\u91cc\u6dfb\u52a0\u5143\u7c7b\u5e76\u5b9a\u4e49\nverbose_name_plural\n\u5c5e\u6027\u6765\u89e3\u51b3.\u67e5\u770b \nDjango\u2019s official documentation on models\n \u83b7\u53d6\u66f4\u591a\u7ec6\u8282.\n\n\n\n\n\n\nNote\n\n\n\u8fd9\u91cc\u7684\nadmin.py\n\u6587\u4ef6\u53ea\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50.\u8fd8\u6709\u8bb8\u591a\u70ab\u9177\u7684\u5b9a\u5236\u53ef\u4ee5\u4f7f\u7528,\u6bd4\u5982\u8bf4\u6539\u53d8\u7ba1\u7406\u754c\u9762\u6a21\u578b\u51fa\u73b0\u7684\u65b9\u5f0f.\u5728\u672c\u6559\u7a0b,\u6211\u4eec\u53ea\u4f7f\u7528\u4e86\u6700\u539f\u59cb\u7684\u754c\u9762.\u5982\u679c\u611f\u5174\u8da3\u8bf7\u67e5\u770b \nofficial Django documentation on the admin interface\n .\n\n\n\n\n6.7 \u521b\u5efaPopulation Script\n\n\n\u5f80\u6570\u636e\u5e93\u91cc\u8f93\u5165\u6570\u636e\u4f1a\u975e\u5e38\u9ebb\u70e6.\u8bb8\u591a\u5f00\u53d1\u8005\u4f1a\u968f\u673a\u7684\u5f80\u6570\u636e\u5e93\u91cc\u8f93\u5165\u6d4b\u8bd5\u6570\u636e.\u5982\u679c\u4f60\u5728\u4e00\u4e2a\u5c0f\u7684\u5f00\u53d1\u56e2\u961f\u91cc,\u6bcf\u4e2a\u4eba\u90fd\u5f97\u4f20\u70b9\u6570\u636e.\u6700\u597d\u662f\u5199\u4e00\u4e2a\u811a\u672c\u800c\u4e0d\u662f\u6bcf\u4e2a\u4eba\u5355\u72ec\u7684\u4e0a\u4f20\u6570\u636e,\u8fd9\u6837\u5c31\u53ef\u4ee5\u907f\u514d\u5783\u573e\u6570\u636e\u7684\u4ea7\u751f.\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4e3a\u4f60\u7684\u6570\u636e\u5e93\u521b\u5efa population script.\u8fd9\u4e2a\u811a\u672c\u81ea\u52a8\u7684\u4e3a\u4f60\u7684\u6570\u636e\u5e93\u751f\u6210\u6d4b\u8bd5\u6570\u636e.\n\n\n\u6211\u4eec\u9700\u8981\u5728Django\u9879\u76ee\u7684\u6839\u76ee\u5f55\u91cc\u521b\u5efapopulation script(\u4f8b\u5982\nworkspace\n/tango_with_django_project/\n).\u521b\u5efa\npopulate_rango.py\n\u6587\u4ef6\u4ee3\u7801\u5982\u4e0b.\n\n\nimport os\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'tango_with_django_project.settings')\n\nimport django\ndjango.setup()\n\nfrom rango.models import Category, Page\n\n\ndef populate():\n    python_cat = add_cat('Python')\n\n    add_page(cat=python_cat,\n        title=\nOfficial Python Tutorial\n,\n        url=\nhttp://docs.python.org/2/tutorial/\n)\n\n    add_page(cat=python_cat,\n        title=\nHow to Think like a Computer Scientist\n,\n        url=\nhttp://www.greenteapress.com/thinkpython/\n)\n\n    add_page(cat=python_cat,\n        title=\nLearn Python in 10 Minutes\n,\n        url=\nhttp://www.korokithakis.net/tutorials/python/\n)\n\n    django_cat = add_cat(\nDjango\n)\n\n    add_page(cat=django_cat,\n        title=\nOfficial Django Tutorial\n,\n        url=\nhttps://docs.djangoproject.com/en/1.5/intro/tutorial01/\n)\n\n    add_page(cat=django_cat,\n        title=\nDjango Rocks\n,\n        url=\nhttp://www.djangorocks.com/\n)\n\n    add_page(cat=django_cat,\n        title=\nHow to Tango with Django\n,\n        url=\nhttp://www.tangowithdjango.com/\n)\n\n    frame_cat = add_cat(\nOther Frameworks\n)\n\n    add_page(cat=frame_cat,\n        title=\nBottle\n,\n        url=\nhttp://bottlepy.org/docs/dev/\n)\n\n    add_page(cat=frame_cat,\n        title=\nFlask\n,\n        url=\nhttp://flask.pocoo.org\n)\n\n    # Print out what we have added to the user.\n    for c in Category.objects.all():\n        for p in Page.objects.filter(category=c):\n            print \n- {0} - {1}\n.format(str(c), str(p))\n\ndef add_page(cat, title, url, views=0):\n    p = Page.objects.get_or_create(category=cat, title=title, url=url, views=views)[0]\n    return p\n\ndef add_cat(name):\n    c = Category.objects.get_or_create(name=name)[0]\n    return c\n\n# Start execution here!\nif __name__ == '__main__':\n    print \nStarting Rango population script...\n\n    populate()\n\n\n\n\n\u867d\u7136\u770b\u8d77\u6765\u6709\u8bb8\u591a\u4ee3\u7801,\u4f46\u662f\u975e\u5e38\u7b80\u5355.\u5728\u6587\u4ef6\u5f00\u5934\u6211\u4eec\u5b9a\u4e49\u4e86\u8bb8\u591a\u51fd\u6570,\u4ee3\u7801\u4f1a\u5728\u5e95\u90e8\u5f00\u59cb\u6267\u884c - \u5bfb\u627e\nif __name__ == '__main__'\n\u8fd9\u4e00\u884c\u5f00\u59cb.\u6211\u4eec\u8c03\u7528\u4e86\npopulate()\n\u51fd\u6570.\n\n\n\n\nWarning\n\n\n\u5f53\u5bfc\u5165Django\u6a21\u5757\u65f6\u786e\u4fdd\u5df2\u7ecf\u5bfc\u5165\u4e86Django\u8bbe\u7f6e,\u5e76\u628a\u73af\u5883\u53d8\u91cf\nDJANGO_SETTINGS_MODULE\n\u8bbe\u7f6e\u4e3a\u9879\u76ee\u8bbe\u7f6e\u6587\u4ef6.\u7136\u540e\u8c03\u7528\ndjango.setup()\n\u6765\u5bfc\u5165django\u8bbe\u7f6e.\u5982\u679c\u4e0d\u8fd9\u4e48\u505a\u5c31\u4f1a\u5f15\u53d1\u4e00\u573a.\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u9700\u8981\u5728\u5bfc\u5165\u8bbe\u7f6e\u4e4b\u540e\u624d\u80fd\u5bfc\u5165\nCategory\n\u548c\nPage\n.\n\n\n\n\npopulate()\n\u51fd\u6570\u8d1f\u8d23\u8c03\u7528\nadd_cat()\n\u548c\nadd_page()\n\u51fd\u6570,\u800c\u8fd9\u4e24\u4e2a\u51fd\u6570\u5c06\u4f1a\u521b\u5efa\u65b0\u7684\u76ee\u5f55\u548c\u9875\u9762.\npopulate()\n\u521b\u5efa\u9875\u9762\u548c\u76ee\u5f55\u5e76\u5b58\u5230\u6570\u636e\u5e93.\u6700\u540e\u6211\u4eec\u5728\u7ec8\u7aef\u91cc\u8f93\u51fa\u9875\u9762\u548c\u76ee\u5f55.\n\n\n\n\nNote\n\n\n\u6211\u4eec\u4f7f\u7528\nget_or_create()\n\u51fd\u6570\u521b\u5efa\u6a21\u578b\u5b9e\u4f8b.\u6211\u4eec\u53ef\u4ee5\u7528\nget_or_creat()\n\u51fd\u6570\u6765\u68c0\u67e5\u5728\u6570\u636e\u5e93\u91cc\u662f\u5426\u5b58\u5728.\u5982\u679c\u4e0d\u5b58\u5728\u5c31\u521b\u5efa\u5b83.\u8fd9\u5c06\u51cf\u5c11\u6211\u4eec\u7684\u4ee3\u7801\u800c\u4e0d\u662f\u8ba9\u6211\u4eec\u81ea\u5df1\u68c0\u67e5.\n\nget_or_create()\n\u65b9\u6cd5\u8fd4\u56de\n(object,created)\n\u5143\u7ec4.\u5982\u679c\u6ca1\u6709\u5728\u6570\u636e\u5e93\u627e\u5230,\u90a3\u4e48\u8fd9\u4e2a\nobject\n\u53c2\u6570\u5c31\u662f\nget_or_create()\n\u65b9\u6cd5\u521b\u9020\u7684\u5b9e\u4f8b.\u5982\u679c\u8fd9\u4e2a\u5b9e\u4f53\u4e0d\u5b58\u5728,\u90a3\u4e48\u8fd9\u4e2a\u65b9\u6cd5\u5c31\u8fd4\u56de\u548c\u8fd9\u4e2a\u5b9e\u4f53\u76f8\u7b26\u7684\u5b9e\u4f8b.\ncreated\n\u662f\u4e00\u4e2a\u5e03\u5c14\u503c;\u5982\u679c\nget_or_create()\n\u521b\u5efa\u6a21\u578b\u5b9e\u4f53\u7684\u8bdd\u5b83\u4f1a\u8fd4\u56de\ntrue\n.\n\n[0]\n\u4f1a\u8fd4\u56de\nobject\n\u5143\u7ec4\u7684\u7b2c\u4e00\u4e2a\u4f4d\u7f6e,\u8fd9\u4e2a\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\u4e00\u6837,Python\u4f7f\u7528\nzero-based numbering\n.\n\nofficial Django documentation\n  \u53ef\u4ee5\u67e5\u770b\nget_or_vreate()\n\u65b9\u6cd5\u7684\u8be6\u7ec6\u8d44\u6599.\n\n\n\n\n\u5f53\u4fdd\u5b58\u9000\u51fa\u4ee5\u540e,\u6211\u4eec\u53ef\u4ee5\u5728DJango\u9879\u76ee\u6839\u76ee\u5f55\u7528\u547d\u4ee4\n$ python populate_rango.py\n\u6765\u6267\u884c\u811a\u672c.\n\n\n$ python populate_rango.py\n\nStarting Rango population script...\n- Python - Official Python Tutorial\n- Python - How to Think like a Computer Scientist\n- Python - Learn Python in 10 Minutes\n- Django - Official Django Tutorial\n- Django - Django Rocks\n- Django - How to Tango with Django\n- Other Frameworks - Bottle\n- Other Frameworks - Flask\n\n\n\n\n\u73b0\u5728\u6211\u4eec\u68c0\u67e5\u4e00\u4e0b\u662f\u5426\u6539\u53d8\u4e86\u6570\u636e\u5e93.\u91cd\u542fDjango\u670d\u52a1,\u8fdb\u5165\u7ba1\u7406\u754c\u9762,\u67e5\u770b\u65b0\u7684\u76ee\u5f55\u548c\u9875\u9762.\u5982\u679c\u70b9\u51fb\nPages\n\u4f1a\u770b\u5230\u4e0b\u9762.\n\n\n\n\n\u867d\u7136\u9700\u8981\u82b1\u8d39\u4e00\u4e9b\u65f6\u95f4\u6765\u5199population script,\u4f46\u662f\u5728\u56e2\u961f\u534f\u4f5c\u4e2d\u53ef\u4ee5\u5206\u4eab\u7ed9\u6bcf\u4e2a\u4eba.\u800c\u4e14\u5728\u5355\u5143\u6d4b\u8bd5\u4e2d\u4f1a\u6709\u7528\u5904.\n\n\n6.8 \u57fa\u672c\u6d41\u7a0b\n\n\n\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u638c\u63e1\u5904\u7406Django\u6a21\u578b\u7684\u6838\u5fc3\u529f\u80fd,\u662f\u65f6\u5019\u603b\u7ed3\u4e00\u4e0b\u4e86.\u4e0b\u9762\u5c06\u5206\u522b\u4e3a\u4f60\u5448\u73b0.\n\n\n6.8.1 \u8bbe\u7f6e\u6570\u636e\u5e93\n\n\n\u5f53\u5f00\u59cb\u65b0Django\u9879\u76ee,\u9700\u8981\u5148\u544a\u8bc9Django\u4f60\u60f3\u4f7f\u7528\u7684\u6570\u636e\u5e93(\u4f8b\u5982\u8bbe\u7f6e\nsettings.py\n\u4e2d\u7684\nDATABASES\n).\u4f60\u4e5f\u53ef\u4ee5\u5728\nadmin.py\n\u6587\u4ef6\u91cc\u6ce8\u518c\u4efb\u4f55\u6a21\u578b.\n\n\n6.8.2 \u52a0\u5165\u6a21\u578b\n\n\n\u52065\u6b65\u8fdb\u884c.\n\n\n\n\n\u9996\u5148,\u5728\u4f60\u7684\u5e94\u7528\u91cc\u7684\nmodels.py\n\u6587\u4ef6\u91cc\u521b\u5efa\u65b0\u7684\u6a21\u578b.\n\n\n\u4fee\u6539\nadmin.py\n\u6ce8\u518c\u4f60\u65b0\u52a0\u7684\u6a21\u5757.\n\n\n\u7136\u540e\u8fdb\u884c\u8fc1\u79fb\n$ python manage.py sqlmigrate \napp_name\n\n\n\u4f7f\u7528\n$ python manage.py migrate\n\u5e94\u7528\u66f4\u6539.\u8fd9\u5c06\u4f1a\u4e3a\u4f60\u7684\u6a21\u578b\u5728\u6570\u636e\u5e93\u91cc\u5efa\u7acb\u5fc5\u8981\u7684\u7ed3\u6784.\n\n\n\u4e3a\u4f60\u7684\u65b0\u6a21\u578b\u521b\u5efa/\u4fee\u6539population script.\n\n\n\n\n\u603b\u4f1a\u6709\u4e00\u4e9b\u65f6\u5019\u4f60\u4e0d\u5f97\u4e0d\u5220\u9664\u6570\u636e\u5e93.\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4f60\u9700\u8981\u8fd0\u884c\nmigrate\n\u547d\u4ee4,\u7136\u540e\u662f\ncreatesuperuser\n\u547d\u4ee4,\u4e3a\u6bcf\u4e2aapp\u6267\u884c\nsqlmigrate\n\u547d\u4ee4\u5c31\u53ef.\n\n\n6.9 \u7ec3\u4e60\n\n\n\u73b0\u5728\u5df2\u7ecf\u5b8c\u6210\u8fd9\u7ae0,\u8bd5\u7740\u505a\u4e0b\u9762\u7684\u7ec3\u4e60\u6765\u5de9\u56fa\u6240\u5b66.\n\n\n\n\n\u589e\u52a0\u76ee\u5f55\u6a21\u578b\nviews\n\u548c\nlikes\n\u5c5e\u6027\u5e76\u8bbe\u7f6e\u4e3a0.\n\n\n\u4e3a\u4f60\u7684app/\u6a21\u578b\u8fdb\u884c\u8fc1\u79fb.\n\n\n\u66f4\u65b0 population script ,\u628aPython\u76ee\u5f55\u8bbe\u7f6e\u6210\u6d4f\u89c8128\u6b21\u548c\u559c\u6b2264\u6b21,Django\u76ee\u5f55\u6d4f\u89c864\u6b21\u548c\u559c\u6b2232\u6b21,the Other Framenwork\u76ee\u5f55\u6d4f\u89c832\u6b21,\u559c\u6b2216\u6b21.\n\n\n\u67e5\u770b\npart two of official Django tutorial\n .\u5b83\u5c06\u4f1a\u5de9\u56fa\u4f60\u6240\u5b66\u540c\u65f6\u5b66\u4e60\u66f4\u591a\u5173\u4e8e\u5982\u4f55\u5b9a\u5236\u7ba1\u7406\u754c\u9762.\n\n\n\u5b9a\u5236\u7ba1\u7406\u754c\u9762 - \u5f53\u89c2\u770b\u9875\u9762\u6a21\u578b\u7684\u65f6\u5019\u5b83\u7684\u76ee\u5f55,\u9875\u9762\u540d\u548curl.\n\n\n\n\n6.9.1 \u63d0\u793a\n\n\n\u5982\u679c\u4f60\u9700\u8981\u4e00\u4e9b\u5e2e\u52a9\u7684\u8bdd,\u4e0b\u9762\u7684\u63d0\u793a\u4f1a\u5e2e\u52a9\u4f60.\n\n\n\n\n\u4fee\u6539\nCategory\n\u6a21\u578b,\u589e\u52a0\nviews\n\u548c\nlikes\n,\u5b83\u4eec\u7684\u5b57\u6bb5\u4e3a\nIntegerFields\n.\n\n\n\u4fee\u6539\npopulate.py\n\u811a\u672c\u91cc\u7684\nadd_cat\n\u51fd\u6570,\u52a0\u5165\nviews\n\u548c\nlikes\n\u53c2\u6570.\u4e00\u65e6\u4f60\u53ef\u4ee5\u83b7\u53d6\u76ee\u5f55c,\u4f60\u5c31\u53ef\u4ee5\u901a\u8fc7\nc.views\n\u6765\u4fee\u6539\u6d4f\u89c8\u6b21\u6570,\nlikes\n\u4e5f\u4e00\u6837.\n\n\n\u4e3a\u4e86\u5b9a\u5236\u7ba1\u7406\u754c\u9762,\u4f60\u9700\u8981\u4fee\u6539\nrango/admin.py\n\u6587\u4ef6,\u521b\u5efa\nPageAdmin\n\u7c7b,\u8fd9\u4e2a\u7c7b\u7ee7\u627f\u81ea\nadmin.ModelAdmin\n.\n\n\n\u5728\nPageAdmin\n\u7c7b\u91cc,\u52a0\u5165\nlist_display = ('title', 'category', 'url')\n.\n\n\n\u6700\u540e\u6ce8\u518c\nPageAdmin\n\u7c7b\u5230Django\u7ba1\u7406\u754c\u9762.\u9700\u8981\u4fee\u6539\nadmin.site.register(Page)\n.\u5728Rango\u7684\nadmin.py\n\u6587\u4ef6\u91cc\u4fee\u6539\u6210\nadmin.site.register(Page, PageAdmin)\n.\n\n\n\n\n\n\n7 \u6a21\u578b,\u6a21\u677f\u548c\u89c6\u56fe\n\n\n\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u5efa\u7acb\u4e86\u6a21\u578b\u5e76\u4e14\u5bfc\u5165\u4e86\u4e00\u4e9b\u6570\u636e,\u73b0\u5728\u6211\u4eec\u8981\u628a\u8fd9\u4e9b\u8fde\u4e00\u8d77.\u6211\u4eec\u5c06\u4f1a\u5f04\u6e05\u695a\u5982\u4f55\u5728\u89c6\u56fe\u4e2d\u8bbf\u95ee\u6570\u636e\u4ee5\u53ca\u5982\u4f55\u901a\u8fc7\u6a21\u677f\u5c55\u793a\u6570\u636e.\n\n\n7.1 \u57fa\u672c\u6d41\u7a0b:\u6570\u636e\u9a71\u52a8\u9875\u9762\n\n\n\u5728Django\u4e2d\u521b\u5efa\u6570\u636e\u9a71\u52a8\u9875\u9762\u5fc5\u987b\u6267\u884c\u4ee5\u4e0b5\u6b65.\n\n\n\n\n\u9996\u5148,\u5728\u4f60\u5e94\u7528\u7684\nviews.py\n\u6587\u4ef6\u4e2d\u5bfc\u5165\u4f60\u8981\u6dfb\u52a0\u7684\u6a21\u578b.\n\n\n\u5728\u89c6\u56fe\u91cc\u8bbf\u95ee\u6a21\u578b,\u5bfc\u5165\u4f60\u9700\u8981\u7684\u6570\u636e.\n\n\n\u628a\u6a21\u578b\u7684\u6570\u636e\u4f20\u9012\u7ed9\u6a21\u677f.\n\n\n\u8bbe\u7f6e\u6a21\u677f\u7ed9\u7528\u6237\u5448\u73b0\u6570\u636e.\n\n\n\u5982\u679c\u8fd8\u6ca1\u6709\u6620\u5c04URL,\u6620\u5c04\u4e00\u4e0b\u5427.\n\n\n\n\n\u4e0a\u9762\u7684\u6b65\u9aa4\u544a\u8bc9\u4f60\u5982\u4f55\u4f7f\u7528Django\u91cc\u7684\u6a21\u578b,\u89c6\u56fe\u548c\u6a21\u677f.\n\n\n7.2 \u5c55\u793aRango\u4e3b\u9875\u4e0a\u7684\u76ee\u5f55\n\n\n\u6211\u4eec\u9700\u8981\u5728rango\u7684\u4e3b\u9875\u663e\u793a5\u4e2a\u6700\u591a\u7684\u76ee\u5f55.\n\n\n7.2.1 \u5bfc\u5165\u9700\u8981\u7684\u6a21\u578b\n\n\n\u4e3a\u4e86\u8fbe\u5230\u76ee\u7684,\u6211\u4eec\u9700\u8981\u5b8c\u6210\u4e0a\u9762\u7684\u6b65\u9aa4.\u9996\u5148,\u6253\u5f00\nrango/view.py\n\u5e76\u5bfc\u5165rango\u7684\nmodels.py\n\u6587\u4ef6\u7684\nCategory\n\u6a21\u5757.\n\n\n# Import the Category model\nfrom rango.models import Category\n\n\n\n\n7.2.2 \u4fee\u6539index\u89c6\u56fe\n\n\n\u6709\u4e86\u7b2c\u4e00\u6b65,\u6211\u4eec\u9700\u8981\u4fee\u6539\nindex()\n\u51fd\u6570.\u8ba9\u6211\u4eec\u56de\u60f3\u4e00\u4e0b,\u8fd9\u4e2a\nindex()\n\u51fd\u6570\u8d1f\u8d23\u7ba1\u7406\u4e3b\u9875\u7684\u89c6\u56fe.\u4fee\u6539\u5982\u4e0b.\n\n\ndef index(request):\n    # Query the database for a list of ALL categories currently stored.\n    # Order the categories by no. likes in descending order.\n    # Retrieve the top 5 only - or all if less than 5.\n    # Place the list in our context_dict dictionary which will be passed to the template engine.\n    category_list = Category.objects.order_by('-likes')[:5]\n    context_dict = {'categories': category_list}\n\n    # Render the response and send it back!\n    return render(request, 'rango/index.html', context_dict)\n\n\n\n\n\u8fd9\u91cc\u6211\u4eec\u505a\u4e86\u7b2c\u4e8c\u6b65\u548c\u7b2c\u4e09\u6b65.\u9996\u5148,\u6211\u4eec\u8bbf\u95ee\nCategory\n\u6a21\u578b\u5f97\u52305\u4e2a\u6700\u591a\u7684\u76ee\u5f55.\u8fd9\u91cc\u7528\norder_by()\n\u65b9\u6cd5\u5bf9\u559c\u6b22\u7684\u6570\u91cf\u8fdb\u884c\u964d\u5e8f\u6392\u5e8f - \u6ce8\u610f\u5e26\u7740\n-\n.\u6700\u540e\u6211\u4eec\u53d6\u524d5\u4e2a\u76ee\u5f55\u4fdd\u5b58\u5230\ncategory_list\n\n\n\u5f53\u8bbf\u95ee\u6570\u636e\u5e93\u7ed3\u675f,\u6211\u4eec\u628a\u8fd9\u4e2a\u5217\u8868(\ncategory_list\n)\u4f20\u7ed9\u4e86\u5b57\u5178\ncontext_dict\n.\u8fd9\u4e2a\u5b57\u5178\u540c\u65f6\u4f1a\u4f5c\u4e3a\nrender()\n\u7684\u53c2\u6570\u8fd4\u56de\u7ed9\u6a21\u677f.\n\n\n\n\nWarning\n\n\n\u6ce8\u610fCategory\u6a21\u578b\u5305\u542b\nlikes\n\u5b57\u6bb5.\u589e\u6dfb\u5b83\u7684\u64cd\u4f5c\u5728\u524d\u9762\u7ae0\u8282\u7684\u7ec3\u4e60\u91cc,\u4f60\u9700\u8981\u5b8c\u6210\u5b83\u4eec.\n\n\n\n\n7.2.3 \u4fee\u6539index\u6a21\u677f\n\n\n\u4fee\u6539\u5b8c\u89c6\u56fe\u540e,\u6700\u540e\u5269\u4e0b\u7684\u5c31\u662f\u66f4\u6539\nrango/index.html\n\u6a21\u677f\u4e86.\u4ee3\u7801\u5982\u4e0b.\n\n\n!DOCTYPE html\n\n\nhtml\n\n    \nhead\n\n        \ntitle\nRango\n/title\n\n    \n/head\n\n\n    \nbody\n\n        \nh1\nRango says...hello world!\n/h1\n\n\n        {% if categories %}\n            \nul\n\n                {% for category in categories %}\n                \nli\n{{ category.name }}\n/li\n\n                {% endfor %}\n            \n/ul\n\n        {% else %}\n            \nstrong\nThere are no categories present.\n/strong\n\n        {% endif %}\n\n        \na href=\n/rango/about/\nAbout\n/a\n\n    \n/body\n\n\n/html\n\n\n\n\n\n\u8fd9\u91cc\u6211\u4eec\u7528\u4e86Django\u6a21\u677f\u8bed\u8a00\u91cc\u7684\nif\n\u548c\nfor\n\u63a7\u5236\u8bed\u53e5.\u5728\u9875\u9762\u7684\nbody\n\u91cc\u6211\u4eec\u68c0\u67e5\ncategories\n\u662f\u5426\u4e3a\u7a7a(\u4f8b\u5982,\n{% if categories %}\n).\n\n\n\u5982\u679c\u4e0d\u4e3a\u7a7a,\u4f1a\u5efa\u7acb\u4e00\u4e2a\u65e0\u5e8fHTML\u5217\u8868(\u5728\nul\n\u6807\u7b7e\u91cc).for\u5faa\u73af(\n{% for category in categories %}\n)\u4f1a\u4f9d\u6b21\u5728\nli\n\u6807\u7b7e\u91cc\u6253\u5370\u51fa\u6bcf\u4e2a\u76ee\u5f55\u7684\u540d\u5b57(\n{{ category.name }}\n).\n\n\n\u5982\u679c\u4e0d\u5b58\u5728\ncategories\n,\u5c06\u4f1a\u8f93\u51fa\nThere are no categories present.\n.\n\n\n\u4f5c\u4e3a\u6a21\u677f\u8bed\u8a00,\u6240\u6709\u7684\u547d\u4ee4\u90fd\u5305\u542b\u5728\n{%\n\u548c\n%}\n\u6807\u7b7e\u91cc,\u6240\u6709\u7684\u53d8\u91cf\u90fd\u5728\n{{\n\u548c\n}}\n\u91cc.\n\n\n\u5982\u679c\u8bbf\u95ee  http://127.0.0.1:8000/rango/ ,\u5982\u4e0b\u56fe\u6240\u793a.\n\n\n\n\n7.3 \u521b\u5efa\u8be6\u7ec6\u9875\u9762\n\n\n\u901a\u8fc7Rango\u7684\u8be6\u7ec6\u63cf\u8ff0,\u6211\u4eec\u9700\u8981\u5217\u51fa\u76ee\u5f55\u7684\u6bcf\u4e2a\u9875\u9762.\u73b0\u5728\u6211\u4eec\u9700\u8981\u514b\u670d\u8bb8\u591a\u56f0\u96be.\u6211\u4eec\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u89c6\u56fe\u4f5c\u4e3a\u53c2\u6570.\u6211\u4eec\u540c\u4e8b\u9700\u8981\u521b\u5efaURL\u6a21\u5f0f\u548cURL\u5b57\u7b26\u4e32\u6765\u5bf9\u5e94\u6bcf\u4e2a\u76ee\u5f55\u7684\u540d\u5b57.\n\n\n7.3.1 URL\u8bbe\u8ba1\u4e0e\u6620\u5c04\n\n\n\u8ba9\u6211\u4eec\u7740\u624b\u89e3\u51b3URL\u95ee\u9898.\u6709\u4e00\u79cd\u65b9\u6cd5\u662f\u4e3a\u6211\u4eec\u7684\u76ee\u5f55\u5728URL\u4e2d\u8bbe\u7acb\u552f\u4e00\u7684ID,\u6211\u4eec\u53ef\u4ee5\u521b\u5efa\u50cf\n/rango/category/1/\n\u6216\u8005\n/rango/category/2/\n,\u8fd9\u91cc\u7684\u6570\u5b571\u548c2\u5c31\u662f\u5b83\u4eec\u7684ID.\u4f46\u662f\u8fd9\u6837\u505a\u5bf9\u6211\u4eec\u6765\u8bf4\u4e0d\u592a\u597d\u7406\u89e3.\u5c3d\u7ba1\u6211\u4eec\u77e5\u9053\u6570\u5b57\u5173\u8054\u7740\u76ee\u5f55,\u4f46\u6211\u4eec\u600e\u4e48\u77e5\u90531\u548c2\u4ee3\u8868\u54ea\u4e2a\u76ee\u5f55\u5462?\u7528\u6237\u4e0d\u8bd5\u4e00\u4e0b\u5c31\u4e0d\u4f1a\u77e5\u9053.\n\n\n\u53e6\u4e00\u79cd\u65b9\u6cd5\u5c31\u662f\u7528\u76ee\u5f55\u540d\u4f5c\u4e3aURL.\n/rango/category/Python/\n\u5c06\u4f1a\u8fd4\u56de\u7ed9\u6211\u4eec\u5173\u4e8ePython\u7684\u76ee\u5f55.\u8fd9\u662f\u4e00\u4e2a\u7b80\u5355\u7684,\u53ef\u8bfb\u7684URL.\n\n\n\n\nNote\n\n\n\u5bf9\u4e8e\u7f51\u9875\u6765\u8bf4,\u8bbe\u8ba1\u4e00\u4e2a\u7b80\u6d01\u7684URL\u662f\u53ea\u7ba1\u91cd\u8981\u7684.\u66f4\u591a\u7ec6\u8282\u8bf7\u770b \nWikipedia\u2019s article on Clean URLs\n.\n\n\n\n\n7.3.2 \u4e3aCategory\u8868\u589e\u52a0Slug\u5b57\u6bb5\n\n\n\u4e3a\u4e86\u5efa\u7acb\u7b80\u6d01\u7684url\u6211\u4eec\u9700\u8981\u5728\nCategory\n\u6a21\u578b\u91cc\u589e\u52a0slug\u5b57\u6bb5.\u9996\u5148\u6211\u4eec\u9700\u8981\u4ecedjango\u5bfc\u5165\nslugify\n\u51fd\u6570,\u8fd9\u4e2a\u51fd\u6570\u7684\u4f5c\u7528\u662f\u628a\u7a7a\u683c\u7528\u8fde\u5b57\u7b26\u4ee3\u66ff,\u4f8b\u5982\"how do i create a slug in django\"\u5c06\u4f1a\u8f6c\u6362\u6210\"how-do-i-create-a-slug-in-djang\".\n\n\n\n\nWarning\n\n\n\u867d\u7136\u4f60\u80fd\u5728URL\u4e2d\u7528\u7a7a\u683c,\u4f46\u662f\u5b83\u4eec\u5e76\u4e0d\u5b89\u5168.\u66f4\u591a\u7ec6\u8282\u67e5\u770b\nIETF Memo on URLs\n.\n\n\n\n\n\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u4f1a\u91cd\u5199\nCategory\n\u6a21\u578b\u7684\nsave\n\u65b9\u6cd5,\u6211\u4eec\u5c06\u4f1a\u8c03\u7528\nslugify\n\u65b9\u6cd5\u5e76\u66f4\u65b0\nslug\n\u5b57\u6bb5.\u6ce8\u610f\u4efb\u4f55\u65f6\u5019\u76ee\u5f55\u540d\u79f0\u66f4\u6539\u90fd\u4f1a\u66f4\u6539slug.\u50cf\u4e0b\u9762\u4e00\u6837\u4fee\u6539\u6a21\u578b.\n\n\nfrom django.template.defaultfilters import slugify\n\nclass Category(models.Model):\n        name = models.CharField(max_length=128, unique=True)\n        views = models.IntegerField(default=0)\n        likes = models.IntegerField(default=0)\n        slug = models.SlugField(unique=True)\n\n        def save(self, *args, **kwargs):\n                self.slug = slugify(self.name)\n                super(Category, self).save(*args, **kwargs)\n\n        def __unicode__(self):\n                return self.name\n\n\n\n\n\u73b0\u5728\u9700\u8981\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u66f4\u65b0\u6a21\u578b\u548c\u6570\u636e\u5e93.\n\n\n$ python manage.py makemigrations rango\n$ python manage.py migrate\n\n\n\n\n\u56e0\u4e3a\u6211\u4eecslug\u6ca1\u6709\u8bbe\u7f6e\u9ed8\u8ba4\u503c,\u800c\u4e14\u6a21\u578b\u4e2d\u5df2\u7ecf\u52a0\u5165\u8fdb\u6570\u636e,\u6240\u4ee5migrate\u547d\u4ee4\u5c06\u4f1a\u7ed9\u4f60\u4e24\u4e2a\u9009\u9879.\u9009\u62e9\u63d0\u4f9b\u9ed8\u8ba4\u503c\u9009\u9879\u5e76\u8f93\u5165\u9ed8\u8ba4\u503c''.\u5b83\u4f1a\u9a6c\u4e0a\u8fdb\u884c\u4fee\u6539.\u73b0\u5728\u91cd\u65b0\u8fd0\u884cpopulation\u811a\u672c.\u56e0\u4e3a\u6bcf\u4e2a\u76ee\u5f55\u90fd\u4f1a\u6267\u884c\nsave\n\u65b9\u6cd5,\u6240\u4ee5\u91cd\u5199\u7684\nsave\n\u65b9\u6cd5\u5c06\u4f1a\u88ab\u6267\u884c\u4fee\u6539slug\u5b57\u6bb5.\u8fd0\u884cDjango\u670d\u52a1,\u4f60\u8bb2\u4f1a\u5728\u7ba1\u7406\u754c\u9762\u770b\u5230\u4fee\u6539\u7684\u6570\u636e.\n\n\n\u6ce8\u610f:\u8fd9\u91cc\u539f\u4e66\u4f1a\u6709\u9519\u8bef,\u539f\u56e0\u89c1http://stackoverflow.com/questions/27788456/integrityerror-column-slug-is-not-unique ,\u4fee\u6539\u89c1      https://github.com/leifos/tango_with_django/issues/19\n\n\n\u5728\u7ba1\u7406\u754c\u9762\u4f60\u6216\u8bb8\u5e0c\u671b\u5728\u586b\u5199\u76ee\u5f55\u540d\u7684\u65f6\u5019\u81ea\u52a8\u586b\u5145slug\u5b57\u6bb5.\u6309\u7167\u4e0b\u9762\u7684\u65b9\u6cd5.\n\n\nfrom django.contrib import admin\nfrom rango.models import Category, Page\n\n# Add in this class to customized the Admin Interface\nclass CategoryAdmin(admin.ModelAdmin):\n    prepopulated_fields = {'slug':('name',)}\n\n# Update the registeration to include this customised interface\nadmin.site.register(Category, CategoryAdmin)\nadmin.site.register(Page)\n\n\n\n\n\u5728\u7ba1\u7406\u754c\u9762\u5c1d\u8bd5\u589e\u52a0\u65b0\u7684\u76ee\u5f55.\u770b\u5230\u4e86\u5427!\u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u52a0\u5165slug\u5b57\u6bb5\u7528\u4f5c\u6211\u4eec\u7684url.\n\n\n7.3.3 \u76ee\u5f55\u9875\u9762\u6d41\u7a0b\n\n\n\u6211\u4eec\u8bbe\u8ba1\u5b8cURL\u4ee5\u540e,\u770b\u770b\u6211\u4eec\u63a5\u4e0b\u6765\u7684\u6b65\u9aa4.\n\n\n\n\n\u5728\nrango/views.py\n\u5bfc\u5165Page\u6a21\u578b.\n\n\n\u5728\nrango/views.py\n\u4e2d\u521b\u5efa\ncategory\n\u89c6\u56fe - \u8fd9\u4e2a\ncategory\n\u89c6\u56fe\u5c06\u4f1a\u589e\u52a0\u4e00\u4e2a\ncategory_name_url\n\u53c2\u6570\u6765\u5b58\u50a8\u76ee\u5f55\u540d.\n\n\n\u6211\u4eec\u9700\u8981\u4e00\u4e9b\u51fd\u6570\u6765\u5e2e\u52a9\u6211\u4eec\u5bf9\ncategory_name_url\n\u8fdb\u884c\u7f16\u7801.\n\n\n\n\n\n\n\u521b\u5efa\u4e00\u4e2a\u65b0\u6a21\u677f,\ntemplates/rango/category.html\n.\n\n\n\u4fee\u6539\nrango/urls.py\n\u91cc\u7684\nurlpatterns\n\u6620\u5c04\u65b0\u7684\ncategory\n\u89c6\u56fe.\n\n\n\n\n\u540c\u6837\u6211\u4eec\u9700\u8981\u4fee\u6539\nindex()\n\u89c6\u56fe\u548c\nindex.html\n\u6a21\u677f\u6765\u63d0\u4f9b\u5230\u76ee\u5f55\u9875\u9762\u7684\u94fe\u63a5.\n\n\n7.3.4 \u76ee\u5f55\u89c6\u56fe\n\n\n\u5728\nrango/views.py\n\u4e2d,\u6211\u4eec\u9700\u8981\u5bfc\u5165\nPage\n\u6a21\u578b.\u5982\u4e0b.\n\n\nfrom rango.models import Page\n\n\n\n\n\u4e0b\u9762\u6211\u4eec\u5c06\u4f1a\u52a0\u5165\u6211\u4eec\u7684\ncategory()\n\u89c6\u56fe:\n\n\ndef category(request, category_name_slug):\n\n    # Create a context dictionary which we can pass to the template rendering engine.\n    context_dict = {}\n\n    try:\n        # Can we find a category name slug with the given name?\n        # If we can't, the .get() method raises a DoesNotExist exception.\n        # So the .get() method returns one model instance or raises an exception.\n        category = Category.objects.get(slug=category_name_slug)\n        context_dict['category_name'] = category.name\n\n        # Retrieve all of the associated pages.\n        # Note that filter returns \n= 1 model instance.\n        pages = Page.objects.filter(category=category)\n\n        # Adds our results list to the template context under name pages.\n        context_dict['pages'] = pages\n        # We also add the category object from the database to the context dictionary.\n        # We'll use this in the template to verify that the category exists.\n        context_dict['category'] = category\n    except Category.DoesNotExist:\n        # We get here if we didn't find the specified category.\n        # Don't do anything - the template displays the \nno category\n message for us.\n        pass\n\n    # Go render the response and return it to the client.\n    return render(request, 'rango/category.html', context_dict)\n\n\n\n\n\u548c\nindex()\n\u89c6\u56fe\u4e00\u6837\u6211\u4eec\u7684\u65b0\u89c6\u56fe\u4e5f\u8981\u6267\u884c\u540c\u6837\u7684\u57fa\u672c\u6b65\u9aa4.\u6211\u4eec\u9700\u8981\u5b9a\u4e49\u4e00\u4e2a\u5b57\u5178,\u7136\u540e\u5c1d\u8bd5\u4ece\u6a21\u578b\u4e2d\u5bfc\u51fa\u6570\u636e,\u5e76\u628a\u6570\u636e\u6dfb\u52a0\u5230\u5b57\u5178\u91cc.\u6211\u4eec\u901a\u8fc7\u53c2\u6570\ncategory_name_slug\n\u7684\u503c\u6765\u51b3\u5b9a\u662f\u54ea\u4e2a\u76ee\u5f55.\u5982\u679c\u5728Category\u6a21\u578b\u4e2d\u627e\u5230\u76ee\u5f55,\u6211\u4eec\u5c31\u4f1a\u628a\ncontext_dict\n\u5b57\u5178\u4f20\u9012\u7ed9\u76f8\u5173\u9875\u9762.\n\n\n7.3.5 \u76ee\u5f55\u6a21\u677f\n\n\n\u73b0\u5728\u4e3a\u6211\u4eec\u7684\u65b0\u89c6\u56fe\u521b\u5efa\u6a21\u677f.\u5728\nworkspace\n/tango_with_django_project/templates/rango/\n\u76ee\u5f55\u521b\u5efa\ncategory.html\n.\n\n\n!DOCTYPE html\n\n\nhtml\n\n    \nhead\n\n        \ntitle\nRango\n/title\n\n    \n/head\n\n\n    \nbody\n\n        \nh1\n{{ category_name }}\n/h1\n\n        {% if category %}\n            {% if pages %}\n            \nul\n\n                {% for page in pages %}\n                \nli\na href=\n{{ page.url }}\n{{ page.title }}\n/a\n/li\n\n                {% endfor %}\n            \n/ul\n\n            {% else %}\n                \nstrong\nNo pages currently in category.\n/strong\n\n            {% endif %}\n        {% else %}\n            The specified category {{ category_name }} does not exist!\n        {% endif %}\n    \n/body\n\n\n/html\n\n\n\n\n\n\u4e0a\u9762\u7684HTML\u4ee3\u7801\u540c\u6837\u7ed9\u6211\u4eec\u5c55\u793a\u4e86\u5982\u4f55\u628a\u6570\u636e\u901a\u8fc7\u5b57\u5178\u4f20\u9012\u7ed9\u6a21\u677f.\u6211\u4eec\u7528\u5230\u4e86\ncategory_name\n\u53d8\u91cf\u548c\ncategory\n\u548c\npages\n\u5bf9\u8c61.\u5982\u679c\ncategory\n\u5728\u6a21\u677f\u4e0a\u4e0b\u6587\u5e76\u6ca1\u6709\u5b9a\u4e49,\u6216\u8005\u5728\u6570\u636e\u5e93\u5e76\u6ca1\u6709\u53d1\u73b0\u8fd9\u4e2a\u76ee\u5f55,\u90a3\u4e48\u5c31\u4f1a\u63d0\u793a\u4e00\u4e2a\u53cb\u597d\u7684\u9519\u8bef\u4fe1\u606f.\u76f8\u53cd\u7684\u8bdd\u5982\u679c\u5b58\u5728,\u6211\u4eec\u5c06\u4f1a\u68c0\u67e5\npages\n.\u5982\u679c\npages\n\u6ca1\u6709\u88ab\u5b9a\u4e49\u6216\u8005\u4e0d\u5b58\u5728\u5143\u7d20,\u6211\u4eec\u540c\u6837\u4e5f\u4f1a\u5448\u73b0\u53cb\u597d\u7684\u9519\u8bef\u63d0\u793a.\u5426\u5219\u7684\u8bdd\u76ee\u5f55\u91cc\u5305\u542b\u7684\u9875\u9762\u5c31\u4f1a\u5199\u5165HTML\u674e\u5f6a.\u5bf9\u4e8e\u5728\npages\n\u5217\u8868\u7684\u6bcf\u4e2a\u9875\u9762\u6211\u4eec\u90fd\u4f1a\u5c55\u793a\u5b83\u7684\ntitle\n\u548c\nurl\n.\n\n\n\n\nNote\n\n\nDjango\u6a21\u677f\u5305\u542b\n{% if %}\n\u6807\u7b7e - \u662f\u68c0\u6d4b\u5bf9\u8c61\u662f\u5426\u5728\u6a21\u677f\u4e0a\u4e0b\u6587\u7684\u597d\u65b9\u6cd5.\u5c1d\u8bd5\u5728\u4f60\u7684\u4ee3\u7801\u91cc\u4f7f\u7528\u4ee5\u51cf\u5c11\u9519\u8bef\u7684\u53d1\u751f.\n\n\n\n\n7.3.6 \u53c2\u6570\u5316\u7684URL\u6620\u5c04\n\n\n\u73b0\u5728\u8ba9\u6211\u4eec\u6765\u770b\u770b\u5982\u4f55\u628a\ncategory_name_url\n\u53c2\u6570\u503c\u4f20\u9012\u7ed9\ncategory()\n.\u6211\u4eec\u9700\u8981\u4fee\u6539rango\u7684\nurls.py\n\u6587\u4ef6\u548c\nurlpatterns\n\u5143\u7ec4.\n\n\nurlpatterns = patterns('',\n    url(r'^$', views.index, name='index'),\n    url(r'^about/$', views.about, name='about'),\n    url(r'^category/(?P\ncategory_name_slug\n[\\w\\-]+)/$', views.category, name='category'),)  # New!\n\n\n\n\n\u4f60\u80fd\u770b\u5230\u5f53\u6b63\u5219\u8868\u8fbe\u5f0f\nr'^(?P\ncategory_name_slug\n\\w+)/$\n\u5339\u914d\u65f6\u4f1a\u8c03\u7528\nview.category()\n\u51fd\u6570.\u6211\u4eec\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u4f1a\u5339\u914dURL\u659c\u6760\u524d\u6240\u6709\u7684\u5b57\u6bcd\u6570\u5b57(\u4f8b\u5982 a-z, A-Z, \u6216\u8005 0-9)\u548c\u8fde\u5b57\u7b26(-).\u7136\u540e\u628a\u8fd9\u4e2a\u503c\u4f5c\u4e3a\ncategory_name_slug\n\u53c2\u6570\u4f20\u9012\u7ed9\nviews.category()\n,\u8fd9\u4e2a\u53c2\u6570\u5fc5\u987b\u5728\u5f3a\u5236\u7684\nrequest\n\u53c2\u6570\u4e4b\u540e.\n\n\n\n\nNote\n\n\n\u5f53\u4f60\u5e0c\u671b\u53c2\u6570\u5316URL\u65f6,\u4e00\u5b9a\u8981\u786e\u4fdd\u4f60\u7684URL\u6a21\u5f0f\u4f1a\u6b63\u786e\u5339\u914d\u53c2\u6570.\u4e3a\u4e86\u66f4\u8fdb\u4e00\u6b65\u7684\u4e86\u89e3,\u8ba9\u6211\u4eec\u770b\u4e00\u770b\u4e0a\u9762\u7684\u4f8b\u5b50.\n\n\n\n\nurl(r'^category/(?P\ncategory_name_slug\n[\\w\\-]+)/$', views.category, name='category')\n\n\u6211\u4eec\u53ef\u4ee5\u4ece\u8fd9\u91cc\u627e\u5230\u5728\ncategory/\n\u548c\u540e\u9762\u7684\n/\n\u4e4b\u95f4\u7684\u5b57\u7b26\u4e32,\u5e76\u628a\u5b83\u4f5c\u4e3a\u53c2\u6570\ncategory_name_slug\n\u4f20\u9012\u7ed9\nviews.category()\n\u53c2\u6570.\u4f8b\u5982,URL\ncategory/python-books/\n\u5c06\u4f1a\u8fd4\u56de\u7684\ncategory_name_slug\n\u53c2\u6570\u662f\npython-books\n.\n\u9700\u8981\u77e5\u9053\u7684\u5341,\u6240\u6709\u7684\u89c6\u56fe\u51fd\u6570\u5fc5\u987b\u5e26\u81f3\u5c11\u4e00\u4e2a\u53c2\u6570.\u8fd9\u4e2a\u53c2\u6570\u662f\nrequest\n - \u5b83\u4f1a\u63d0\u4f9bHTTP\u8bf7\u6c42\u7528\u6237\u7684\u76f8\u5173\u4fe1\u606f\u3002\u5f53\u53c2\u6570\u5316URL\u65f6,\u53ef\u4ee5\u7ed9\u89c6\u56fe\u6dfb\u52a0\u5df2\u7ecf\u547d\u540d\u5fb7\u5c14\u53c2\u6570.\u4f7f\u7528\u4e0a\u9762\u7684\u4f8b\u5b50,\u6211\u4eec\u7684category\u89c6\u56fe\u662f\u8fd9\u6837\u7684.\n\ndef category(request, category_name_slug):\n\n\u9644\u52a0\u53c2\u6570\u7684\u4f4d\u7f6e\u4e0d\u91cd\u8981,\u91cd\u8981\u7684\u662f\u5728URL\u6a21\u5f0f\u4e2d\u5b9a\u4e49\u7684\u53c2\u6570\u540d\u79f0.\u6ce8\u610f\u5982\u4f55\u4e3a\u6211\u4eec\u7684\u89c6\u56fe\u5728URL\u6a21\u5f0f\u5339\u914d\u4e2d\u5b9a\u4e49\ncategory_name_slug\n\u53c2\u6570.\n\n\n\n\nNote\n\n\n\u6b63\u5219\u8868\u8fbe\u5f0f\u867d\u7136\u5f00\u59cb\u770b\u8d77\u6765\u6bd4\u8f83\u590d\u6742,\u4f46\u662f\u7f51\u4e0a\u6709\u8bb8\u591a\u8d44\u6599. \nThis cheat sheet\n\u5c06\u4f1a\u89e3\u51b3\u4f60\u7684\u7591\u95ee.\n\n\n\n\n7.3.7 \u4fee\u6539index\u6a21\u677f\n\n\n\u867d\u7136\u6211\u4eec\u7684\u89c6\u56fe\u5df2\u7ecf\u5efa\u7acb\u4e86,\u4f46\u662f\u8fd8\u8981\u505a\u7684\u5de5\u4f5c\u8bb8\u591a.\u6211\u4eec\u7684index\u6a21\u677f\u9700\u8981\u4fee\u6539\u5e76\u63d0\u4f9b\u7ed9\u7528\u6237category\u5217\u8868.\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7slug\u4e3a\nindex.htnl\n\u6a21\u677f\u4e2d\u6dfb\u52a0\u76ee\u5f55\u9875\u9762.\n\n\n!DOCTYPE html\n\n\nhtml\n\n    \nhead\n\n        \ntitle\nRango\n/title\n\n    \n/head\n\n\n    \nbody\n\n        \nh1\nRango says..hello world!\n/h1\n\n\n        {% if categories %}\n            \nul\n\n                {% for category in categories %}\n                \n!-- Following line changed to add an HTML hyperlink --\n\n                \nli\na href=\n/rango/category/{{ category.slug }}\n{{ category.name }}\n/a\n/li\n\n                {% endfor %}\n            \n/ul\n\n       {% else %}\n            \nstrong\nThere are no categories present.\n/strong\n\n       {% endif %}\n\n    \n/body\n\n\n/html\n\n\n\n\n\n\u8fd9\u91cc\u4e3a\u6bcf\u4e2a\u5217\u8868\u5143\u7d20(\nli\n)\u589e\u52a0\u4e00\u4e2aHTML\u8d85\u94fe\u63a5(\na\n).\u8d85\u94fe\u63a5\u6709\u4e00\u4e2a\nhref\n\u5c5e\u6027,\u6211\u4eec\u7528\n{{ category.slug}}\n\u6765\u5b9a\u4e49\u76ee\u6807URL.\n\n\n7.3.8 Demo\n\n\n\u8ba9\u6211\u4eec\u8bbf\u95eerango\u4e3b\u9875.\u4f60\u5c06\u4f1a\u770b\u5230\u5217\u51fa\u6240\u6709\u7684\u76ee\u5f55.\u8fd9\u4e9b\u76ee\u5f55\u90fd\u662f\u53ef\u4ee5\u70b9\u51fb\u7684\u94fe\u63a5.\u70b9\u51fb\nPython\n\u5c06\u4f1a\u5e26\u4f60\u738b\u6587\nPython\n\u76ee\u5f55\u89c6\u56fe,\u5982\u4e0b\u56fe\u6240\u793a.\u5982\u679c\u4f60\u770b\u5230\u4e86\u50cf\nOfficial Python Tutorial\n\u5217\u8868,\u8bf4\u660e\u4f60\u5df2\u7ecf\u6210\u529f\u4e86\u5efa\u7acb\u89c6\u56fe.\u8bd5\u7740\u8bbf\u95ee\u4e0d\u5b58\u5728\u7684\u76ee\u5f55,\u6bd4\u5982\n/rango/category/computers\n,\u4f60\u5c06\u4f1a\u770b\u5230\u9875\u9762\u4e0d\u5b58\u5728\u7684\u4fe1\u606f.\n\n\n\n\n7.4 \u7ec3\u4e60\n\n\n\u4e3a\u4e86\u5de9\u56fa\u6240\u5b66\u8bf7\u5b8c\u6210\u4e0b\u9762\u7684\u7ec3\u4e60\u5427.\n\n\n\n\n\u4fee\u6539index\u9875\u9762\u4e5f\u5305\u542b5\u4e2a\u6700\u591a\u8bbf\u95ee\u7684\u9875\u9762.\n\n\n\u67e5\u770b\npart three of official Django tutorial\n\n\n\n\n7.4.1 \u63d0\u793a\n\n\n\u4fee\u6539population\u811a\u672c,\u4e3a\u6bcf\u4e2a\u9875\u9762\u589e\u52a0\u6d4f\u89c8\u6b21\u6570.\n\n\n8 \u6709\u8da3\u7684\u8868\u5355\n\n\n\u5230\u76ee\u524d\u4e3a\u6b62\u6211\u4eec\u4ec5\u4ec5\u662f\u901a\u8fc7\u89c6\u56fe\u548c\u6a21\u677f\u6765\u8868\u73b0\u6570\u636e.\u5728\u672c\u7ae0,\u6211\u4eec\u5c06\u4f1a\u5b66\u4e60\u5982\u4f55\u901a\u8fc7web\u8868\u5355\u6765\u83b7\u53d6\u6570\u636e.Django\u5305\u542b\u4e00\u4e9b\u8868\u5355\u5904\u7406\u529f\u80fd,\u5b83\u4f7f\u5728web\u4e0a\u6536\u96c6\u7528\u6237\u4fe1\u606f\u53d8\u5f97\u7b80\u5355.\u901a\u8fc7\nDjango\u2019s documentation on forms\n\u6211\u4eec\u77e5\u9053\u8868\u5355\u5904\u7406\u529f\u80fd\u5305\u542b\u4ee5\u4e0b:\n\n\n\n\n\u663e\u793a\u4e00\u4e2aHTML\u8868\u5355\u81ea\u52a8\u751f\u6210\u7684\u7a97\u4f53\u90e8\u4ef6(\u6bd4\u5982\u4e00\u4e2a\u6587\u672c\u5b57\u6bb5\u6216\u8005\u65e5\u671f\u9009\u62e9\u5668).\n\n\n\u7528\u4e00\u7cfb\u5217\u89c4\u5219\u68c0\u67e5\u63d0\u4ea4\u6570\u636e.\n\n\n\u9a8c\u8bc1\u9519\u8bef\u7684\u60c5\u51b5\u4e0b\u5c06\u4f1a\u91cd\u65b0\u663e\u793a\u8868\u5355.\n\n\n\u628a\u63d0\u4ea4\u7684\u8868\u5355\u6570\u636e\u8f6c\u5316\u6210\u76f8\u5173\u7684Python\u6570\u636e\u7c7b\u578b.\n\n\n\n\n\u4f7f\u7528Django\u8868\u5355\u529f\u80fd\u6700\u5927\u7684\u597d\u5904\u5c31\u662f\u5b83\u53ef\u4ee5\u8282\u7701\u4f60\u7684\u5927\u91cf\u65f6\u95f4\u548cHTML\u65b9\u9762\u7684\u9ebb\u70e6.\u8fd9\u90e8\u5206\u6211\u4eec\u5c06\u4f1a\u6ce8\u91cd\u5982\u4f55\u901a\u8fc7\u8868\u5355\u8ba9\u7528\u6237\u589e\u52a0\u76ee\u5f55\u548c\u9875\u9762.\n\n\n8.1 \u57fa\u672c\u6d41\u7a0b\n\n\n\u57fa\u672c\u6b65\u9aa4\u5305\u62ec\u521b\u5efa\u8868\u5355\u548c\u5141\u8bb8\u7528\u6237\u901a\u8fc7\u8868\u5355\u8f93\u5165\u6570\u636e.\n\n\n\n\n\u5728Django\u5e94\u7528\u76ee\u5f55\u521b\u5efa\nforms.py\n\u76ee\u5f55\u6765\u5b58\u50a8\u548c\u8868\u5355\u76f8\u5173\u7684\u7c7b.\n\n\n\u4e3a\u6bcf\u4e2a\u4f7f\u7528\u8868\u5355\u7684\u6a21\u5757\u521b\u5efa\nModelForm\n\u7c7b.\n\n\n\u5b9a\u5236\u4f60\u7684\u8868\u5355.\n\n\n\u521b\u5efa\u6216\u4fee\u6539\u8868\u5355\u7684\u89c6\u56fe - \u5305\u62ec\u5c55\u793a\u8868\u5355,\u5b58\u50a8\u8868\u5355\u6570\u636e,\u5f53\u7528\u6237\u8f93\u5165\u9519\u8bef\u6570\u636e(\u6216\u8005\u6839\u672c\u6ca1\u6709\u8f93\u5165)\u65f6\u663e\u793a\u9519\u8bef\u6807\u5fd7.\n\n\n\u521b\u5efa\u6216\u4fee\u6539\u4f60\u8868\u5355\u7684\u6a21\u677f.\n\n\n\u4e3a\u65b0\u89c6\u56fe\u589e\u52a0\nurlpattern\n\u6620\u5c04(\u5982\u679c\u4f60\u521b\u5efa\u4e86\u4e00\u4e2a\u65b0\u7684).\n\n\n\n\n\u8fd9\u4e2a\u6d41\u7a0b\u5c06\u4f1a\u6bd4\u5148\u524d\u7684\u90fd\u590d\u6742\u4e9b,\u6211\u4eec\u521b\u5efa\u7684\u89c6\u56fe\u4e5f\u4f1a\u975e\u5e38\u590d\u6742.\u4f46\u662f\u5b70\u80fd\u751f\u5de7,\u5982\u679c\u591a\u7ec3\u51e0\u6b21\u5c31\u975e\u5e38\u597d\u638c\u63e1\u4e86.\n\n\n8.2 \u9875\u9762\u548c\u76ee\u5f55\u8868\u5355\n\n\n\u9996\u5148,\u6211\u4eec\u9700\u8981\u5728\nrango\n\u5e94\u7528\u76ee\u5f55\u91cc\u9ec4\u5efa\u53eb\u505a\nforms.py\n\u6587\u4ef6.\u5c3d\u7ba1\u8fd9\u6b65\u6211\u4eec\u5e76\u4e0d\u9700\u8981,\u6211\u4eec\u53ef\u4ee5\u628a\u8868\u5355\u653e\u5728\nmodels.py\n\u91cc,\u4f46\u662f\u8fd9\u5c06\u4f1a\u4f7f\u6211\u4eec\u7684\u4ee3\u7801\u7b80\u5355\u6613\u61c2.\n\n\n8.2.1 \u521b\u5efa\nModelForm\n\u7c7b\n\n\n\u5728rango\u7684\nforms.py\n\u6a21\u5757\u91cc\u6211\u4eec\u5c06\u4f1a\u521b\u5efa\u4e00\u4e9b\u7ee7\u627f\u81ea\nModelForm\n\u7684\u7c7b.\u5b9e\u9645\u4e0a,\nModelForm\n\u662f\u4e00\u4e2a\u5e2e\u52a9\u51fd\u6570,\u5b83\u5141\u8bb8\u4f60\u5728\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u6a21\u578b\u91cc\u521b\u5efaDjango\u8868\u5355.\u56e0\u4e3a\u6211\u4eec\u5b9a\u4e49\u4e86\u4e24\u4e2a\u6a21\u578b(\nCategory\n\u548c\nPage\n),\u6211\u4eec\u5c06\u4f1a\u5206\u522b\u4e3a\u5b83\u4eec\u521b\u5efa\nModelForms\n.\n\n\n\u5728\nrango/forms.py\n\u6dfb\u52a0\u4e0b\u9762\u4ee3\u7801:\n\n\nfrom django import forms\nfrom rango.models import Page, Category\n\nclass CategoryForm(forms.ModelForm):\n    name = forms.CharField(max_length=128, help_text=\nPlease enter the category name.\n)\n    views = forms.IntegerField(widget=forms.HiddenInput(), initial=0)\n    likes = forms.IntegerField(widget=forms.HiddenInput(), initial=0)\n    slug = forms.CharField(widget=forms.HiddenInput(), required=False)\n\n    # An inline class to provide additional information on the form.\n    class Meta:\n        # Provide an association between the ModelForm and a model\n        model = Category\n        fields = ('name',)\n\n\nclass PageForm(forms.ModelForm):\n    title = forms.CharField(max_length=128, help_text=\nPlease enter the title of the page.\n)\n    url = forms.URLField(max_length=200, help_text=\nPlease enter the URL of the page.\n)\n    views = forms.IntegerField(widget=forms.HiddenInput(), initial=0)\n\n    class Meta:\n        # Provide an association between the ModelForm and a model\n        model = Page\n\n        # What fields do we want to include in our form?\n        # This way we don't need every field in the model present.\n        # Some fields may allow NULL values, so we may not want to include them...\n        # Here, we are hiding the foreign key.\n        # we can either exclude the category field from the form,\n        exclude = ('category',)\n        #or specify the fields to include (i.e. not include the category field)\n        #fields = ('title', 'url', 'views')\n\n\n\n\nTODO(leifos):\u503c\u5f97\u6ce8\u610f\u7684\u662fDjango1.7+\u9700\u8981\u901a\u8fc7\nfields\n\u6307\u5b9a\u5305\u542b\u7684\u5b57\u6bb5,\u6216\u8005\u901a\u8fc7\nexclude\n\u6307\u5b9a\u6392\u9664\u7684\u5b57\u6bb5.\n\n\nDjango\u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u8bb8\u591a\u5b9a\u5236\u8868\u5355\u7684\u65b9\u6cd5.\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d,\u6211\u4eec\u6307\u5b9a\u4e86\u6211\u4eec\u60f3\u8981\u5c55\u793a\u5b57\u6bb5\u7684\u7a97\u53e3\u90e8\u4ef6.\u4f8b\u5982\u5728\u6211\u4eec\u7684\nPageForm\n\u7c7b\u4e2d,\u6211\u4eec\u4e3a\ntitle\n\u5b57\u6bb5\u5b9a\u4e49\nforms.CharField\n,\u4e3a\nurl\n\u5b57\u6bb5\u5b9a\u4e49\nforms.URLField\n.\u4e24\u4e2a\u5b57\u6bb5\u90fd\u4e3a\u7528\u6237\u63d0\u4f9b\u6587\u672c\u8f93\u5165.\u6ce8\u610f\u5b57\u6bb5\u91cc\u5305\u542b\nmax_length\n\u53c2\u6570 - \u5b83\u5b9a\u4e49\u5b57\u6bb5\u6700\u5927\u957f\u5ea6.\u53ef\u4ee5\u8fd4\u56de\u7b2c6\u7ae0\u6216\u8005rango\u7684\nmodels.py\n\u6587\u4ef6\u67e5\u770b.\n\n\n\u53ef\u4ee5\u770b\u5230\u5728\u6bcf\u4e2a\u8868\u5355\u90fd\u5305\u542b\u6d4f\u89c8\u548c\u559c\u6b22\u7684\nIntegerField\n\u5b57\u6bb5.\u6211\u4eec\u53ef\u4ee5\u5728\u53c2\u6570\u91cc\u8bbe\u7f6e\nwidget=forms.Hiddeninput()\n\u6765\u9690\u85cf\u7a97\u53e3\u7ec4\u4ef6,\u8bbe\u7f6e\ninitial=0\n\u6765\u8bbe\u7f6e\u9ed8\u8ba4\u503c\u4e3a0.\u8fd9\u662f\u4e0d\u7528\u7528\u6237\u53bb\u81ea\u5df1\u8bbe\u7f6e\u5b57\u6bb5\u4e3a0\u7684\u4e00\u79cd\u65b9\u6cd5.\u7136\u800c\u53ef\u4ee5\u5728\nPageForm\n\u770b\u5230,\u5c3d\u7ba1\u6211\u4eec\u9690\u85cf\u4e86\u5b57\u6bb5,\u4f46\u662f\u6211\u4eec\u8fd8\u662f\u5f97\u5728\u8868\u5355\u91cc\u5305\u542b\u5b57\u6bb5.\u5982\u679c\nfields\n\u6392\u9664\u4e86\nviews\n,\u90a3\u4e48\u8868\u5355\u5c06\u4e0d\u5305\u542b\u5b57\u6bb5(\u5c3d\u7ba1\u5df2\u7ecf\u5b9a\u4e49\u4e86)\u800c\u4e14\u5c06\u4e0d\u4f1a\u8fd4\u56de\u7ed9\u6a21\u578b0\u503c.\u7531\u4e8e\u6a21\u578b\u5efa\u7acb\u7684\u4e0d\u540c\u6709\u53ef\u80fd\u4f1a\u5f15\u8d77\u4e00\u4e2a\u9519\u8bef.\u5982\u679c\u5728\u6a21\u578b\u91cc\u6211\u4eec\u628a\u8fd9\u4e9b\u5b57\u6bb5\u5b9a\u4e49\u4e3a\ndefault=0\n\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u81ea\u52a8\u7684\u8fd4\u56de\u9ed8\u8ba4\u503c - \u4ece\u800c\u907f\u514d\nnot null\n\u9519\u8bef.\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5c31\u4e0d\u9700\u8981\u9690\u85cf\u5b57\u6bb5\u4e86.\u5728\u8868\u5355\u91cc\u6211\u4eec\u4e5f\u5305\u542b\u4e86\nslug\n\u5b57\u6bb5\u5e76\u8bbe\u7f6e\u4e3a\nwidget=forms.HiddenInput()\n\u503c,\u8fd9\u91cc\u6211\u4eec\u5e76\u6ca1\u7ed9\u4ed6\u8bbe\u7f6e\u521d\u59cb\u503c\u6216\u8005\u9ed8\u8ba4\u503c,\u800c\u662f\u8bbe\u7f6e\u4e3a\u4e0d\u9700\u8981(\nrequired=False\n).\u8fd9\u662f\u56e0\u4e3a\u6211\u4eec\u7684\u6a21\u578b\u5c06\u4f1a\u8d1f\u8d23\u586b\u5145\u5b57\u6bb5.\u5b9e\u9645\u4e0a,\u5f53\u4f60\u5b9a\u4e49\u6a21\u578b\u548c\u8868\u5355\u65f6\u4e00\u5b9a\u8981\u6ce8\u610f\u8868\u5355\u4e00\u5b9a\u8981\u5305\u542b\u548c\u4f20\u9012\u6240\u6709\u7684\u6570\u636e.\n\n\n\u9664\u4e86\nCharField\n\u548c\nIntegerField\n\u7ec4\u4ef6\u8fd8\u6709\u8bb8\u591a.\u4f8b\u5982,Django\u63d0\u4f9b\u4e86\nEmailField\n(e-mail\u5730\u5740\u5165\u53e3),\nChoiceField\n(\u8f93\u5165\u6309\u94ae)\u548c\nDateField\n(\u65e5\u671f/\u65f6\u95f4\u5165\u53e3).\u6709\u8bb8\u591a\u5176\u4ed6\u4e0d\u540c\u79cd\u7c7b\u5b57\u6bb5\u53ef\u4ee5\u4f7f\u7528,\u4ed6\u4eec\u53ef\u4ee5\u4e3a\u4f60\u68c0\u67e5\u6267\u884c\u9519\u8bef(\u4f8b\u5982\u662f\u5426\u63d0\u4f9b\u4e86\u4e00\u4e2a\u6709\u6548\u7684\u6574\u6570?).\u5f3a\u70c8\u5efa\u8bae\u4f60\u770b\u4e00\u4e0b\nofficial Django documentation on widgets\n\u6765\u5b9a\u5236\u81ea\u5df1\u7684\u7ec4\u4ef6.\n\n\n\u6216\u8bb8\u7ee7\u627f\nModelForm\n\u6700\u5927\u7684\u4f5c\u7528\u5c31\u662f\u9700\u8981\u5b9a\u4e49\u6211\u4eec\u8981\u7ed9\u54ea\u4e2a\u6a21\u578b\u63d0\u4f9b\u8868\u5355.\u6211\u4eec\u901a\u8fc7\nMeta\n\u7c7b\u6765\u5b9e\u73b0.\u5728\nMeta\n\u7c7b\u8bbe\u7f6e\nmodel\n\u5c5e\u6027\u4e3a\u6211\u4eec\u9700\u8981\u4f7f\u7528\u7684\u6a21\u578b.\u4f8b\u5982\nCategoryForm\n\u7c7b\u5f15\u7528\nCategory\n\u6a21\u578b.\u8fd9\u5bf9Django\u521b\u5efa\u6211\u4eec\u60f3\u8981\u7684\u6a21\u578b\u8868\u5355\u81f3\u5173\u91cd\u8981.\u5b83\u8fd8\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5728\u5b58\u50a8\u548c\u5c55\u793a\u8868\u5355\u6570\u636e\u65f6\u83b7\u53d6\u9519\u8bef.\n\n\n\u6211\u4eec\u4e5f\u53ef\u4ee5\u7528\nMeat\n\u7c7b\u6765\u5b9a\u4e49\u6211\u4eec\u5e0c\u671b\u5305\u62ec\u7684\u8868\u5355\u5b57\u6bb5.\u7528\nfields\n\u5143\u7ec4\u6765\u5b9a\u4e49\u6240\u9700\u5305\u542b\u7684\u5b57\u6bb5.\n\n\n\n\nNote\n\n\n\u5f3a\u70c8\u5efa\u8bae\u67e5\u770b \nofficial Django documentation on forms\n\u6765\u83b7\u53d6\u66f4\u591a.\n\n\n\n\n8.2.2 \u521b\u5efa\u548c\u589e\u52a0\u76ee\u5f55\u89c6\u56fe\n\n\n\u521b\u5efa\nCategoryForm\n\u7c7b\u4ee5\u540e,\u6211\u4eec\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u89c6\u56fe\u6765\u5c55\u793a\u8868\u5355\u5e76\u4f20\u9012\u6570\u636e.\u5728\nrango/views.py\n\u4e2d\u589e\u52a0\u5982\u4e0b\u4ee3\u7801.\n\n\nfrom rango.forms import CategoryForm\n\ndef add_category(request):\n    # A HTTP POST?\n    if request.method == 'POST':\n        form = CategoryForm(request.POST)\n\n        # Have we been provided with a valid form?\n        if form.is_valid():\n            # Save the new category to the database.\n            form.save(commit=True)\n\n            # Now call the index() view.\n            # The user will be shown the homepage.\n            return index(request)\n        else:\n            # The supplied form contained errors - just print them to the terminal.\n            print form.errors\n    else:\n        # If the request was not a POST, display the form to enter details.\n        form = CategoryForm()\n\n    # Bad form (or form details), no form supplied...\n    # Render the form with error messages (if any).\n    return render(request, 'rango/add_category.html', {'form': form})\n\n\n\n\n\u65b0\u7684\nadd_category()\n\u89c6\u56fe\u589e\u52a0\u51e0\u4e2a\u8868\u5355\u7684\u5173\u952e\u529f\u80fd.\u9996\u5148,\u68c0\u67e5HTTP\u8bf7\u6c42\u65b9\u6cd5\u662f\nGET\n\u8fd8\u662f\nPOST\n.\u6211\u4eec\u6839\u636e\u4e0d\u540c\u7684\u65b9\u6cd5\u6765\u8fdb\u884c\u5904\u7406 - \u4f8b\u5982\u5c55\u793a\u4e00\u4e2a\u8868\u5355(\u5982\u679c\u662f\nGET\n)\u6216\u8005\u5904\u7406\u8868\u5355\u6570\u636e(\u5982\u679c\u662f\nPOST\n) -\u6240\u6709\u8868\u5355\u90fd\u662f\u76f8\u540cURL.\nadd_category()\n\u89c6\u56fe\u5904\u7406\u4ee5\u4e0b\u4e09\u79cd\u4e0d\u540c\u60c5\u51b5:\n\n\n\n\n\u4e3a\u6dfb\u52a0\u76ee\u5f55\u63d0\u4f9b\u4e00\u4e2a\u65b0\u7684\u7a7a\u767d\u8868\u5355;\n\n\n\u4fdd\u5b58\u7528\u6237\u63d0\u4ea4\u7684\u6570\u636e\u7ed9\u6a21\u578b,\u5e76\u8f6c\u5411\u5230Rango\u4e3b\u9875;\n\n\n\u5982\u679c\u53d1\u751f\u9519\u8bef,\u5728\u8868\u5355\u91cc\u5c55\u793a\u9519\u8bef\u4fe1\u606f.\n\n\n\n\n\n\nNote\n\n\nGET\n\u548c\nPOST\n\u662f\u4ec0\u4e48\u610f\u601d?\u4ed6\u4eec\u662fHTTP\u8bf7\u6c42\u7684\u4e24\u4e2a\u4e0d\u540c\u7c7b\u578b.\n\n\n\n\n\u4e00\u4e2aHTTP\nGET\n\u7528\u6765\u8bf7\u6c42\u6307\u5b9a\u7684\u8d44\u6e90.\u6362\u53e5\u8bdd\u8bf4,\u4e0d\u7ba1\u4ed6\u662f\u7f51\u9875,\u56fe\u7247\u8fd8\u662f\u6587\u4ef6,\u6211\u4eec\u90fd\u53ef\u4ee5\u7528HTTP\nGET\n\u6765\u83b7\u53d6.\n\n\n\u76f8\u53cd\u7684HTTP\nPOST\n\u7528\u6765\u63d0\u4ea4\u5ba2\u6237\u7aef\u7f51\u9875\u6d4f\u89c8\u5668\u7684\u6570\u636e.\u8fd9\u79cd\u8bf7\u6c42\u7c7b\u578b\u7528\u6765\u63d0\u4ea4HTML\u8868\u5355.\n\n\n\u4e00\u4e2aHTTP\nPOST\n\u4e5f\u53ef\u80fd\u7528\u6765\u5728\u670d\u52a1\u5668\u4e0a\u521b\u5efa\u65b0\u7684\u8d44\u6e90(\u4f8b\u5982\u65b0\u7684\u6570\u636e\u5e93\u6761\u76ee),\u4ee5\u540e\u53ef\u4ee5\u901a\u8fc7HTTP\nGET\n\u8bf7\u6c42.\n\n\n\n\n\n\nDjango\u8868\u5355\u5904\u7406\u6570\u636e\u662f\u7528\u8fc7\u7528\u6237\u6d4f\u89c8\u5668\u7684HTTP\nPOST\n\u8bf7\u6c42\u5b9e\u73b0.\u5b83\u4e0d\u4ec5\u53ef\u4ee5\u5b58\u50a8\u8868\u5355\u6570\u636e,\u800c\u4e14\u8fd8\u80fd\u5bf9\u6bcf\u4e2a\u8868\u5355\u5b57\u6bb5\u81ea\u52a8\u751f\u6210\u9519\u8bef\u4fe1\u606f.\u8fd9\u5c31\u610f\u5473\u7740Django\u5c06\u4e0d\u4f1a\u5b58\u50a8\u8868\u5355\u7684\u9519\u8bef\u4fe1\u606f\u4ee5\u4fdd\u62a4\u6570\u636e\u5e93\u7684\u6570\u636e\u5b8c\u6574\u6027.\u4f8b\u5982\u5982\u679c\u76ee\u5f55\u540d\u4e3a\u7a7a\u7684\u8bdd\u5c06\u4f1a\u8fd4\u56de\u4e0d\u80fd\u4e3a\u7a7a\u7684\u9519\u8bef.\n\n\n\u6ce8\u610f\u5230\nrender()\n\u4e2d\u5c06\u4f1a\u8c03\u7528\nadd_category.html\n\u6a21\u677f,\u8fd9\u4e2a\u6a21\u677f\u5305\u542b\u8868\u5355\u548c\u9875\u9762.\n\n\n8.2.3 \u521b\u5efa\u589e\u52a0\u76ee\u5f55\u6a21\u677f\n\n\n\u8ba9\u6211\u4eec\u521b\u5efa\ntemplates/rango/add_category.html\n\u6587\u4ef6.\n\n\n!DOCTYPE html\n\n\nhtml\n\n    \nhead\n\n        \ntitle\nRango\n/title\n\n    \n/head\n\n\n    \nbody\n\n        \nh1\nAdd a Category\n/h1\n\n\n        \nform id=\ncategory_form\n method=\npost\n action=\n/rango/add_category/\n\n\n            {% csrf_token %}\n            {% for hidden in form.hidden_fields %}\n                {{ hidden }}\n            {% endfor %}\n\n            {% for field in form.visible_fields %}\n                {{ field.errors }}\n                {{ field.help_text }}\n                {{ field }}\n            {% endfor %}\n\n            \ninput type=\nsubmit\n name=\nsubmit\n value=\nCreate Category\n /\n\n        \n/form\n\n    \n/body\n\n\n\n/html\n\n\n\n\n\n\u597d\u5427,\u8fd9\u4e9b\u4ee3\u7801\u662f\u5e72\u4ec0\u4e48\u7684?\u53ef\u4ee5\u770b\u5230\u5728\nbody\n\u6807\u7b7e\u4e2d\u6211\u4eec\u8bbe\u7f6e\u4e86\u4e00\u4e2a\nform\n\u5143\u7d20.\u518d\u6765\u770b\u770b\nform\n\u4e2d\u7684\u5143\u7d20,\u6240\u6709\u8868\u5355\u4e2d\u7684\u6570\u636e\u5c06\u4f1a\u7528\nPOST\n\u8bf7\u6c42\u53d1\u9001\u7ed9\n/rango/add_category/\n(\nmethod\n\u5c5e\u6027\u5927\u5c0f\u5199\u4e0d\u654f\u611f,\u6240\u4ee5\u53ef\u4ee5\u5199\u6210\nPOST\n\u6216\u662f\npost\n - \u4e24\u8005\u529f\u80fd\u4e00\u6837).\u5728\u8868\u5355\u91cc\u6211\u4eec\u6709\u4e24\u4e2a\u5faa\u73af - \u4e00\u4e2a\u63a7\u5236\u8868\u5355\u9690\u85cf\u5b57\u6bb5,\u53e6\u4e00\u4e2a\u5219\u662f\u53ef\u89c1\u5b57\u6bb5 - \u53ef\u89c1\u5b57\u6bb5\u7684\u8bbe\u7f6e\u662f\u5728\nModelForm\n\u7684\nMeta\n\u7c7b\u4e2d\u8bbe\u7f6e\nfields\n\u5c5e\u6027\u6765\u5b9e\u73b0\u7684.\u8fd9\u4e9b\u5faa\u73af\u5e2e\u52a9\u6211\u4eec\u751f\u6210HTML\u6807\u8bb0.\u5bf9\u4e8e\u8868\u5355\u7684\u53ef\u89c1\u5b57\u6bb5,\u6211\u4eec\u4e5f\u8bbe\u7f6e\u4e00\u4e2a\u7279\u6b8a\u533a\u57df\u6765\u5c55\u793a\u9519\u8bef\u4fe1\u606f,\u540c\u65f6\u8bbe\u7f6e\u5e2e\u52a9\u6587\u672c\u544a\u8bc9\u7528\u6237\u90a3\u9700\u8981\u8f93\u5165\u4ec0\u4e48.\n\n\n\n\nNote\n\n\n\u4f7f\u7528\u9690\u85cf\u548c\u53ef\u89c1\u8868\u5355\u5b57\u6bb5\u662f\u56e0\u4e3aHTTP\u662f\u65e0\u72b6\u6001\u534f\u8bae.\u4f60\u4e0d\u53ef\u4ee5\u5728\u4e24\u4e2a\u4e0d\u540c\u7684HTTP\u8bf7\u6c42\u4e4b\u95f4\u4fdd\u6301\u72b6\u6001,\u56e0\u4e3a\u5b9e\u73b0\u8d77\u6765\u76f8\u5f53\u590d\u6742.\u4e3a\u4e86\u6446\u8131\u8fd9\u4e2a\u9650\u5236,\u521b\u5efa\u9690\u85cf\u7684HTML\u8868\u5355\u5b57\u6bb5\u53ef\u4ee5\u4f7fweb\u5e94\u7528\u4f20\u9012\u7ed9\u7528\u6237HTML\u8868\u5355\u91cd\u8981\u7684\u6570\u636e,\u53ea\u6709\u7528\u6237\u63d0\u4ea4\u7684\u65f6\u5019\u624d\u4f1a\u8fd4\u56de\u6570\u636e.\n\n\n\n\n\u53ef\u80fd\u4f60\u4e5f\u6ce8\u610f\u5230\u4e86\u4ee3\u7801\n{% csrf_token %}\n,\u8fd9\u662f\u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020\u4ee4\u724c,\u6709\u52a9\u4e8e\u4fdd\u62a4\u6211\u4eec\u63d0\u4ea4\u8868\u5355\u7684HTTP\nPOST\n\u65b9\u6cd5\u7684\u5b89\u5168.Django\u6846\u67b6\u8981\u6c42\u4f7f\u7528CSRFtoken.\u5982\u679c\u5fd8\u8bb0\u5728\u4f60\u7684\u8868\u5355\u91cc\u5305\u542bCSRF\u4ee4\u724c,\u6709\u53ef\u80fd\u4f1a\u5728\u63d0\u4ea4\u8868\u5355\u65f6\u9047\u5230\u9519\u8bef.\u67e5\u770b \nofficial Django documentation on CSRF tokens\n \u4ee5\u83b7\u53d6\u66f4\u591a\u4fe1\u606f.\n\n\n8.2.4 \u6620\u5c04\u589e\u52a0\u76ee\u5f55\u89c6\u56fe\n\n\n\u73b0\u5728\u6211\u4eec\u9700\u8981\u6620\u5c04\nadd_category()\n\u89c6\u56fe.\u5728\u6a21\u677f\u91cc\u6211\u4eec\u4f7f\u7528\n/rango/add_category/\nURL\u6765\u63d0\u4ea4.\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4fee\u6539\nrango/urls.py\n\u7684\nurlpattterns\n.\n\n\nurlpatterns = patterns('',\n    url(r'^$', views.index, name='index'),\n    url(r'^about/$', views.about, name='about'),\n    url(r'^add_category/$', views.add_category, name='add_category'), # NEW MAPPING!\n    url(r'^category/(?P\ncategory_name_slug\n[\\w\\-]+)/$', views.category, name='category'),)\n\n\n\n\n\u5728\u8fd9\u91cc\u987a\u5e8f\u5e76\u4e0d\u91cd\u8981.\u66f4\u591a\u5185\u5bb9\u9700\u8981\u67e5\u770b\nofficial Django documentation on how Django process a request\n.\u6211\u4eec\u589e\u52a0\u7684URL\u662f\n/rango/add_category/\n.\n\n\n8.2.5 \u4fee\u6539\u4e3b\u9875\u5185\u5bb9\n\n\n\u4f5c\u4e3a\u6700\u540e\u4e00\u6b65,\u8ba9\u6211\u4eec\u5728\u9996\u9875\u91cc\u52a0\u5165\u94fe\u63a5.\u4fee\u6539\nrango/index.html\n\u6587\u4ef6,\u5728\n/body\n\u524d\u6dfb\u52a0\u5982\u4e0b\u4ee3\u7801.\n\n\na href=\n/rango/add_category/\nAdd a New Category\n/a\nbr /\n\n\n\n\n\n8.2.6 Demo\n\n\n\u73b0\u5728\u8bd5\u4e00\u8bd5!\u542f\u52a8Django\u670d\u52a1,\u8fdb\u5165\nhttp://127.0.0.1:8000/rango/\n.\u7528\u65b0\u52a0\u7684\u94fe\u63a5\u8df3\u8f6c\u5230\u589e\u52a0\u76ee\u5f55\u9875\u9762,\u7136\u540e\u589e\u52a0\u9875\u9762.\u4e0b\u56fe\u662f\u589e\u52a0\u76ee\u5f55\u548c\u9996\u9875\u622a\u56fe.\n\n\n\n\n\n\nNote\n\n\n\u5982\u679c\u4f60\u589e\u52a0\u8bb8\u591a\u76ee\u5f55,\u5b83\u4eec\u6709\u53ef\u80fd\u4e0d\u4f1a\u51fa\u73b0\u5728\u9996\u9875,\u8fd9\u662f\u56e0\u4e3a\u6211\u4eec\u7d27\u7d27\u5c55\u793a5\u4e2a\u76ee\u5f55.\u5982\u679c\u767b\u5f55\u7ba1\u7406\u754c\u9762\u4f60\u5c31\u80fd\u770b\u5230\u6240\u6709\u8f93\u5165\u7684\u76ee\u5f55\u4e86.#TODO\n\n\n\n\n8.2.7 \u6e05\u7406\u8868\u5355\n\n\n\u8bb0\u5f97\u6211\u4eec\nPage\n\u6a21\u578b\u6709\u4e00\u4e2a\nurl\n\u5c5e\u6027\u8bbe\u7f6e\u4e3a\nURLField\n\u7c7b\u578b.\u5728\u76f8\u5e94\u7684HTML\u8868\u5355,Django\u5e0c\u671b\u4efb\u4f55\u6587\u672c\u8f93\u5165\u7684URL\u5b57\u6bb5\u662f\u4e00\u4e2a\u5b8c\u6574\u7684URL.\u7136\u800c,\u7528\u6237\u80fd\u53d1\u73b0\u8f93\u5165\u50cf\nhttp://www.url.com\n\u8fd9\u79cd\u5f62\u5f0f\u6709\u4e9b\u7e41\u7410 - \u786e\u5b9e,\u7528\u6237 \nmay not even know what forms a correct URL\n!\n\n\n\u8bbe\u60f3\u6709\u65f6\u5019\u7528\u6237\u8f93\u5165\u5e76\u4e0d\u662f\u4e00\u5b9a\u6b63\u786e,\u6211\u4eec\u53ef\u4ee5\u91cd\u5199\nModelForm\n\u6a21\u5757\u91cc\nclean()\n\u65b9\u6cd5.\u8fd9\u4e2a\u65b9\u6cd5\u4f1a\u5728\u8868\u5355\u6570\u636e\u5b58\u50a8\u5230\u6a21\u578b\u5b9e\u4f8b\u4e4b\u524d\u88ab\u8c03\u7528,\u6240\u4ee5\u5b83\u53ef\u4ee5\u8ba9\u6211\u4eec\u9a8c\u8bc1\u751a\u81f3\u4fee\u6539\u7528\u6237\u8f93\u5165\u7684\u6570\u636e.\u5728\u6211\u4eec\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d,\u6211\u4eec\u53ef\u4ee5\u68c0\u67e5\nurl\n\u5b57\u6bb5\u7684\u503c\u662f\u5426\u4ee5\nhttp://\n\u5f00\u5934 - \u5982\u679c\u4e0d\u662f\u6211\u4eec\u53ef\u4ee5\u5728\u7528\u6237\u524d\u9762\u6dfb\u52a0\u4e0a\nhttp://\n.\n\n\nclass PageForm(forms.ModelForm):\n\n    ...\n\n    def clean(self):\n        cleaned_data = self.cleaned_data\n        url = cleaned_data.get('url')\n\n        # If url is not empty and doesn't start with 'http://', prepend 'http://'.\n        if url and not url.startswith('http://'):\n            url = 'http://' + url\n            cleaned_data['url'] = url\n\n        return cleaned_data\n\n\n\n\n\u5728\nclean()\n\u65b9\u6cd5\u91cc.\n\n\n\n\n\u8868\u5355\u6570\u636e\u7684\u5b57\u5178\u4ece\nModelForm\n\u7684\ncleaned_data\n\u5c5e\u6027\u83b7\u53d6.\n\n\n\u4f60\u5e0c\u671b\u68c0\u67e5\u7684\u8868\u5355\u5b57\u6bb5\u53ef\u4ee5\u5728\ncleaned_data\n\u5b57\u5178\u4e2d\u83b7\u53d6.\u4f7f\u7528\n.get()\n\u5b57\u5178\u65b9\u6cd5\u83b7\u53d6\u8868\u5355\u503c.\u5982\u679c\u7528\u6237\u6ca1\u6709\u8868\u5355\u5b57\u6bb5,\u90a3\u4e48\ncleaned_data\n\u5b57\u5178\u5c31\u6ca1\u6709\u8fd9\u9879.\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\n.get()\n\u4f1a\u8fd4\u56de\nNone\n\u800c\u4e0d\u662f\u5f15\u53d1\u5f02\u5e38.\u6d59\u6c5f\u4f1a\u662f\u4f60\u7684\u4ee3\u7801\u66f4\u52a0\u7b80\u6d01!\n\n\n\u5904\u7406\u4f60\u5e0c\u671b\u5904\u7406\u7684\u8868\u5355\u5b57\u6bb5.\u5982\u679c\u8f93\u5165\u4e86\u4e00\u4e2a\u503c,\u68c0\u67e5\u8fd9\u4e2a\u503c.\u5982\u679c\u4e0d\u662f\u4f60\u5e0c\u671b\u7684\u503c,\u4f60\u53ef\u4ee5\u5728\u5b58\u50a8\u5230\ncleaned_data\n\u5b57\u5178\u4e4b\u524d\u589e\u52a0\u4e00\u4e9b\u903b\u8f91\u6765\u4fee\u6539\u8fd9\u4e2a\u503c.\n\n\n\u5fc5\u987b\u6bcf\u6b21\u90fd\u662f\u4ee5\u8fd4\u56de\ncleaned_data\n\u5b57\u5178\u6765\u7ed3\u675f\nclean()\n\u65b9\u6cd5.\u5982\u679c\u6ca1\u6709\u5c06\u4f1a\u5f97\u5230\u9519\u8bef\u63d0\u793a.\n\n\n\n\n\u8fd9\u4e2a\u5c0f\u4f8b\u5b50\u8bf4\u660e\u5982\u4f55\u5728\u8868\u5355\u6570\u636e\u5b58\u50a8\u4e4b\u524d\u8fdb\u884c\u4fee\u6539.\u8fd9\u662f\u975e\u5e38\u65b9\u4fbf\u7684,\u5c24\u5176\u662f\u6709\u4e00\u4e9b\u5b57\u6bb5\u9700\u8981\u8bbe\u5b9a\u9ed8\u8ba4\u503c\u65f6 - \u6216\u8005\u8868\u5355\u4e2d\u7684\u6570\u636e\u53d1\u751f\u4e86\u4e22\u5931.\n\n\n\n\nNote\n\n\n\u91cd\u5199\u65b9\u6cd5\u662fDjango\u6846\u67b6\u63d0\u4f9b\u7ed9\u6211\u4eec\u589e\u52a0\u5e94\u7528\u989d\u5916\u529f\u80fd\u7684\u4e00\u79cd\u4f18\u96c5\u7684\u65b9\u6cd5.\u5c31\u50cf\nModelForm\n\u6a21\u5757\u4e2d\nclean()\n\u65b9\u6cd5\u4e00\u6837,Django\u63d0\u4f9b\u4e86\u8bb8\u591a\u5b89\u5168\u7684\u65b9\u6cd5\u53ef\u4ee5\u4f9b\u4f60\u91cd\u5199.\u68c0\u67e5 \nthe Official Django Documentation on Models\n\u4ee5\u83b7\u53d6\u66f4\u591a\u4fe1\u606f.\n\n\n\n\n8.3 \u7ec3\u4e60\n\n\n\u7ec3\u4e60\u4e0b\u9762\u9898\u76ee\u5de9\u56fa\u6240\u5b66.\n\n\n\n\n\u5f53\u5728\u589e\u52a0\u76ee\u5f55\u8868\u5355\u8f93\u5165\u7a7a\u503c\u5c06\u4f1a\u53d1\u751f\u4ec0\u4e48?\n\n\n\u589e\u52a0\u4e00\u4e2a\u5df2\u5b58\u5728\u7684\u76ee\u5f55\u4f1a\u53d1\u751f\u4ec0\u4e48?\n\n\n\u8bbf\u95ee\u4e0d\u5b58\u5728\u7684\u76ee\u5f55\u4f1a\u53d1\u751f\u4ec0\u4e48?\n\n\n\u5f53\u7528\u6237\u8bbf\u95ee\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684\u76ee\u5f55\u65f6\u5982\u4f55\u4f18\u96c5\u7684\u5904\u7406?\n\n\n\u67e5\u770b \npart four of the official Django Tutorial\n\n\n\n\n8.3.1 \u521b\u5efa\u589e\u52a0\u9875\u9762\u89c6\u56fe,\u6a21\u677f\u548cURL\u6620\u5c04\n\n\n\u4e0b\u4e00\u6b65\u662f\u8981\u6c42\u7528\u6237\u5bf9\u4e8e\u7ed9\u51fa\u7684\u76ee\u5f55\u589e\u52a0\u9875\u9762.\u4e3a\u4e86\u65f6\u95f4\u8fd9\u4e2a,\u6211\u4eec\u9700\u8981\u91cd\u590d\u4e0a\u9762\u76f8\u540c\u7684\u6d41\u7a0b - \u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8bd5\u56fe(\nadd_page()\n),\u4e00\u4e2a\u65b0\u7684\u6a21\u677f(\nrango/add_page.html\n),URL\u6620\u5c04\u548c\u5728\u76ee\u5f55\u9875\u9762\u589e\u52a0\u4e00\u4e2a\u94fe\u63a5.\u8fd9\u91cc\u7ed9\u51fa\u4e00\u70b9\u63d0\u793a.\n\n\nfrom rango.forms import PageForm\n\ndef add_page(request, category_name_slug):\n\n    try:\n        cat = Category.objects.get(slug=category_name_slug)\n    except Category.DoesNotExist:\n                cat = None\n\n    if request.method == 'POST':\n        form = PageForm(request.POST)\n        if form.is_valid():\n            if cat:\n                page = form.save(commit=False)\n                page.category = cat\n                page.views = 0\n                page.save()\n                # probably better to use a redirect here.\n                return category(request, category_name_slug)\n        else:\n            print form.errors\n    else:\n        form = PageForm()\n\n    context_dict = {'form':form, 'category': cat}\n\n    return render(request, 'rango/add_page.html', context_dict)\n\n\n\n\n8.3.2 \u63d0\u793a\n\n\n\n\n\u4fee\u6539\ncategory()\n\u89c6\u56fe,\u628a\ncategory_name_slug\n\u52a0\u5165\u8fdb\u89c6\u56fe\u7684\ncontext_dict\n\u5b57\u5178.\n\n\n\u4fee\u6539\ncategory.html\n\u6dfb\u52a0\n/rango/category/\ncategory_name_url\n/add_page/\n\u94fe\u63a5.\n\n\n\u786e\u4fdd\u53ea\u6709\u8bf7\u6c42\u7684\u76ee\u5f55\u5b58\u5728\u65f6\u624d\u4f1a\u51fa\u73b0\u94fe\u63a5 -\u9875\u9762\u5b58\u5728\u6216\u4e0d\u5b58\u5728\u7686\u53ef.\u4f8b\u5982,\u5728\u6a21\u677f\u7528\n{% if category %} .... {% else %} A category by this name does not exist {% endif %}\n.\n\n\n\u5728\nrangp/urls.py\n\u4fee\u6539URL\u6620\u5c04.\n\n\n\n\n9 \u7528\u6237\u9a8c\u8bc1\n\n\n\u6559\u7a0b\u7684\u4e0b\u4e00\u90e8\u5206\u5c06\u6559\u4f1a\u4f60Django\u7684\u7528\u6237\u9a8c\u8bc1\u673a\u5236.\u6211\u4eec\u5c06\u4f1a\u4f7f\u7528Django\u6807\u51c6\u5305\ndjango.contrib.auth\n\u7684\nauth\n\u5e94\u7528.\u901a\u8fc7 \nDjango\u2019s official documentation on Authentication\n,\u5e94\u7528\u5305\u542b\u4e0b\u9762\u51e0\u65b9\u9762.\n\n\n\n\n\u7528\u6237.\n\n\n\u6743\u9650:\u4e00\u7cfb\u5217\u7684\u4e8c\u8fdb\u5236\u6807\u5fd7(\u4f8b\u5982 yes/no)\u51b3\u5b9a\u7528\u6237\u53ef\u4ee5\u505a\u6216\u4e0d\u53ef\u4ee5\u505a\u4ec0\u4e48.\n\n\n\u7fa4\u7ec4:\u4e3a\u4e0d\u6b62\u4e00\u4e2a\u7528\u6237\u63d0\u4f9b\u6743\u9650\u7684\u65b9\u6cd5.\n\n\n\u7528\u6237\u767b\u5f55\u7684\u8868\u5355\u548c\u89c6\u56fe\u5de5\u5177,\u8fd8\u6709\u9650\u5236\u5185\u5bb9.\n\n\n\n\n\u5728\u7528\u6237\u9a8c\u8bc1\u65b9\u9762Django\u53ef\u4ee5\u505a\u5f88\u591a.\u6211\u4eec\u5c06\u4ece\u57fa\u7840\u5f00\u59cb\u5b66\u4e60.\u8fd9\u5c06\u975e\u5e38\u6709\u5229\u4e8e\u5efa\u7acb\u4f7f\u7528\u5b83\u4eec\u7684\u4fe1\u5fc3\u548c\u5b83\u4eec\u8fd0\u884c\u7684\u7406\u5ff5.\n\n\n9.1 \u8bbe\u7f6e\u9a8c\u8bc1\n\n\n\u5728\u4f60\u4f7f\u7528Django\u7684\u9a8c\u8bc1\u4e4b\u524d,\u4f60\u9700\u8981\u786e\u5b9a\u5728\u4f60\u7684Rango\u9879\u76ee\u7684\nsettings.py\n\u6587\u4ef6\u91cc\u5df2\u7ecf\u8bbe\u7f6e\u4e86\u76f8\u5173\u5185\u5bb9.\n\n\n\u5728\nsettings.py\n\u6587\u4ef6\u91cc\u627e\u5230\nINSTALLED_APPS\n\u5143\u7ec4,\u68c0\u67e5\ndjango.contrib.auth\n\u548c\ndjango.contrib.contenttypes\n\u662f\u5426\u5728\u5143\u7ec4\u91cc.\n\n\nINSTALLED_APPS = (\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'rango',\n)\n\n\n\n\ndjango.contrib.auth\n\u4e3aDjango\u63d0\u4f9b\u8bbf\u95ee\u8ba4\u8bc1\u7cfb\u7edf,\ndjango.contrib.contenttypes\n\u53ef\u4ee5\u901a\u8fc7\u8ba4\u8bc1\u7684\u5e94\u7528\u7a0b\u5e8f\u6765\u8ddf\u8e2a\u5b89\u88c5\u7684\u6570\u636e\u5e93\u6a21\u578b.\n\n\n\n\nNote\n\n\n\u5982\u679c\u4f60\u9700\u8981\u5728\nINSTALLED_APPS\n\u5143\u7ec4\u91cc\u6dfb\u52a0\nauth\n\u5e94\u7528,\u4f60\u9700\u8981\u7528\u547d\u4ee4\npython manage.py migrate\n\u6765\u8fdb\u884c\u66f4\u65b0\u6570\u636e\u5e93.\n\n\n\n\n\u5bc6\u7801\u9ed8\u8ba4\u5c06\u4f1a\u7528 \nPBKDF2 algorithm\n\u8fdb\u884c\u50a8\u5b58,\u5b83\u53ef\u4ee5\u5b89\u5168\u7684\u4fdd\u5b58\u4f60\u7528\u6237\u7684\u6570\u636e.\u5728 \nofficial Django documentation on how django stores passwords\n\u4f60\u53ef\u4ee5\u4e86\u89e3\u5230\u66f4\u591a,\u6587\u6863\u8fd8\u63d0\u4f9b\u4e86\u4f7f\u7528\u4e0d\u540c\u7684\u54c8\u5e0c\u7b97\u6cd5\u6765\u63d0\u9ad8\u5b89\u5168\u7b49\u7ea7.\n\n\n\u5982\u679c\u4f60\u5e0c\u671b\u63a7\u5236\u4f7f\u7528\u54ea\u79cd\u54c8\u5e0c\u7b97\u6cd5,\u4f60\u9700\u8981\u5728\nsettings.py\n\u91cc\u52a0\u5165\nPASSWORD_HASHERS\n\u5143\u7ec4:\n\n\nPASSWORD_HASHERS = (\n'django.contrib.auth.hashers.PBKDF2PasswordHasher',\n'django.contrib.auth.hashers.PBKDF2SHA1PasswordHasher',\n)\n\n\n\n\nDjango\u5c06\u4f1a\u4f7f\u7528\nPASSWORD_HASERS\n\u91cc\u7684\u7b2c\u4e00\u4e2a\u54c8\u5e0c\u7b97\u6cd5(\u4f8b\u5982 \nsettings.PASSWORD_HASHERS[0]\n).\u5982\u679c\u60f3\u8981\u83b7\u53d6\u66f4\u591a\u7684\u5b89\u5168\u7684\u54c8\u5e0c\u7b97\u6cd5,\u53ef\u4ee5\u7528\npip install bcrypt\n\u6765\u5b89\u88c5Bcrypt(\u67e5\u770b https://pypi.python.org/pypi/bcrypt/ ),\u7136\u540e\u5728\nPASSWORD_HASHERS\n\u8bbe\u7f6e\u5982\u4e0b:\n\n\nPASSWORD_HASHERS = (\n        'django.contrib.auth.hashers.BCryptSHA256PasswordHasher',\n'django.contrib.auth.hashers.BCryptPasswordHasher',\n'django.contrib.auth.hashers.PBKDF2PasswordHasher',\n'django.contrib.auth.hashers.PBKDF2SHA1PasswordHasher',\n)\n\n\n\n\n\u7136\u800c\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f60\u4e0d\u9700\u8981\u4fee\u6539\nPASSWORD_HASHERS\n,Django\u9ed8\u8ba4\u6dfb\u52a0\ndjango.contrib.auth.hashers.PBKDF2PasswordHasher\n.\n\n\n9.2 \u7528\u6237\u6a21\u578b\n\n\nDjango\u8ba4\u8bc1\u7cfb\u7edf\u6700\u91cd\u8981\u7684\u90e8\u5206\u5c31\u662f\nUser\n\u5bf9\u8c61,\u5b83\u4f4d\u4e8e\ndjango.contrib.auth.models.User\n.\u4e00\u4e2a\nUser\n\u5bf9\u8c61\u4ee3\u8868\u4e86\u548cDjango\u5e94\u7528\u4ea4\u4e92\u7684\u7528\u6237. \nDjango documentation on User objects\n \u6709\u8be6\u5c3d\u7684\u63cf\u8ff0.\n\n\nUser\n\u6a21\u578b\u4e3b\u8981\u67095\u4e2a\u5c5e\u6027.\u5b83\u4eec\u662f:\n\n\n\n\n\u8d26\u6237\u7684\u7528\u6237\u540d;\n\n\n\u8d26\u6237\u5bc6\u7801;\n\n\n\u7528\u6237\u90ae\u7bb1\u5730\u5740;\n\n\n\u7528\u6237\u540d;\n\n\n\u7528\u6237\u59d3;\n\n\n\n\n\u6a21\u578b\u4e5f\u6709\u5176\u4ed6\u4e00\u4e9b\u5c5e\u6027\u50cf\nis_active\n(\u51b3\u5b9a\u8d26\u6237\u662f\u6d3b\u52a8\u8fd8\u662f\u975e\u6d3b\u52a8\u72b6\u6001).\u67e5\u770b\nofficial Django documentation on the user model\n,\u8fd9\u91cc\u6709\u5b8c\u6574\u7684\nUser\n\u6a21\u578b\u5c5e\u6027\u5217\u8868.\n\n\n9.3 \u589e\u52a0\u7528\u6237\u5c5e\u6027\n\n\n\u5982\u679c\u4f60\u5e0c\u671b\u5728\nUser\n\u6a21\u578b\u91cc\u52a0\u5165\u5176\u4ed6\u5c5e\u6027,\u4f60\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u548c\nUser\n\u6a21\u578b\u76f8\u5173\u7684\u6a21\u578b.\u5bf9\u4e8e\u6211\u4eec\u7684Rango\u5e94\u7528,\u6211\u4eec\u5e0c\u671b\u4e3a\u6211\u4eec\u7684\u7528\u6237\u589e\u52a0\u4e24\u4e2a\u5c5e\u6027.\u6211\u4eec\u5e0c\u671b\u5305\u542b:\n\n\n\n\nURLField\n,\u5141\u8bb8\u7528\u6237\u5199\u660e\u81ea\u5df1\u7684\u7f51\u7ad9;\n\n\nImageField\n,\u5141\u8bb8\u7528\u6237\u5728\u5b83\u4eec\u7684\u6863\u6848\u91cc\u6dfb\u52a0\u56fe\u7247.\n\n\n\n\n\u53ef\u4ee5\u518dRango\u7684\nmodels.py\n\u6587\u4ef6\u91cc\u589e\u52a0\u6a21\u578b.\u8ba9\u6211\u4eec\u52a0\u5165\nUserProfile\n\u6a21\u578b:\n\n\nclass UserProfile(models.Model):\n    # This line is required. Links UserProfile to a User model instance.\n    user = models.OneToOneField(User)\n\n    # The additional attributes we wish to include.\n    website = models.URLField(blank=True)\n    picture = models.ImageField(upload_to='profile_images', blank=True)\n\n    # Override the __unicode__() method to return out something meaningful!\n    def __unicode__(self):\n        return self.user.username\n\n\n\n\n\u6ce8\u610f\u6211\u4eec\u5728\nUser\n\u6a21\u578b\u91cc\u4f7f\u7528\u4e00\u5bf9\u4e00\u5173\u7cfb.\u56e0\u4e3a\u6211\u4eec\u4f7f\u7528\u4e86\u9ed8\u8ba4\nUser\n\u6a21\u578b,\u6211\u4eec\u9700\u8981\u5728\nmodels.py\n\u6587\u4ef6\u4e2d\u5bfc\u5165.\n\n\nfrom django.contrib.auth.models import User\n\n\n\n\n\u5728\u8fd9\u91cc\u6211\u4eec\u8fd8\u53ef\u4ee5\u76f4\u63a5\u7ee7\u627f\nUser\n\u6a21\u578b\u6765\u589e\u52a0\u8fd9\u4e9b\u5b57\u6bb5.\u4f46\u662f\u56e0\u4e3a\u5176\u4ed6\u5e94\u7528\u4e5f\u53ef\u80fd\u9700\u8981\u5b58\u53d6\nUser\n\u6a21\u578b,\u6240\u4ee5\u8fd9\u91cc\u4e0d\u5efa\u8bae\u4f7f\u7528\u7ee7\u627f,\u800c\u662f\u4f7f\u7528\u4e00\u5bf9\u4e00\u5173\u7cfb\u6765\u4ee3\u66ff.\n\n\n\u5bf9\u4e8eRango\u6211\u4eec\u5df2\u7ecf\u589e\u52a0\u4e86\u4e24\u4e2a\u5b57\u6bb5\u6765\u5b8c\u5584\u7528\u6237\u6863\u6848,\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e2a\n__unicode__()\n\u65b9\u6cd5\u8fd4\u56de\u5b9e\u4f8b\u540d\u79f0.\n\n\n\u5bf9\u4e8e\nwebsite\n\u548c\npicture\n\u4e24\u4e2a\u5b57\u6bb5,\u6211\u4eec\u90fd\u8bbe\u7f6e\u4e86\nblank=True\n.\u5b83\u4f1a\u4f7f\u6240\u6709\u7684\u5b57\u6bb5\u90fd\u4e3a\u7a7a,\u610f\u5473\u7740\u7528\u6237\u4e0d\u5fc5\u4e3a\u6bcf\u4e00\u4e2a\u90fd\u8bbe\u7f6e\u5b57\u6bb5\u503c.\n\n\n\u6ce8\u610f\nImageField\n\u5b57\u6bb5\u6709\u4e00\u4e2a\nupload_to\n\u5c5e\u6027.\u8fd9\u4e2a\u5c5e\u6027\u503c\u8fde\u63a5\u7740\nMEDIA_ROOT\n\u8bbe\u7f6e\u7528\u6765\u63d0\u4f9b\u4e0a\u4f20\u6587\u6863\u56fe\u7247\u7684\u8def\u5f84.\u4f8b\u5982,\nMEDIA_ROOT\n\u8bbe\u7f6e\u4e3a\nworkspace\n/tango_with_django_project/media/\n,\u90a3\u4e48\nupload_to=profile_imges\n\u5c06\u4f1a\u4f7f\u56fe\u7247\u4fdd\u5b58\u5728\nworkspace\n/tango_with_django_project/media/profile_images/\n\u76ee\u5f55.\n\n\n\n\nWarning\n\n\nDjango\nImageField\n\u4f7f\u7528python\u56fe\u7247\u5e93(PIL).\u8fd4\u56de\u5230\u7b2c3\u7ae0,\u6211\u4eec\u5728\u5b89\u88c5Django\u65f6\u5df2\u7ecf\u8bb2\u8fc7\u5982\u4f55\u5b89\u88c5PIL.\u5982\u679c\u8fd8\u6ca1\u6709\u5b89\u88c5\u73b0\u5728\u5c31\u53ef\u4ee5\u5b89\u88c5\u4e86.\u5982\u679c\u4f60\u6ca1\u6709\u5b89\u88c5PIL,\u90a3\u4e48\u5c06\u4f1a\u9047\u5230\npil\n\u6a21\u5757\u4e0d\u80fd\u627e\u5230\u7684\u9519\u8bef!\n\n\n\n\n\u5b9a\u4e49\u5b8c\nUserProfile\n\u6a21\u578b,\u6211\u4eec\u9700\u8981\u4fee\u6539Rango\u7684\nadmin.py\n\u6587\u4ef6\u4f7f\u7ba1\u7406\u754c\u9762\u5305\u542b\nUserPrifile\n\u6a21\u578b.\u5728\nadmin.py\n\u6587\u4ef6\u91cc\u6dfb\u52a0\u5982\u4e0b.\n\n\nfrom rango.models import UserProfile\n\nadmin.site.register(UserProfile)\n\n\n\n\n\n\nNote\n\n\n\u6211\u4eec\u5728\u4fee\u6539\u6a21\u578b\u540e\u9700\u8981\u66f4\u65b0\u6570\u636e\u5e93.\u5728\u7ec8\u7aef\u91cc\u8fd0\u884c\n$ python manage.py makemigrations rango\n\u6765\u4e3a\nUserProfile\n\u6a21\u578b\u521b\u5efa\u8fc1\u79fb\u811a\u672c.\u7136\u540e\u8fd0\u884c\n$ python manage.py migrate\n.\n\n\n\n\n9.4 \u521b\u5efa\u7528\u6237\u6ce8\u518c\u89c6\u56fe\u548c\u6a21\u677f\n\n\n\u7528\u6237\u8ba4\u8bc1\u5df2\u7ecf\u5904\u7406\u5b8c\u6bd5,\u6211\u4eec\u73b0\u5728\u9700\u8981\u8ba9\u7528\u6237\u5728\u7f51\u7ad9\u4e0a\u8fdb\u884c\u6ce8\u518c.\u6211\u4eec\u5c06\u901a\u8fc7\u521b\u5efa\u65b0\u89c6\u56fe\u548c\u6a21\u677f\u6765\u8fbe\u5230\u8fd9\u4e2a\u76ee\u7684.\n\n\n\n\nNote\n\n\n\u8fd9\u91cc\u6709\u8bb8\u591a\u73b0\u6210\u7684\u7528\u6237\u6ce8\u518c\u5305\u53ef\u4ee5\u4f7f\u7528,\u5b83\u4eec\u5927\u5927\u7684\u51cf\u5c11\u521b\u5efa\u6ce8\u518c\u548c\u8868\u5355\u7684\u7e41\u7410\u7a0b\u5ea6.\u7136\u800c\u4f7f\u7528\u8fd9\u6837\u7684\u5e94\u7528\u5bf9\u4e8e\u4e86\u89e3\u5185\u90e8\u673a\u5236\u662f\u975e\u5e38\u597d\u7684.\u5b83\u5c06\u4f1a\u4f7f\u4f60\u52a0\u6df1\u5bf9\u8868\u5355,\u6269\u5c55\u7528\u6237\u6a21\u578b\u548c\u4e0a\u4f20\u5a92\u4f53\u7684\u7406\u89e3.\n\n\n\n\n\u4e3a\u7528\u6237\u63d0\u4f9b\u6ce8\u518c\u670d\u52a1\u6211\u4eec\u9700\u8981\u4ee5\u4e0b\u51e0\u6b65:\n\n\n\n\n\u521b\u5efa\nUserForm\n\u548c\nUserProfileForm\n.\n\n\n\u589e\u52a0\u521b\u5efa\u65b0\u7528\u6237\u89c6\u56fe.\n\n\n\u589e\u52a0\u5c55\u793a\nUserForm\n\u548c\nUserProfileForm\n\u7684\u6a21\u677f.\n\n\n\u6620\u5c04URL.\n\n\n\u5728\u4e3b\u9875\u653e\u7f6e\u6ce8\u518c\u9875\u94fe\u63a5\n\n\n\n\n9.4.1 \u521b\u5efa\nUserForm\n\u548c\nUserProfileForm\n\n\n\u5728\nrango/forms.py\n\u4e2d,\u6211\u4eec\u9700\u8981\u521b\u5efa\u4e24\u4e2a\u7ee7\u627f\u81ea\nforms.ModelForm\n\u7684\u7c7b.\u4e00\u4e2a\u662f\u4e3a\nUser\n\u6a21\u578b\u521b\u5efa\u7684,\u4e00\u4e2a\u662f\u4e3a\nUserProfile\n\u521b\u5efa\u7684.\u8fd9\u4e24\u4e2a\u7ee7\u627f\u81ea\nModelForm\n\u7684\u7c7b\u7ed9\u6211\u4eec\u63d0\u4f9b\u5c55\u793aHTML\u8868\u5355\u6240\u9700\u8981\u7684\u8868\u5355\u5b57\u6bb5.\n\n\n\u5728\nrango/forms.py\n\u6587\u4ef6,\u8ba9\u6211\u4eec\u521b\u5efa\u8fd9\u4e24\u4e2a\u7c7b.\n\n\nclass UserForm(forms.ModelForm):\n    password = forms.CharField(widget=forms.PasswordInput())\n\n    class Meta:\n        model = User\n        fields = ('username', 'email', 'password')\n\nclass UserProfileForm(forms.ModelForm):\n    class Meta:\n        model = UserProfile\n        fields = ('website', 'picture')\n\n\n\n\n\u6ce8\u610f\u5230\u5728\u4e24\u4e2a\u7c7b\u4e2d\u6211\u4eec\u90fd\u52a0\u5165\u4e86\u4e00\u4e2a\nnested\nMeta\n\u7c7b.\u5728\nMeta\n\u7c7b\u4e2d\u6240\u6709\u5b9a\u4e49\u90fd\u4f1a\u88ab\u5f53\u505a\u5b83\u7684\u9644\u52a0\u5c5e\u6027.\u6bcf\u4e2a\nMeta\n\u81f3\u5c11\u5305\u542b\u4e00\u4e2a\nmodel\n\u5b57\u6bb5,\u5b83\u53ef\u4ee5\u548c\u6a21\u578b\u4e4b\u95f4\u5173\u8054.\u4f8b\u5982\u5728\u6211\u4eec\u7684\nUserForm\n\u7c7b\u4e2d\u5c31\u5173\u8054\u4e86\nUser\n\u6a21\u578b.\u5728Django1.7\u4e2d\u4f60\u53ef\u4ee5\u7528\nfields\n\u6216\u8005\nexclude\n\u6765\u5b9a\u4e49\u4f60\u9700\u8981\u5c55\u793a\u7684\u5b57\u6bb5.\n\n\n\u8fd9\u91cc\u6211\u4eec\u4ec5\u4ec5\u9700\u8981\u5c55\u793a\nUser\n\u6a21\u578b\u7684\nusername\n,\nemail\n\u548c\npassword\n\u5b57\u6bb5,\u548c\nUserProfile\n\u6a21\u578b\u7684\nwebsite\n\u548c\npicture\n\u5b57\u6bb5.\u5f53\u7528\u6237\u6ce8\u518c\u7684\u65f6\u5019\u6211\u4eec\u9700\u8981\u8fde\u63a5\nUserPrifile\n\u6a21\u578b\u7684\nuser\n\u5b57\u6bb5.\n\n\n\u770b\u5230\u4e86\u5427\nUserForm\n\u5305\u542b\u4e00\u4e2a\u5b9a\u4e49\npassword\n\u5c5e\u6027.\u5f53\nUser\n\u6a21\u578b\u5b9e\u4f8b\u9ed8\u8ba4\u5305\u542b\npassword\n\u5c5e\u6027\u65f6,HTML\u8868\u5355\u5143\u7d20\u5c06\u4e0d\u4f1a\u9690\u85cf\u5bc6\u7801.\u5982\u679c\u7528\u6237\u8f93\u5165\u5bc6\u7801,\u90a3\u4e48\u8fd9\u4e2a\u5bc6\u7801\u5c31\u4f1a\u53ef\u89c1.\u6240\u4ee5\u6211\u4eec\u4fee\u6539\npassword\n\u5c5e\u6027\u4f5c\u4e3a\nCharField\n\u5b9e\u4f8b\u5e76\u4f7f\u7528\nPasswordInput()\n\u7ec4\u5efa,\u8fd9\u65f6\u7528\u6237\u8f93\u5165\u5c31\u4f1a\u88ab\u9690\u85cf.\n\n\n\u6700\u540e,\u8bb0\u5f97\u5728\nforms.py\n\u6a21\u5757\u9876\u90e8\u5305\u542b\u4e0b\u9762\u5f15\u7528!\n\n\nfrom django import forms\nfrom django.contrib.auth.models import User\nfrom rango.models import Category, Page, UserProfile\n\n\n\n\n9.4.2 \u521b\u5efa\nregister()\n\u89c6\u56fe\n\n\n\u4e0b\u9762\u6211\u4eec\u5904\u7406\u8868\u5355\u548c\u8868\u5355\u8f93\u5165\u7684\u6570\u636e.\u5728Rango\u7684\nviews.py\n\u6587\u4ef6,\u52a0\u5165\u4e0b\u9762\u89c6\u56fe\u51fd\u6570:\n\n\nfrom rango.forms import UserForm, UserProfileForm\n\ndef register(request):\n\n    # A boolean value for telling the template whether the registration was successful.\n    # Set to False initially. Code changes value to True when registration succeeds.\n    registered = False\n\n    # If it's a HTTP POST, we're interested in processing form data.\n    if request.method == 'POST':\n        # Attempt to grab information from the raw form information.\n        # Note that we make use of both UserForm and UserProfileForm.\n        user_form = UserForm(data=request.POST)\n        profile_form = UserProfileForm(data=request.POST)\n\n        # If the two forms are valid...\n        if user_form.is_valid() and profile_form.is_valid():\n            # Save the user's form data to the database.\n            user = user_form.save()\n\n            # Now we hash the password with the set_password method.\n            # Once hashed, we can update the user object.\n            user.set_password(user.password)\n            user.save()\n\n            # Now sort out the UserProfile instance.\n            # Since we need to set the user attribute ourselves, we set commit=False.\n            # This delays saving the model until we're ready to avoid integrity problems.\n            profile = profile_form.save(commit=False)\n            profile.user = user\n\n            # Did the user provide a profile picture?\n            # If so, we need to get it from the input form and put it in the UserProfile model.\n            if 'picture' in request.FILES:\n                profile.picture = request.FILES['picture']\n\n            # Now we save the UserProfile model instance.\n            profile.save()\n\n            # Update our variable to tell the template registration was successful.\n            registered = True\n\n        # Invalid form or forms - mistakes or something else?\n        # Print problems to the terminal.\n        # They'll also be shown to the user.\n        else:\n            print user_form.errors, profile_form.errors\n\n    # Not a HTTP POST, so we render our form using two ModelForm instances.\n    # These forms will be blank, ready for user input.\n    else:\n        user_form = UserForm()\n        profile_form = UserProfileForm()\n\n    # Render the template depending on the context.\n    return render(request,\n            'rango/register.html',\n            {'user_form': user_form, 'profile_form': profile_form, 'registered': registered} )\n\n\n\n\n\u770b\u8d77\u6765\u662f\u4e0d\u662f\u5f88\u96be\u554a?\u53ef\u80fd\u4e00\u5f00\u59cb\u770b\u8d77\u6765\u6bd4\u8f83\u590d\u6742,\u4f46\u5176\u5b9e\u4e0d\u7136.\u548c\u6211\u4eec\u524d\u9762\nadd_category()\n\u89c6\u56fe\u5dee\u4e0d\u591a,\u4ec5\u4ec5\u6dfb\u52a0\u4e86\u4e24\u4e2a\u4e0d\u540c\u7684\nModelForm\n\u5b9e\u4f8b - \u4e00\u4e2a\u662f\nUser\n\u6a21\u578b\u7684,\u53e6\u4e00\u4e2a\u662f\nUserProfile\n\u6a21\u578b\u7684.\u5982\u679c\u7528\u6237\u4e0a\u4f20\u56fe\u50cf\u6211\u4eec\u8fd8\u5f97\u9700\u8981\u5904\u7406\u5b83\u4eec.\n\n\n\u6211\u4eec\u8fd8\u9700\u8981\u521b\u5efa\u4e24\u4e2a\u6a21\u578b\u5b9e\u4f8b\u4e4b\u95f4\u7684\u8fde\u63a5.\u521b\u5efa\u65b0\u7684\nUser\n\u6a21\u578b\u5b9e\u4f8b\u540e,\u6211\u4eec\u9700\u8981\u7528\nprofile.user = user\n\u628a\u5b83\u5173\u8054\u5230\nUserProfile\n\u5b9e\u4f8b.\u6211\u4eec\u5728\u5df2\u7ecf\u5728[9.4.1][#94]\u9690\u85cf\u7684\nUserProfileForm\n\u8868\u5355\u91cc\u586b\u5145\u4e86\nuser\n\u5c5e\u6027.\n\n\n9.4.3 \u521b\u5efa\u6ce8\u518c\u6a21\u677f\n\n\n\u73b0\u5728\u6211\u4eec\u521b\u5efa\nrang/register.html\n\u52a0\u5165\u5982\u4e0b\u4ee3\u7801:\n\n\n!DOCTYPE html\n\n\nhtml\n\n    \nhead\n\n        \ntitle\nRango\n/title\n\n    \n/head\n\n\n    \nbody\n\n        \nh1\nRegister with Rango\n/h1\n\n\n        {% if registered %}\n        Rango says: \nstrong\nthank you for registering!\n/strong\n\n        \na href=\n/rango/\nReturn to the homepage.\n/a\nbr /\n\n        {% else %}\n        Rango says: \nstrong\nregister here!\n/strong\nbr /\n\n\n        \nform id=\nuser_form\n method=\npost\n action=\n/rango/register/\n\n                enctype=\nmultipart/form-data\n\n\n            {% csrf_token %}\n\n            \n!-- Display each form. The as_p method wraps each element in a paragraph\n                 (\np\n) element. This ensures each element appears on a new line,\n                 making everything look neater. --\n\n            {{ user_form.as_p }}\n            {{ profile_form.as_p }}\n\n            \n!-- Provide a button to click to submit the form. --\n\n            \ninput type=\nsubmit\n name=\nsubmit\n value=\nRegister\n /\n\n        \n/form\n\n        {% endif %}\n    \n/body\n\n\n/html\n\n\n\n\n\n\u8fd9\u4e2aHTML\u6a21\u677f\u4f7f\u7528\nregistered\n\u53d8\u91cf\u6765\u68c0\u6d4b\u6ce8\u518c\u662f\u5426\u6210\u529f.\u5f53\nregistered\n\u4e3a\nFalse\n\u65f6\u6a21\u677f\u4f1a\u5c55\u793a\u6ce8\u518c\u8868\u5355 - \u5426\u5219,\u9664\u4e86\u6807\u9898\u5916\u5b83\u53ea\u4f1a\u5c55\u793a\u4e00\u6761\u6210\u529f\u4fe1\u606f.\n\n\n\n\nWarning\n\n\n\u4f60\u53ef\u80fd\u6ce8\u610f\u5230\u5728\nform\n\u5143\u7d20\u91cc\u7684\nenctype\n\u5c5e\u6027.\u5f53\u4f60\u5e0c\u671b\u7528\u6237\u901a\u8fc7\u8868\u5355\u4e0a\u4f20\u6587\u4ef6\u65f6,\u5fc5\u987b\u628a\nenctype\n\u8bbe\u7f6e\u6210\nmultipart/form-data\n.\u8fd9\u4e2a\u5c5e\u6027\u4f1a\u8ba9\u4f60\u7684\u6d4f\u89c8\u5668\u4ee5\u7279\u5b9a\u7684\u65b9\u5f0f\u628a\u8868\u5355\u6570\u636e\u8fd4\u56de\u7ed9\u670d\u52a1\u5668.\u5b9e\u9645\u4e0a,\u4f60\u7684\u6587\u4ef6\u4f1a\u88ab\u5206\u6210\u4e00\u5757\u5757\u7684\u4f20\u8f93.\u60f3\u4e86\u89e3\u66f4\u591a\u67e5\u770b \nthis great Stack Overflow answer\n.\u4f60\u4e5f\u5e94\u5f53\u8bb0\u5f97\u52a0\u5165CSRF\u4ee4\u724c.\u786e\u4fdd\u5728\u4f60\u7684\nform\n\u5c5e\u6027\u91cc\u5305\u542b\n{% csrf_token %}\n.\n\n\n\n\n9.4.4 \u89c6\u56fe\nregister()\n\u7684URL\u6620\u5c04\n\n\n\u73b0\u5728\u4e3a\u6211\u4eec\u7684\u65b0\u89c6\u56fe\u52a0\u5165URL\u6620\u5c04.\u5728\nrango/urls.py\n\u6587\u4ef6\u91cc\u4fee\u6539\nurlpatterns\n\u5143\u7ec4\u5982\u4e0b:\n\n\nurlpatterns = patterns('',\n    url(r'^$', views.index, name='index'),\n    url(r'^about/$', views.about, name='about'),\n    url(r'^category/(?P\ncategory_name_slug\n\\w+)$', views.category, name='category'),\n    url(r'^add_category/$', views.add_category, name='add_category'),\n    url(r'^category/(?P\ncategory_name_slug\n\\w+)/add_page/$', views.add_page, name='add_page'),\n    url(r'^register/$', views.register, name='register'), # ADD NEW PATTERN!\n    )\n\n\n\n\n\u65b0\u52a0\u5165\u7684\u6a21\u5f0f\u7684URL\nrango/register/\n\u6307\u5411\nregister()\n\u89c6\u56fe.\n\n\n9.4.5 \u94fe\u63a5\u5728\u4e00\u8d77\n\n\n\u6700\u540e,\u6211\u4eec\u9700\u8981\u5728\u4e3b\u9875\nindex.html\n\u6a21\u677f\u91cc\u52a0\u5165\u94fe\u63a5.\u5728\u6dfb\u52a0\u76ee\u5f55\u94fe\u63a5\u540e\u52a0\u5165\u4e0b\u9762\u94fe\u63a5.\n\n\na href=\n/rango/register/\nRegister Here\n/a\n\n\n\n\n\n9.4.6 Demo\n\n\n\u73b0\u5728\u4f60\u53ef\u4ee5\u70b9\u51fb\nRegister Here\n\u8d85\u94fe\u63a5\u8fdb\u5165\u5230\u6ce8\u518c\u9875\u9762.\u73b0\u5728\u8bd5\u8bd5\u770b!\u542f\u52a8\u4f60\u7684Django\u670d\u52a1\u8bd5\u7740\u6ce8\u518c\u4e00\u4e2a\u8d26\u6237.\u5982\u679c\u4f60\u613f\u610f\u53ef\u4ee5\u4e0a\u4f20\u4e00\u4e2a\u4e2a\u4eba\u56fe\u7247.\u4f60\u7684\u6ce8\u518c\u8868\u5355\u770b\u8d77\u6765\u50cf\u4e0b\u9762\u4e00\u6837.\n\n\n\n\n\u770b\u5230\nthank you for registering!\n\u5c31\u8bf4\u660e\u4f60\u6210\u529f\u6ce8\u518c\u4e86,\u6570\u636e\u5e93\u5c06\u4f1a\u4e3a\nUser\n\u548c\nUserProfile\n\u5efa\u7acb\u65b0\u7684\u9879\u76ee.\n\n\n9.5 \u589e\u52a0\u767b\u5f55\u529f\u80fd\n\n\n\u5b8c\u6210\u4e86\u6ce8\u518c\u529f\u80fd,\u6211\u4eec\u9700\u8981\u6dfb\u52a0\u767b\u5f55\u7684\u529f\u80fd.\u6211\u4eec\u9700\u8981\u505a\u4ee5\u4e0b\u51e0\u6b65:\n\n\n\n\n\u521b\u5efa\u767b\u5f55\u89c6\u56fe\u5904\u7406\u7528\u6237\u9a8c\u8bc1\n\n\n\u521b\u5efa\u767b\u5f55\u6a21\u677f\u5c55\u793a\u767b\u5f55\u8868\u5355\n\n\n\u6620\u5c04url\n\n\n\u5728\u9996\u9875\u63d0\u4f9b\u767b\u5f55\u8868\u5355\u94fe\u63a5\n\n\n\n\n9.5.1 \u521b\u5efa\nlogin()\n\u89c6\u56fe\n\n\n\u5728\nrango/views.py\n\u521b\u5efa\nuser_login()\n\u51fd\u6570,\u4ee3\u7801\u5982\u4e0b:\n\n\ndef user_login(request):\n\n    # If the request is a HTTP POST, try to pull out the relevant information.\n    if request.method == 'POST':\n        # Gather the username and password provided by the user.\n        # This information is obtained from the login form.\n                # We use request.POST.get('\nvariable\n') as opposed to request.POST['\nvariable\n'],\n                # because the request.POST.get('\nvariable\n') returns None, if the value does not exist,\n                # while the request.POST['\nvariable\n'] will raise key error exception\n        username = request.POST.get('username')\n        password = request.POST.get('password')\n\n        # Use Django's machinery to attempt to see if the username/password\n        # combination is valid - a User object is returned if it is.\n        user = authenticate(username=username, password=password)\n\n        # If we have a User object, the details are correct.\n        # If None (Python's way of representing the absence of a value), no user\n        # with matching credentials was found.\n        if user:\n            # Is the account active? It could have been disabled.\n            if user.is_active:\n                # If the account is valid and active, we can log the user in.\n                # We'll send the user back to the homepage.\n                login(request, user)\n                return HttpResponseRedirect('/rango/')\n            else:\n                # An inactive account was used - no logging in!\n                return HttpResponse(\nYour Rango account is disabled.\n)\n        else:\n            # Bad login details were provided. So we can't log the user in.\n            print \nInvalid login details: {0}, {1}\n.format(username, password)\n            return HttpResponse(\nInvalid login details supplied.\n)\n\n    # The request is not a HTTP POST, so display the login form.\n    # This scenario would most likely be a HTTP GET.\n    else:\n        # No context variables to pass to the template system, hence the\n        # blank dictionary object...\n        return render(request, 'rango/login.html', {})\n\n\n\n\n\u8fd9\u4e2a\u89c6\u56fe\u53ef\u80fd\u770b\u8d77\u6765\u76f8\u5f53\u7684\u590d\u6742.\u548c\u524d\u9762\u7684\u4f8b\u5b50\u4e00\u6837,\nuser_login()\n\u89c6\u56fe\u8d1f\u8d23\u5904\u7406\u548c\u4f20\u9012\u8868\u5355.\n\n\n\u9996\u5148,\u5982\u679c\u8bbf\u95ee\u89c6\u56fe\u7684\u65b9\u5f0f\u662fHTTP GET,\u90a3\u4e48\u5c31\u4f1a\u5c55\u793a\u767b\u5f55\u8868\u5355.\u5982\u679c\u662f\u901a\u8fc7HTTP POST,\u90a3\u4e48\u5b83\u5c06\u5bf9\u8868\u5355\u8fdb\u884c\u5904\u7406.\n\n\n\u5982\u679c\u8868\u5355\u88ab\u53d1\u9001,\u90a3\u4e48\u7528\u6237\u540d\u548c\u5bc6\u7801\u5c06\u4f1a\u4ece\u8868\u5355\u4e2d\u62bd\u79bb\u51fa\u6765.\u5b83\u4eec\u5c06\u4f1a\u88ab\u7528\u4f5c\u9a8c\u8bc1\u7528\u6237(\u4f7f\u7528Django\u7684\nauthenticate()\n\u51fd\u6570).\u5982\u679c\u7528\u6237\u540d/\u5bc6\u7801\u5728\u6570\u636e\u5e93\u4e2d\u5b58\u5728\nauthenticate()\n\u5c31\u4f1a\u8fd4\u56de\u4e00\u4e2a\nUser\n\u5bf9\u8c61 - \u53cd\u4e4b\u5219\u4f1a\u8fd4\u56de\nNone\n.\n\n\n\u5982\u679c\u6211\u4eec\u67e5\u627e\u4e00\u4e2a\nUser\n\u5bf9\u8c61,\u6211\u4eec\u53ef\u4ee5\u68c0\u67e5\u8d26\u6237\u662f\u5904\u4e8e\u6fc0\u6d3b\u6216\u975e\u6fc0\u6d3b\u72b6\u6001 - \u7136\u540e\u4f1a\u8fd4\u56de\u6d4f\u89c8\u5668\u76f8\u5e94\u7684\u72b6\u6001.\n\n\n\u7136\u800c\u5982\u679c\u53d1\u9001\u4e86\u65e0\u6548\u7684\u8868\u5355,\u662f\u56e0\u4e3a\u6ca1\u6709\u6dfb\u52a0\u7528\u6237\u540d\u548c\u5bc6\u7801\u5bfc\u81f4\u8fd4\u56de\u9519\u8bef\u4fe1\u606f(\u4f8b\u5982\u7528\u6237\u540d/\u5bc6\u7801\u4e22\u5931).\n\n\n\u4e0a\u9762\u4ee3\u7801\u6700\u6709\u610f\u601d\u7684\u662f\u7528Django\u5185\u5efa\u7684\u673a\u5236\u6765\u5b9e\u73b0\u9a8c\u8bc1\u8fc7\u7a0b.\nauthenticate()\n\u51fd\u6570\u7528\u6765\u68c0\u67e5\u7528\u6237\u540d\u548c\u5bc6\u7801\u662f\u5426\u548c\u8d26\u6237\u5339\u914d,\u800c\nlogin()\n\u51fd\u6570\u7528\u6765\u6807\u8bb0\u7528\u6237\u767b\u5f55.\n\n\n\u4f60\u4e5f\u53ef\u80fd\u6ce8\u610f\u5230\u6211\u4eec\u4f7f\u7528\u4e86\nHttpResponseRedirect\n\u7c7b.\u770b\u5230\u540d\u5b57\u5c31\u731c\u5230\u4e86,\u6700\u540e\u4ee3\u7801\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\nHttpResponseRedirect\n\u7c7b\u5b9e\u4f8b,\u5b83\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u8df3\u8f6c\u5730\u5740,\u7528\u6765\u4f7f\u7528\u6237\u7684\u6d4f\u89c8\u5668\u8df3\u8f6c\u5230\u8be5\u5730\u5740.\u6ce8\u610f\u5b83\u8fd4\u56de\u7684\u72b6\u6001\u7801\u4e0d\u662f\u6b63\u5e38\u72b6\u6001\u4e0b\u7684200\u800c\u662f302,\u5b83\u8868\u793a\u4e00\u4e2a\u91cd\u5b9a\u5411.\u53c2\u770b\nofficial Django documentation on Redirection\n\u4ee5\u83b7\u53d6\u66f4\u591a\u4fe1\u606f.\n\n\n\u6240\u6709\u7684\u8fd9\u4e9b\u51fd\u6570\u548c\u7c7b\u90fd\u5728Django\u4e4b\u4e2d,\u6240\u4ee5\u4f60\u9700\u8981\u5bfc\u5165\u5b83\u4eec,\u5728\nrango/views.py\n\u4e2d\u52a0\u5165\u4e0b\u9762.\n\n\nfrom django.contrib.auth import authenticate, login\nfrom django.http import HttpResponseRedirect, HttpResponse\n\n\n\n\n9.5.2 \u521b\u5efa\u767b\u5f55\u6a21\u677f\n\n\n\u6211\u4eec\u5df2\u7ecf\u521b\u5efa\u5b8c\u89c6\u56fe,\u6240\u4ee5\u63a5\u4e0b\u6765\u6211\u4eec\u9700\u8981\u521b\u5efa\u767b\u5f55\u6a21\u677f\u4e86.\u6211\u4eec\u77e5\u9053\u6a21\u677f\u5b58\u50a8\u5728\ntemplates/rango/\n\u76ee\u5f55,\u6240\u4ee5\u6211\u4eec\u5728\u8fd9\u91cc\u521b\u5efa\nlogin.html\n\u6587\u4ef6,\u4ee3\u7801\u5982\u4e0b:\n\n\n!DOCTYPE html\n\n\nhtml\n\n    \nhead\n\n        \n!-- Is anyone getting tired of repeatedly entering the header over and over?? --\n\n        \ntitle\nRango\n/title\n\n    \n/head\n\n\n    \nbody\n\n        \nh1\nLogin to Rango\n/h1\n\n\n        \nform id=\nlogin_form\n method=\npost\n action=\n/rango/login/\n\n            {% csrf_token %}\n            Username: \ninput type=\ntext\n name=\nusername\n value=\n size=\n50\n /\n\n            \nbr /\n\n            Password: \ninput type=\npassword\n name=\npassword\n value=\n size=\n50\n /\n\n            \nbr /\n\n\n            \ninput type=\nsubmit\n value=\nsubmit\n /\n\n        \n/form\n\n\n    \n/body\n\n\n/html\n\n\n\n\n\n\u786e\u4fdd\u5728input\nname\n\u5c5e\u6027\u8981\u548c\nuser_login()\n\u89c6\u56fe\u91cc\u7684\u540d\u5b57\u76f8\u540c - \u4f8b\u5982,\nusername\n\u4f5c\u4e3a\u7528\u6237\u540d,\npassword\n\u4f5c\u4e3a\u5bc6\u7801.\u540c\u65f6\u4e0d\u8981\u5fd8\u8bb0\n{% csrf_token %}\n!\n\n\n9.5.3 \u6dfb\u52a0\u767b\u5f55\u89c6\u56feURL\u6620\u5c04\n\n\n\u63a5\u4e0b\u6765\u6211\u4eec\u9700\u8981\u5bf9\nuser_login()\n\u89c6\u56fe\u6620\u5c04URL.\u4fee\u6539\nurls.py\n\u6587\u4ef6\u91cc\u7684\nurlpatterns\n\u5143\u7ec4\u5982\u4e0b.\n\n\nurlpatterns = patterns('',\n    url(r'^$', views.index, name='index'),\n    url(r'^about/$', views.about, name='about'),\n    url(r'^category/(?P\ncategory_name_slug\n\\w+)$', views.category, name='category'),\n    url(r'^add_category/$', views.add_category, name='add_category'),\n    url(r'^category/(?P\ncategory_name_slug\n\\w+)/add_page/$', views.add_page, name='add_page'),\n    url(r'^register/$', views.register, name='register'),\n    url(r'^login/$', views.user_login, name='login'),\n    )\n\n\n\n\n9.5.4 \u6dfb\u52a0\u94fe\u63a5\n\n\n\u6700\u540e\u4e00\u6b65\u662f\u4e3a\u6211\u4eec\u7684\u767b\u5f55\u9875\u63d0\u4f9b\u94fe\u63a5.\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4fee\u6539\u5728\ntmplates/rango\n\u76ee\u5f55\u91cc\u7684\nindex.html\n\u6587\u4ef6.\u627e\u5230\u5148\u524d\u521b\u5efa\u7684\u589e\u52a0\u76ee\u5f55\u94fe\u63a5\u548c\u6ce8\u518c\u94fe\u63a5,\u5728\u540e\u9762\u6dfb\u52a0.\u5982\u679c\u4f60\u5e0c\u671b\u8fdb\u884c\u5206\u5272\u4ee5\u4e0b\u53ef\u4ee5\u5728\u94fe\u63a5\u524d\u9762\u5305\u542b(\nbr /\n).\n\n\na href=\n/rango/login/\nLogin\n/a\n\n\n\n\n\n\u5728\u5934\u90e8\u66ff\u6362\u4e0b\u9762\u7684\u4ee3\u7801.\u6ce8\u610f\u5230\u6211\u4eec\u4f7f\u7528\u4e86\nuser\n\u5bf9\u8c61,\u5b83\u662f\u901a\u8fc7\u4e0a\u4e0b\u6587\u4f20\u9012\u7ed9Django\u7684\u6a21\u677f\u7684.\u901a\u8fc7\u5b83\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u7528\u6237\u662f\u5426\u767b\u5f55(\u9a8c\u8bc1).\u5982\u679c\u7528\u6237\u767b\u5f55\u4e86\u6211\u4eec\u53ef\u4ee5\u63d0\u4f9b\u7ed9\u8be6\u7ec6\u4fe1\u606f.\n\n\n{% if user.is_authenticated %}\n\nh1\nRango says... hello {{ user.username }}!\n/h1\n\n{% else %}\n\nh1\nRango says... hello world!\n/h1\n\n{% endif %}\n\n\n\n\n\u6b63\u5982\u4f60\u770b\u5230\u7684\u6211\u4eec\u7528Django\u6a21\u677f\u8bed\u8a00\n{% if user.is_authenticated %}\n\u6765\u68c0\u67e5\u7528\u6237\u662f\u5426\u901a\u8fc7\u9a8c\u8bc1.\u5982\u679c\u7528\u6237\u6210\u529f\u767b\u5f55\u90a3\u4e48\u6211\u4eec\u4f20\u9012\u7ed9\u6a21\u677f\u7684\u4e0a\u4e0b\u6587\u53d8\u91cf\u4f1a\u5305\u542b\u4e00\u4e2a\u7528\u6237\u53d8\u91cf - \u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u68c0\u67e5\u7528\u6237\u662f\u5426\u767b\u5f55.\u5982\u679c\u767b\u5f55\u7528\u6237\u4f1a\u5f97\u5230\u4e00\u4e2a\u6b22\u8fce\u7528\u6237\u7684\u4fe1\u606f,\u6bd4\u5982\nRango says... hello leifos!\n.\u5426\u5219\u7684\u8bdd\u53ea\u4f1a\u8fd4\u56de\nRango says... hello world!\n\u901a\u7528\u7684\u6b22\u8fce\u4fe1\u606f.\n\n\n9.5.5 Demo\n\n\n\u770b\u770b\u662f\u5426\u548c\u4e0b\u9762\u56fe\u7247\u4e00\u6837.\n\n\n\n\n\u5230\u76ee\u524d\u4e3a\u6b62,\u6211\u4eec\u5df2\u7ecf\u5b8c\u6210\u4e86\u7528\u6237\u7684\u767b\u5f55\u529f\u80fd!\u5f00\u542fDjango\u670d\u52a1\u5c1d\u8bd5\u6ce8\u518c\u65b0\u7528\u6237.\u6ce8\u518c\u6210\u529f\u4e4b\u540e,\u53ef\u4ee5\u767b\u5f55\u770b\u770b\u5b83\u7ed9\u7684\u63d0\u793a\u4fe1\u606f.\n\n\n9.6 \u9650\u5236\u8bbf\u95ee\n\n\n\u73b0\u5728\u7528\u6237\u53ef\u4ee5\u767b\u5f55Rango,\u73b0\u5728\u6211\u4eec\u9700\u8981\u5bf9\u4e00\u4e9b\u7279\u6b8a\u7684\u90e8\u5206\u9650\u5236\u8bbf\u95ee,\u4f8b\u5982\u53ea\u6709\u6ce8\u518c\u7528\u6237\u624d\u80fd\u589e\u52a0\u76ee\u5f55\u548c\u9875\u9762.\u5728Django\u91cc\u6211\u4eec\u6709\u4e24\u79cd\u65b9\u6cd5\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd:\n\n\n\n\n\u901a\u8fc7\u68c0\u67e5\nrequest\n\u5bf9\u8c61\u548c\u68c0\u67e5\u7528\u6237\u662f\u5426\u767b\u5f55.\n\n\n\u7528\u4e00\u4e2a\u65b9\u4fbf\u7684\u88c5\u9970\u5668\u6765\u68c0\u67e5\u7528\u6237\u662f\u5426\u767b\u5f55.\n\n\n\n\n\u7b2c\u4e00\u4e2a\u662f\u901a\u8fc7\nuser.is_authenticated()\n\u65b9\u6cd5\u67e5\u770b\u7528\u6237\u662f\u5426\u767b\u5f55.\nuser\n\u5bf9\u8c61\u662f\u901a\u8fc7\nrequest\n\u5bf9\u8c61\u4f20\u9012\u7ed9\u89c6\u56fe\u7684.\u4e0b\u9762\u662f\u7b80\u5355\u7684\u4f8b\u5b50.\n\n\navailable via the request object passed into a view. The following example demonstrates this approach.\n\ndef some_view(request):\n    if not request.user.is_authenticated():\n        return HttpResponse(\nYou are logged in.\n)\n    else:\n        return HttpResponse(\nYou are not logged in.\n)\n\n\n\n\n\u7b2c\u4e8c\u4e2a\u662f\u4f7f\u7528\u4e86\npython\u88c5\u9970\u5668\n.\u88c5\u9970\u5668\u662f\u7531\n\u540c\u540d\u7684\u8f6f\u4ef6\u8bbe\u8ba1\u6a21\u5f0f\n\u547d\u540d\u7684.\u5b83\u4eec\u53ef\u4ee5\u52a8\u6001\u7684\u4fee\u6539\u4e00\u4e2a\u51fd\u6570,\u65b9\u6cd5\u6216\u8005\u7c7b\u800c\u4e0d\u7528\u53bb\u76f4\u63a5\u4fee\u6539\u5b83\u4eec\u7684\u6e90\u4ee3\u7801.\n\n\nDjango\u63d0\u4f9b\u4e86\u53eb\u505a\nlogin_required()\n\u7684\u88c5\u9970\u5668,\u5b83\u53ef\u4ee5\u5728\u89c6\u56fe\u91cc\u8981\u6c42\u7528\u6237\u8fdb\u884c\u767b\u5f55.\u5982\u679c\u4e00\u4e2a\u7528\u6237\u6ca1\u6709\u767b\u5f55\u5e76\u4e14\u5c1d\u8bd5\u8bbf\u95ee\u4e00\u4e2a\u89c6\u56fe,\u90a3\u4e48\u8fd9\u4e2a\u7528\u6237\u5c06\u4f1a\u91cd\u5b9a\u5411\u5230\u4f60\u8bbe\u5b9a\u7684\u9875\u9762,\u901a\u5e38\u662f\u4e00\u4e2a\u767b\u5f55\u9875\u9762.\n\n\n9.6.1 \u4f7f\u7528\u88c5\u9970\u5668\u8fdb\u884c\u9650\u5236\u8bbf\u95ee\n\n\n\u6211\u4eec\u5c1d\u8bd5\u5728\nviews.py\n\u6587\u4ef6\u91cc\u8c03\u7528\nretricted()\n,\u4ee3\u7801\u5982\u4e0b:\n\n\n@login_required\ndef restricted(request):\n    return HttpResponse(\nSince you're logged in, you can see this text!\n)\n\n\n\n\n\u8fd9\u91cc\u6211\u4eec\u7528\u4e86\u4e00\u4e2a\u88c5\u9970\u5668,\u5b83\u4f4d\u4e8e\u51fd\u6570\u5b9a\u4e49\u524d,\u5e76\u4e14\u7528@\u7b26\u53f7\u5f00\u5934.Python\u4f1a\u5728\u6267\u884c\u51fd\u6570/\u65b9\u6cd5\u524d\u6267\u884c\u88c5\u9970\u5668.\u5728\u4f7f\u7528\u88c5\u9970\u5668\u524d\u540c\u6837\u9700\u8981\u5bfc\u5165,\u50cf\u4e0b\u9762\u4e00\u6837\u5bfc\u5165:\n\n\nfrom django.contrib.auth.decorators import login_required\n\n\n\n\n\u540c\u6837\u7684\u8fd8\u662f\u8981\u5728\nurls.py\n\u6587\u4ef6\u7684\nurlpatterns\n\u5143\u7ec4\u8fdb\u884c\u4fee\u6539.\u6211\u4eec\u7684\u5143\u7ec4\u770b\u8d77\u6765\u548c\u4e0b\u9762\u7684\u4f8b\u5b50\u4e00\u6837.\n\n\nurlpatterns = patterns('',\n    url(r'^$', views.index, name='index'),\n    url(r'^add_category/$', views.add_category, name='add_category'),\n    url(r'^register/$', views.register, name='register'),\n    url(r'^login/$', views.user_login, name='login'),\n    url(r'^(?P\ncategory_name_slug\n\\w+)', views.category, name='category'),\n    url(r'^restricted/', views.restricted, name='restricted'),\n    )\n\n\n\n\n\u6211\u4eec\u540c\u6837\u9700\u8981\u5904\u7406\u7528\u6237\u672a\u767b\u5f55\u65f6\u7684\nrestricted()\n\u89c6\u56fe.\u6211\u4eec\u600e\u4e48\u505a\u5462?\u6700\u7b80\u5355\u7684\u5c31\u662f\u91cd\u5b9a\u5411\u7528\u6237\u7684\u6d4f\u89c8\u5668.Django\u5141\u8bb8\u6211\u4eec\u81ea\u5b9a\u4e49\u9879\u76ee\u91cc\u7684\nsettings.py\n\u6587\u4ef6.\u5728\nsettings.py\n\u6587\u4ef6\u91cc\u8bbe\u7f6e\nLOGIN_URL\n\u53d8\u91cf\u4e3a\u6211\u4eec\u5e0c\u671b\u8df3\u8f6c\u7684URL,\u4f8b\u5982\u767b\u5f55\u9875\u4f4d\u4e8e\n/rango/login/\n:\n\n\nLOGIN_URL = '/rango/login/'\n\n\n\n\n\u8fd9\u5c31\u786e\u4fdd\u7528\u6237\u5728\u6ca1\u6709\u767b\u5f55\u7684\u60c5\u51b5\u4e0b\u76f4\u63a5\u8df3\u8f6c\u81f3\n/rango/login/\n.\n\n\n9.7 \u6ce8\u9500\n\n\n\u786e\u4fdd\u7528\u6237\u80fd\u591f\u4f18\u96c5\u7684\u6ce8\u9500\u9700\u8981\u7ed9\u7528\u6237\u63d0\u4f9b\u6ce8\u9500\u7684\u9009\u9879.Django\u7684\nlogout()\n\u51fd\u6570\u5c06\u4f1a\u786e\u4fdd\u7528\u6237\u6ce8\u9500,\u4ee5\u53ca\u7ec8\u6b62\u5b83\u4eec\u7684ession,\u5982\u679c\u7528\u6237\u968f\u540e\u7ee7\u7eed\u8bbf\u95ee\u89c6\u56fe,\u5c06\u4f1a\u62d2\u7edd\u5b83\u4eec\u7684\u8bf7\u6c42.\n\n\n\u5728\nrango/views.py\n\u4e2d\u52a0\u5165\nuser_logout()\n\u51fd\u6570:\n\n\nfrom django.contrib.auth import logout\n\n# Use the login_required() decorator to ensure only those logged in can access the view.\n@login_required\ndef user_logout(request):\n    # Since we know the user is logged in, we can now just log them out.\n    logout(request)\n\n    # Take the user back to the homepage.\n    return HttpResponseRedirect('/rango/')\n\n\n\n\n\u540c\u6837\u6211\u4eec\u9700\u8981\u7ed9\nuser_logout()\n\u6dfb\u52a0URL\u6620\u5c04,\u6253\u5f00\nurls.py\n\u6587\u4ef6\u4fee\u6539\nurlpaatterns\n\u5143\u7ec4:\n\n\nurlpatterns = patterns('',\n    url(r'^$', views.index, name='index'),\n    url(r'^about/$', views.about, name='about'),\n    url(r'^category/(?P\ncategory_name_slug\n\\w+)$', views.category, name='category'),\n    url(r'^add_category/$', views.add_category, name='add_category'),\n    url(r'^category/(?P\ncategory_name_slug\n\\w+)/add_page/$', views.add_page, name='add_page'),\n    url(r'^register/$', views.register, name='register'),\n    url(r'^login/$', views.user_login, name='login'),\n    url(r'^restricted/$', views.restricted, name='restricted'),\n    url(r'^logout/$', views.user_logout, name='logout'),\n    )\n\n\n\n\n\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u5b8c\u6210\u4e86\u7528\u6237\u6ce8\u9500\u7684\u529f\u80fd,\u6211\u4eec\u9700\u8981\u5728\u4e3b\u9875\u4e0a\u521b\u5efa\u4e00\u4e2a\u94fe\u63a5,\u5f53\u7528\u6237\u70b9\u51fb\u5373\u53ef\u8fdb\u884c\u6ce8\u9500.\u4f46\u662f\u5bf9\u4e8e\u6ca1\u6709\u767b\u5f55\u7684\u7528\u6237\u6765\u8bf4\u8fd9\u4e2a\u94fe\u63a5\u5c31\u6beb\u65e0\u610f\u4e49\u4e86.\u6700\u597d\u662f\u8fd9\u6837\u5f53\u7528\u6237\u6ca1\u6709\u767b\u5f55\u65f6\u6211\u4eec\u53ef\u4ee5\u63d0\u4f9b\u4e00\u4e2a\u6ce8\u518c\u7684\u94fe\u63a5.\n\n\n\u548c\u524d\u9762\u7684\u7ae0\u8282\u4e00\u6837,\u6211\u4eec\u9700\u8981\u4fee\u6539\nindex.html\n\u6a21\u677f,\u4f7f\u7528\u6a21\u677f\u4e0a\u4e0b\u6587\u4e2d\u7684\nuser\n\u5bf9\u8c61\u6765\u51b3\u5b9a\u6211\u4eec\u9700\u8981\u73b0\u5b9e\u4ec0\u4e48\u94fe\u63a5.\u5728\u9875\u9762\u5e95\u90e8\u627e\u5230\u94fe\u63a5\u5217\u8868\u7528\u4e0b\u9762\u7684HTML\u4ee3\u66ff\u5b83.\u6ce8\u610f\u522b\u5fd8\u4e86\u52a0\u5165\u6ce8\u518c\u9875\u9762\u7684\u94fe\u63a5\n/rango/restricted/\n.\n\n\n{% if user.is_authenticated %}\n\na href=\n/rango/restricted/\nRestricted Page\n/a\nbr /\n\n\na href=\n/rango/logout/\nLogout\n/a\nbr /\n\n{% else %}\n\na href=\n/rango/register/\nRegister Here\n/a\nbr /\n\n\na href=\n/rango/login/\nLogin\n/a\nbr /\n\n{% endif %}\n\n\na href=\n/rango/about/\nAbout\n/a\nbr/\n\n\na href=\n/rango/add_category/\nAdd a New Category\n/a\nbr /\n\n\n\n\n\n\u5f53\u7528\u6237\u9a8c\u8bc1\u767b\u5f55\u540e,\u5c31\u80fd\u770b\u5230\nRestricted Page\n\u548c\nLogout\n\u94fe\u63a5.\u5982\u679c\u7528\u6237\u6ca1\u6709\u767b\u5f55,\u5c31\u4f1a\u663e\u793a\nRegister Here\n\u548c\nLogin\n.\nAbout\n\u548c\nAdd a New Category\n\u5e76\u4e0d\u5728\u6a21\u677f\u7684\u6761\u4ef6\u4ee3\u7801\u91cc,\u8fd9\u4e24\u4e2a\u94fe\u63a5\u5728\u7528\u6237\u533f\u540d\u6216\u767b\u5f55\u65f6\u90fd\u53ef\u4ee5\u770b\u89c1.\n\n\n9.8 \u7ec3\u4e60\n\n\n\u8fd9\u7ae0\u4e3b\u8981\u8bb2\u8ff0\u5728Django\u91cc\u5982\u4f55\u7ba1\u7406\u7528\u6237\u9a8c\u8bc1.\u5728\u6211\u4eec\u7684\u9879\u76ee\u91cc\u8bb2\u8ff0\u4e86\u5982\u4f55\u5b89\u88c5Django\ndjango.contrib.auth\n\u5e94\u7528.\u53e6\u5916,\u6211\u4eec\u4e5f\u5c55\u793a\u4e86\u5982\u4f55\u5728\ndjango.contrib.auth.models.User\n\u6a21\u578b\u91cc\u52a0\u5165\u7528\u6237\u4e2a\u4eba\u6a21\u578b\u7684\u989d\u5916\u5b57\u6bb5.\u6211\u4eec\u8fd8\u8be6\u7ec6\u7684\u5217\u51fa\u7528\u6237\u5982\u4f55\u6ce8\u518c,\u767b\u5f55,\u6ce8\u9500\u548c\u8bbf\u95ee\u9650\u5236.\u66f4\u591a\u4fe1\u606f\u8bf7\u770b\nDjango\u2019s official documentation on Authentication\n.\n\n\n\n\n\u5b9a\u5236\u4f60\u7684\u5e94\u7528,\u53ea\u6709\u6ce8\u518c\u7528\u6237\u624d\u80fd\u6dfb\u52a0/\u4fee\u6539\u76ee\u5f55/\u9875\u9762,\u975e\u6ce8\u518c\u7528\u6237\u53ea\u80fd\u6d4f\u89c8/\u4f7f\u7528\u76ee\u5f55/\u9875\u9762.\u4f60\u4e5f\u53ef\u4ee5\u5b9a\u5236\u589e\u52a0/\u4fee\u6539\u9875\u9762\u7684\u94fe\u63a5\u5728\u53ea\u6709\u7528\u6237\u767b\u5f55\u65f6\u624d\u4f1a\u5c55\u793a.\n\n\n\u5f53\u7528\u6237\u8f93\u5165\u9519\u8bef\u7528\u6237\u540d\u548c\u5bc6\u7801\u65f6\u63d0\u4f9b\u9519\u8bef\u901a\u77e5.\n\n\n\n\n\u5728\u5927\u591a\u6570\u5e94\u7528\u4e2d,\u4f60\u8981\u6ce8\u518c\u548c\u7ba1\u7406\u7528\u6237\u65f6\u9700\u8981\u8bf7\u6c42\u4e0d\u540c\u7684\u5b89\u5168\u7ea7\u522b - \u4f8b\u5982,\u786e\u4fdd\u7528\u6237\u6709\u6743\u9650\u8f93\u5165\u90ae\u7bb1\u5730\u5740,\u6216\u8005\u53d1\u9001\u7ed9\u7528\u6237\u88ab\u5fd8\u8bb0\u7684\u5bc6\u7801.\u867d\u7136\u6211\u4eec\u53ef\u4ee5\u81ea\u5df1\u8fdb\u884c\u5f00\u53d1\u6765\u5b9e\u73b0\u8fd9\u4e9b\u529f\u80fd\u4f46\u662f\ndjango-registration-redux\n\u5e94\u7528\u5df2\u7ecf\u5f88\u597d\u7684\u5b9e\u73b0\u4e86\u8fd9\u4e00\u529f\u80fd - \u8bbf\u95ee https://django-registration-redux.readthedocs.org \u67e5\u770b\u66f4\u591a\u7ec6\u8282.\u6a21\u677f\u53ef\u4ee5\u5728\u8fd9\u91cc\u627e\u5230:https://github.com/macdhuibh/django-registration-templates\n\n\n10 \u4f7f\u7528\u6a21\u677f\n\n\n\u5230\u76ee\u524d\u4e3a\u6b62\u6211\u4eec\u5df2\u7ecf\u4e3a\u6211\u4eec\u5e94\u7528\u91cc\u8bb8\u591a\u7684\u4e0d\u7528\u9875\u9762\u521b\u5efa\u4e86Django HTML\u6a21\u677f.\u53ef\u80fd\u4f60\u5df2\u7ecf\u6ce8\u610f\u5230\u4e86\u5728\u6a21\u677f\u91cc\u6709\u8bb8\u591a\u91cd\u590d\u7684HTML\u4ee3\u7801.\n\n\n\u5927\u591a\u6570\u7f51\u7ad9\u5c06\u4f1a\u6709\u5927\u91cf\u91cd\u590d\u7684\u7ed3\u6784(\u4f8b\u5982\u9876\u90e8,\u5219\u8fb9\u680f,\u5e95\u90e8\u7b49\u7b49),\u5728\u6bcf\u4e2a\u6a21\u677f\u4e2d\u91cd\u590d\u8fd9\u4e9bHTML\u53ef\u4e0d\u662f\u4e00\u4e2a\u597d\u7684\u65b9\u6cd5.\u5728Django\u6a21\u677f\u8bed\u8a00\u4e2d\u4f7f\u7528\u5b83\u63d0\u4f9b\u7684\u7ee7\u627f\u529f\u80fd\u53ef\u4ee5\u51cf\u5c11\u4ee3\u7801\u5927\u91cf\u7684\u5197\u4f59,\u800c\u4e0d\u662f\u505a\u5927\u91cf\u7684\u91cd\u590d\u590d\u5236\u548c\u7c98\u8d34.\n\n\n\u57fa\u672c\u7684\u6a21\u677f\u7ee7\u627f\u6b65\u9aa4\u5982\u4e0b:\n\n\n\n\n\u5b9a\u4e49\u5e94\u7528\u91cc\u6bcf\u4e2a\u9875\u9762\u91cd\u590d\u51fa\u73b0\u7684\u90e8\u5206(\u4f8b\u5982\u6807\u9898\u680f,\u4fa7\u8fb9\u680f,\u5e95\u90e8,\u5185\u5bb9\u7a97\u683c)\n\n\n\u5728\u57fa\u7840\u6a21\u677f\u91cc\u63d0\u4f9b\u9875\u9762\u57fa\u672c\u7684\u6846\u67b6\u548c\u901a\u7528\u5185\u5bb9(\u4f8b\u5982\u5728\u9875\u5e95\u7684\u7248\u6743\u58f0\u660e,\u4ee5\u53ca\u9875\u9762\u4e2d\u7684\u6807\u8bc6\u548c\u6807\u9898),\u7136\u540e\u5b9a\u4e49\u4e00\u4e9b\u4ee3\u7801\u6bb5,\u7528\u6237\u53ef\u4ee5\u5b9a\u4e49\u9700\u8981\u7684\u4ee3\u7801\u6bb5.\n\n\n\u521b\u5efa\u5177\u4f53\u7684\u6a21\u677f - \u5b83\u4eec\u90fd\u7ee7\u627f\u81ea\u57fa\u7840\u6a21\u677f - \u5e76\u4e14\u5236\u5b9a\u6bcf\u4e2a\u5757\u7684\u5185\u5bb9.\n\n\n\n\n10 .1 \u91cd\u590d\u7684HTML\u548c\u57fa\u7840\u6a21\u677f\n\n\n\u5f88\u660e\u663e\u6211\u4eec\u521b\u5efa\u7684\u51e0\u4e2a\u6a21\u677f\u90fd\u6709\u5f88\u591a\u91cd\u590d\u7684HTML\u4ee3\u7801.\u4e0b\u9762\u6211\u4eec\u62bd\u79bb\u51fa\u6bcf\u4e2a\u6a21\u677f\u4e2d\u90fd\u91cd\u590d\u7684\u90e8\u5206.\n\n\n!DOCTYPE html\n\n\n\nhtml\n\n    \nhead\n\n        \ntitle\nRango\n/title\n\n    \n/head\n\n\n    \nbody\n\n        \n!-- Page specific content goes here --\n\n    \n/body\n\n\n/html\n\n\n\n\n\n\u4ece\u73b0\u5728\u5f00\u59cb\u8ba9\u5b83\u505a\u6211\u4eec\u7684\u57fa\u7840\u6a21\u677f,\u5e76\u4e14\u5305\u5b58\u5728\ntemplates\n\u76ee\u5f55\u7684\nbase.html\n\u6587\u4ef6(\u4f8b\u5982 \ntemplates/base.html\n)\n\n\n\n\nNote\n\n\n\u5e94\u5f53\u5c3d\u53ef\u80fd\u591a\u7684\u62bd\u79bb\u51fa\u91cd\u590d\u7684\u5185\u5bb9.\u867d\u7136\u5728\u5f00\u59cb\u7684\u65f6\u5019\u4f1a\u6709\u4e00\u4e9b\u56f0\u96be,\u4f46\u662f\u4e00\u65e6\u505a\u5b8c\u4ee5\u540e\u4f1a\u7701\u4e0b\u5927\u91cf\u7684\u65f6\u95f4.\u60f3\u60f3\u5427:\u4f60\u5e0c\u671b\u770b\u5230\u8bb8\u591a\u540c\u6837\u4ee3\u7801\u7684\u62f7\u8d1d\u5417?\n\n\n\n\n\n\nWarning\n\n\n!DOCTYPE html\n\u5fc5\u987b\u653e\u5728\u9875\u9762\u7684\u7b2c\u4e00\u884c!\u4e0d\u8fd9\u6837\u505a\u5c06\u610f\u5473\u7740\u4f60\u7684\u6807\u8bb0\u4e0d\u7b26\u5408W3C HTML5\u51c6\u5219\u3002\n\n\n\n\n10.2 \u6a21\u677f\u5757\n\n\n\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u5b9a\u4e49\u4e86\u6211\u4eec\u7684\u57fa\u7840\u6a21\u677f,\u6211\u4eec\u53ef\u4ee5\u628a\u5b83\u53d8\u4e3a\u6211\u4eec\u9700\u8981\u7ee7\u627f\u7684\u6a21\u677f.\u6211\u4eec\u9700\u8981\u5728\u6a21\u677f\u4e2d\u52a0\u5165\u4e00\u4e2a\u6a21\u677f\u6807\u7b7e\u4ee5\u4fbf\u4e8e\u6211\u4eec\u80fd\u5728\u57fa\u7840\u6a21\u677f\u91cc\u91cd\u5199 - \u8fd9\u9700\u8981\u7528\u5230\nblocks\n.\n\n\n\u5728\u57fa\u7840\u6a21\u677f\u91cc\u589e\u52a0\nbody_block\n\u5982\u4e0b.\n\n\n!DOCTYPE html\n\n\n\nhtml\n\n    \nhead lang=\nen\n\n        \nmeta charset=\nUTF-8\n\n        \ntitle\nRango\n/title\n\n    \n/head\n\n\n    \nbody\n\n        {% block body_block %}{% endblock %}\n    \n/body\n\n\n/html\n\n\n\n\n\n\u7528\n{%\n\u548c\n%}\n\u6807\u7b7e\u8c03\u7528\u6807\u51c6\u7684Django\u6a21\u677f\u547d\u4ee4.\u4e3a\u4e86\u5f00\u542f\u4e00\u4e2a\u5757,\u6a21\u677f\u547d\u4ee4\u662f\nblock \nNAME\n,\u8fd9\u91cc\nNAME\n\u662f\u4f60\u5e0c\u671b\u521b\u5efa\u5757\u7684\u540d\u5b57.\u6700\u540e\u9700\u8981\u4fdd\u8bc1\u7528\nendblock\n\u547d\u4ee4\u5173\u95ed\u5757.\n\n\n\u4f60\u4e5f\u53ef\u4ee5\u518d\u5757\u4e2d\u8bbe\u7f6e'\u9ed8\u8ba4\u5185\u5bb9',\u4f8b\u5982:\n\n\n{% block body_block %}This is body_block's default content.{% endblock %}\n\n\n\n\n\u5f53\u6211\u4eec\u521b\u5efa\u6a21\u677f\u65f6\u6211\u4eec\u4f1a\u7ee7\u627f\nbase.html\n\u548c\u91cd\u5199\nbody_block\n\u91cc\u7684\u5185\u5bb9.\u4f60\u4e5f\u53ef\u4ee5\u5728\u6a21\u677f\u4e2d\u653e\u7f6e\u66f4\u591a\u7684\u5757,\u4f8b\u5982,\u4f60\u53ef\u4ee5\u5206\u522b\u4e3a\u9875\u9762\u6807\u9898,\u5e95\u90e8,\u4fa7\u8fb9\u680f\u8bbe\u7f6e\u5757.Django\u6a21\u677f\u7cfb\u7edf\u4e2d\u7684\u5757\u5341\u5206\u7684\u6709\u7528, \nofficial Django documentation on templates\n\u67e5\u770b\u66f4\u591a\u5185\u5bb9.\n\n\n10.2.1 \u66f4\u591a\u7684\u62bd\u8c61\n\n\n\u65e2\u7136\u5df2\u7ecf\u7406\u89e3\u4e86Django\u5757,\u8ba9\u6211\u4eec\u62bd\u8c61\u51fa\u66f4\u591a\u7684\u57fa\u7840\u6a21\u677f.\u91cd\u65b0\u6253\u5f00\nbase.html\n\u6a21\u677f\u4fee\u6539\u5982\u4e0b.\n\n\n!DOCTYPE html\n\n\n\nhtml\n\n    \nhead\n\n        \ntitle\nRango - {% block title %}How to Tango with Django!{% endblock %}\n/title\n\n    \n/head\n\n\n    \nbody\n\n        \ndiv\n\n            {% block body_block %}{% endblock %}\n        \n/div\n\n\n        \nhr /\n\n\n        \ndiv\n\n            \nul\n\n            {% if user.is_authenticated %}\n                \nli\na href=\n/rango/restricted/\nRestricted Page\n/a\n/li\n\n                \nli\na href=\n/rango/logout/\nLogout\n/a\n/li\n\n                \nli\na href=\n/rango/add_category/\nAdd a New Category\n/a\n/li\n\n            {% else %}\n                \nli\na href=\n/rango/register/\nRegister Here\n/a\n/li\n\n                \nli\na href=\n/rango/login/\nLogin\n/a\n/li\n\n            {% endif %}\n\n                \nli\na href=\n/rango/about/\nAbout\n/a\n/li\n\n            \n/ul\n\n        \n/div\n\n    \n/body\n\n\n/html\n\n\n\n\n\n\u6211\u4eec\u5728\u6a21\u677f\u4e2d\u5f15\u5165\u4e24\u4e2a\u65b0\u7684\u7279\u6027.\n\n\n\n\n\u7b2c\u4e00\u4e2a\u662f\u52a0\u5165\u65b0\u7684Django\u6a21\u677f\u5757\ntitle\n.\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u4e3a\u7ee7\u627f\u81ea\u57fa\u7840\u6a21\u677f\u7684\u9875\u9762\u5b9a\u5236\u6807\u9898.\u5982\u679c\u9875\u9762\u6ca1\u6709\u4f7f\u7528\u8fd9\u4e2a\u5757,\u90a3\u4e48\u8fd9\u4e2a\u6807\u9898\u4f1a\u9ed8\u8ba4\u4e3a\nRango - How to Tango with Django!\n.\n\n\n\u6211\u4eec\u4e5f\u53ef\u4ee5\u628a\nindex.html\n\u6a21\u677f\u4e2d\u7684\u94fe\u63a5\u5217\u8868\u52a0\u5165\u5230\nbody_block\n\u5757\u7684\u540e\u90e8.\u8fd9\u5c06\u4f1a\u4e3a\u6240\u6709\u7ee7\u627f\u57fa\u7840\u6a21\u677f\u7684\u9875\u9762\u5c55\u793a\u8fd9\u4e9b\u94fe\u63a5.\u53ef\u4ee5\u5728\nbody_block\n\u5185\u5bb9\u548c\u94fe\u63a5\u4e4b\u95f4\u52a0\u5165\u4e00\u4e2a\u6c34\u5e73\u7ebf(\n)\u4ee5\u4fbf\u6211\u4eec\u533a\u5206\u8fd9\u4e24\u90e8\u5206.\n\n\n\n\n\u6ce8\u610f\u6211\u4eec\u7684\nbody_block\n\u5305\u542b\u5728HTML\ndiv\n\u6807\u7b7e\u91cc - \u6211\u4eec\u5c06\u5728[24\u7ae0][24]\u89e3\u91ca\ndiv\n\u610f\u4e49.\u6211\u4eec\u7684\u94fe\u63a5\u540c\u6837\u4f7f\u7528\nul\n\u548c\nli\n\u6807\u7b7e\u5305\u542b\u5728HTML\u65e0\u5e8f\u5217\u8868\u91cc.\n\n\n10.3 \u6a21\u677f\u7ee7\u627f\n\n\n\u6211\u4eec\u5df2\u7ecf\u521b\u5efa\u4e86\u5e26\u5757\u7684\u57fa\u7840\u6a21\u677f,\u73b0\u5728\u6211\u4eec\u9700\u8981\u4fee\u6539\u90a3\u4e9b\u7ee7\u627f\u57fa\u7840\u6a21\u677f\u7684\u6a21\u677f.\u4f8b\u5982,\u8ba9\u6211\u4eec\u91cd\u6784\nrango/category.html\n\u6a21\u677f.\n\n\n\u9996\u5148\u6211\u4eec\u9700\u8981\u79fb\u9664\u6240\u6709\u91cd\u590d\u7684HTML\u4ee3\u7801\u548c\u6a21\u677f\u6807\u7b7e/\u547d\u4ee4.\u7136\u540e\u52a0\u5165\u4ee3\u7801:\n\n\n{% extends 'base.html' %}\n\n\n\n\nextends\n\u547d\u4ee4\u643a\u5e26\u4e00\u4e2a\u53c2\u6570,\u8fd9\u4e2a\u53c2\u6570\u662f\u8981\u7ee7\u627f\u7684\u6a21\u677f(\u4f8b\u5982 rango/base.html).\u7136\u540e\u4fee\u6539\ncategory.html\n\u6a21\u677f\u5982\u4e0b.\n\n\n\n\nNote\n\n\n\u63d0\u4f9b\u7ed9\nextends\n\u547d\u4ee4\u7684\u53c2\u6570\u7684\u9ed8\u8ba4\u8def\u5f84\u662f\u9879\u76ee\u7684\ntemplates\n\u76ee\u5f55.\u4f8b\u5982,Rango\u6240\u6709\u6a21\u677f\u5e94\u5f53\u662f\u4ece\nrango/base.html\n\u6269\u5c55\u800c\u4e0d\u662f\nbase.html\n.\n\n\n\n\n{% extends 'base.html' %}\n\n{% load staticfiles %}\n\n{% block title %}{{ category_name }}{% endblock %}\n\n{% block body_block %}\n    \nh1\n{{ category_name }}\n/h1\n\n    {% if category %}\n        {% if pages %}\n        \nul\n\n                {% for page in pages %}\n                \nli\na href=\n{{ page.url }}\n{{ page.title }}\n/a\n/li\n\n                {% endfor %}\n                \n/ul\n\n        {% else %}\n                \nstrong\nNo pages currently in category.\n/strong\n\n                {% endif %}\n\n        {% if user.is_authenticated %}\n                \na href=\n/rango/category/{{category.slug}}/add_page/\nAdd a Page\n/a\n\n                {% endif %}\n        {% else %}\n                 The specified category {{ category_name }} does not exist!\n    {% endif %}\n\n{% endblock %}\n\n\n\n\n\u5728\ncategory.html\n\u6a21\u677f\u91cc\u4f7f\u7528\nextends\n\u547d\u4ee4\u6765\u7ee7\u627f\nbase.html\n.\u5728\u8fd9\u91cc\u4f60\u4e0d\u9700\u8981\u5199\u4e00\u4e2a\u5b8c\u6574\u7684HTML\u6587\u6863,\u56e0\u4e3a\nbase.html\n\u5df2\u7ecf\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5b8c\u6574\u7684\u6846\u67b6.\u4f60\u53ea\u8981\u628a\u589e\u6dfb\u7684\u5185\u5bb9\u5199\u5230\u57fa\u7840\u6a21\u677f\u91cc,\u5b83\u5c31\u4f1a\u521b\u5efa\u4e00\u4e2a\u5b8c\u6574\u7684HTML\u6587\u6863\u53d1\u9001\u7ed9\u7528\u6237\u6d4f\u89c8\u5668.\n\n\n\n\nNote\n\n\n\u6a21\u677f\u975e\u5e38\u5f3a\u5927,\u4f60\u751a\u81f3\u53ef\u4ee5\u521b\u5efa\u4f60\u81ea\u5df1\u7684\u6a21\u677f\u6807\u7b7e.\u5728\u8fd9\u91cc\u6211\u4eec\u5c06\u6f14\u793a\u5982\u4f55\u51cf\u5c0f\u6a21\u677f\u91cc\u91cd\u590d\u7684HTML\u7ed3\u6784.\n\n\n\n\n\u7136\u800c,\u6a21\u677f\u53ef\u4ee5\u51cf\u5c0f\u5e94\u7528\u89c6\u56fe\u91cc\u7684\u4ee3\u7801.\u4f8b\u5982,\u5982\u679c\u4f60\u60f3\u5728\u4f60\u7684\u5e94\u7528\u589e\u52a0\u4e00\u4e9b\u76f8\u540c\u7684\u6570\u636e\u5e93\u9a71\u52a8\u7684\u5185\u5bb9,\u4f60\u9700\u8981\u8c03\u7528\u7279\u5b9a\u7684\u89c6\u56fe\u6765\u5904\u7406\u7f51\u9875\u4e2d\u91cd\u590d\u7684\u90e8\u5206.\u8fd9\u6837\u5728\u6bcf\u4e2a\u89c6\u56fe\u91cc\u5c31\u4e0d\u7528\u91cd\u590d\u8c03\u7528Django ORM\u51fd\u6570\u6765\u6536\u96c6\u6570\u636e\u4e86.\n\u67e5\u770b\u66f4\u591a\u5185\u5bb9\u8bf7\u67e5\u770b \nDjango documentation on templates\n.\n\n\n10.4 \u6a21\u677f\u91cc\u52a0\u5165URL\n\n\n\u5230\u76ee\u524d\u4e3a\u6b62\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u7684\u5728\u6a21\u677f\u91cc\u952e\u5165\u9875\u9762/\u89c6\u56fe\u7684URL,\u4f8b\u5982\na href=\"/rango/about/\"\n About  \n/a\n.\u7136\u800c\u6700\u597d\u7684\u65b9\u5f0f\u662f\u4f7f\u7528\nurl\n\u6a21\u677f\u6807\u7b7e\u6765\u67e5\u627e\u5728\nurls.py\n\u6587\u4ef6\u4e2d\u7684url.\u6211\u4eec\u9700\u8981\u6539\u5199\u4e00\u4e0b.\n\n\nli\na href=\n{% url 'about' %}\nAbout\n/a\n/li\n\n\n\n\n\n\u5728\u8fd9\u91cc\u6211\u4eec\u8981\u6307\u5b9a\u5e94\u7528\u548cabout\u89c6\u56fe.\n\n\n\u73b0\u5728\u53ef\u4ee5\u4fee\u6539\u57fa\u7840\u6a21\u677f\u7684\nurl\n\u6a21\u677f\u6807\u7b7e:\n\n\ndiv\n\n        \nul\n\n    {% if user.is_authenticated %}\n        \nli\na href=\n{% url 'restricted' %}\nRestricted Page\n/a\n/li\n\n        \nli\na href=\n{% url 'logout' %}\nLogout\n/a\n/li\n\n        \nli\na href=\n{% url 'add_category' %}\nAdd a New Category\n/a\n/li\n\n    {% else %}\n        \nli\na href=\n{% url 'register' %}\nRegister Here\n/a\n/li\n\n        \nli\na href=\n{% url 'login' %}\nLogin\n/a\n/li\n\n    {% endif %}\n\n    \nli\na href=\n{% url 'about' %}\nAbout\n/a\n/li\n\n    \n/ul\n\n\n/div\n\n\n\n\n\n\u5728\u6211\u4eec\u7684\nindex.html\n\u6a21\u677f\u91cc\u6709\u4e00\u4e2a\u5e26\u53c2\u6570\u7684url\u6a21\u5f0f,\u4f8b\u5982\ncategory\n\u4f1a\u5e26\u4e00\u4e2a\ncategory.slug\n\u53c2\u6570.\u5728\u8fd9\u91cc\u4f60\u53ef\u4ee5\u4f7f\u7528\u6a21\u677f\u6807\u7b7e\u6765\u4f20\u9012\u8fd9\u4e2a\ncategory.slug\n\u53c2\u6570,\u4f8b\u5982\u5728\u6a21\u677f\u91cc\u5199\u5165\n{% url \u2018category\u2019 category.slug %}\n:\n\n\n{% for category in categories %}\n    \nli\na href=\n{% url 'category'  category.slug %}\n{{ category.name }}\n/a\n/li\n\n{% endfor %}\n\n\n\n\nTODO(leifos):\u5b98\u65b9\u63d0\u4f9b\u7684\u5982\u4f55\u4f7f\u7528\u6a21\u677f\u6807\u7b7e,http://django.readthedocs.org/en/latest/intro/tutorial03.html \u8fd9\u4e2astackoverflow\u4e5f\u5f88\u6709\u5e2e\u52a9 http://stackoverflow.com/questions/4599423/using-url-in-django-templates\n\n\nTODO(leifos):\u6307\u51fa\u5982\u4f55\u628aurl\u653e\u5230\u4e00\u4e2a\u547d\u540d\u7a7a\u95f4\u5e76\u5f15\u7528,\u89c1http://django.readthedocs.org/en/latest/intro/tutorial03.html\n\n\n10.5 \u7ec3\u4e60\n\n\n\u5b8c\u6210\u4e0b\u9762\u7684\u7ec3\u4e60\u4f60\u5c06\u4f1a\u6210\u4e3aDjango\u6a21\u677f\u4e13\u5bb6.\n\n\n\n\n\u66f4\u6539\u6240\u6709\u6a21\u677f\u4f7f\u4ed6\u4eec\u90fd\u7ee7\u627f\nbase.html\n\u6a21\u677f.\u6b65\u9aa4\u548c\u4e0a\u9762\u7684\u4f8b\u5b50\u4e00\u6837.\u5c31\u548c\u4e0b\u56fe\u4e00\u6837,\u6240\u6709\u7684\u6a21\u677f\u90fd\u4f1a\u7ee7\u627f\nbase.html\n.\u5f53\u5b8c\u6210\u540e\u8bb0\u5f97\u5220\u9664\nindex.html\n\u6a21\u677f\u91cc\u7684\u94fe\u63a5.\u6211\u4eec\u4e0d\u518d\u9700\u8981\u5b83\u4eec\u4e86!\u4f60\u4e5f\u53ef\u4ee5\u79fb\u9664\u5728\nabout.html\n\u6a21\u677f\u91cc\u7684\u94fe\u63a5.\n\n\n\u5728\u9650\u5236\u9875\u9762\u4f7f\u7528\u6a21\u677f.\u6a21\u677f\u53d6\u540d\u4e3a\nrestricted.html\n,\u5e76\u4e14\u4fdd\u8bc1\u5b83\u4e5f\u7ee7\u627f\nbase.html\n\u6a21\u677f.\n\n\n\u4f7f\u7528url\u6a21\u677f\u6807\u7b7e\u4ee3\u66ff\u6240\u6709\u7684url.\n\n\n\u6dfb\u52a0\u4e00\u4e2a\u5730\u5740\u4f7f\u7528\u6237\u4e0d\u8bba\u5728\u7f51\u7ad9\u7684\u54ea\u4e2a\u4f4d\u7f6e\u90fd\u80fd\u8fd4\u56de\u5230\u4e3b\u9875.\n\n\n\n\n\n\nWarning\n\n\n\u8bb0\u5f97\u5728\u6bcf\u4e2a\u6a21\u677f\u5934\u90e8\u52a0\u5165\n{% load static %}\n\u4ee5\u4f7f\u7528\u9759\u6001\u5a92\u4f53.\u5982\u679c\u6ca1\u6709\u8fd9\u6837\u505a,\u5c06\u4f1a\u4ea7\u751f\u4e00\u4e2a\u9519\u8bef!Django\u6a21\u677f\u6a21\u5757\u9700\u8981\u5206\u522b\u5355\u72ec\u5bfc\u5165 - \u4f60\u4e0d\u53ef\u4ee5\u8c03\u7528\u5728\u4f60\u6269\u5c55\u7684\u6a21\u677f\u91cc\u7684\u6a21\u5757.\n\n\n\n\n\n\n\n\nNote\n\n\n\u5b8c\u6210\u4e0a\u9762\u7684\u7ec3\u4e60\u540e,\u6240\u6709Rango\u7684\u6a21\u677f\u90fd\u4f1a\u7ee7\u627f\nbashe\n.html.\u8ba9\u6211\u4eec\u56de\u8fc7\u5934\u770b\u770b\nbase.html\n\u7684\u5185\u5bb9,\nuser\n\u5bf9\u8c61 - \u5728Django\u8bf7\u6c42\u7684\u4e0a\u4e0b\u6587\u4e2d - \u5c06\u4f1a\u7528\u6765\u68c0\u67e5\u5f53\u524d\u7684Rnago\u7528\u6237\u662f\u5426\u5df2\u7ecf\u767b\u5f55(\u901a\u8fc7\u4f7f\u7528\nuser.is_authenticated\n).\u56e0\u4e3a\u6240\u6709\u7684Rango\u6a21\u677f\u90fd\u4f1a\u7ee7\u627f\u57fa\u7840\u6a21\u677f,\u6240\u4ee5\u6240\u6709\u7684Rango\u6a21\u677f\u7684\u8bbf\u95ee\u90fd\u8981\u4f9d\u8d56\u4e8e\u6240\u53d1\u9001\u8bf7\u6c42\u7684\u4e0a\u4e0b\u6587.\n\n\n\u56e0\u4e3a\u8fd9\u4e2a\u65b0\u7684\u4f9d\u8d56,\u4f60\u5fc5\u987b\u68c0\u67e5\u6bcf\u4e2aRango\u7684Django\u89c6\u56fe.\u5bf9\u4e8e\u6bcf\u4e2a\u89c6\u56fe,\u786e\u4fdd\u6bcf\u4e2a\u8bf7\u6c42\u5bf9\u4e8eDjango\u6a21\u677f\u5f15\u64ce\u90fd\u662f\u53ef\u7528\u7684.\u901a\u8fc7\u8fd9\u4e2a\u6559\u7a0b,\u6211\u4eec\u901a\u8fc7\nrender()\n\u4f20\u9012\u8bf7\u6c42\u4f5c\u4e3a\u53c2\u6570\u6765\u8fbe\u5230\u8fd9\u4e2a\u76ee\u7684.\u6709\u65f6\u4f1a\u53d1\u751f\u8fd9\u6837\u7684\u60c5\u51b5,\u5982\u679c\u4f60\u7684\u8bf7\u6c42\u88ab\u9519\u8bef\u7684\u4f20\u9001\u53ef\u80fd\u51fa\u73b0\u7528\u6237\u6ca1\u6709\u767b\u5f55,\u4f46\u662fDjango\u8ba4\u4e3a\u5df2\u7ecf\u767b\u5f55.\n\n\n\u8fd9\u91cc\u6211\u4eec\u4ee5\nabout\n\u89c6\u56fe\u4f5c\u4e3a\u4f8b\u5b50\u6765\u8fdb\u884c\u68c0\u67e5.\u5f00\u59cb\u7528\u786c\u7f16\u7801\u7684\u65b9\u5f0f\u8fdb\u884c,\u4ee3\u7801\u5982\u4e0b.\u6ce8\u610f\u6211\u4eec\u53ea\u53d1\u9001\u5b57\u7b26\u4e32 - \u6211\u4eec\u6ca1\u6709\u4f7f\u7528\nrequest\n\u53c2\u6570.\n\n\n\n\ndef about(request):\n    return HttpResponse('Rango says: Here is the about page. \na href=\n/rango/\nIndex\n/a\n')\n\n\n\n\n\u4e3a\u4e86\u4f7f\u7528\u6a21\u677f\u6211\u4eec\u9700\u8981\u8c03\u7528`render`\u51fd\u6570\u4f20\u9012`request`\u5bf9\u8c61.\u8fd9\u5c06\u4f1a\u4f7f\u6211\u4eec\u7684\u6a21\u677f\u5f15\u64ce\u53ef\u4ee5\u83b7\u53d6\u50cf`user`\u8fd9\u6837\u7684\u5bf9\u8c61,\u5b83\u53ef\u4ee5\u5141\u8bb8\u6a21\u677f\u5f15\u64ce\u67e5\u770b\u7528\u6237\u662f\u5426\u767b\u5f55.(\u4f8b\u5982\u8fdb\u884c\u9a8c\u8bc1).\n\n\n\ndef about(request):\n    return render(request, 'rango/about.html', {})\n\n\n\n\n\u8bb0\u4f4f,`render()`\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u5b57\u5178,\u5b83\u53ef\u4ee5\u6dfb\u52a0\u989d\u5916\u7684\u6570\u636e\u4f20\u9012\u7ed9Django\u6a21\u677f\u5f15\u64ce.\u56e0\u4e3a\u6211\u4eec\u6ca1\u6709\u4ec0\u4e48\u989d\u5916\u7684\u6570\u636e\u4f20\u9012\u7ed9\u6a21\u677f\u6240\u4ee5\u8fd9\u91cc\u4e3a\u7a7a.\u67e5\u770b[5.1.3](#51)\u7ae0\u8282\u590d\u4e60\u5173\u4e8e`render()`\u7684\u77e5\u8bc6.\n\n\n\n11 Cokkies\u548cSessions\n\n\n\u5728\u672c\u7ae0\u4e2d\u6211\u4eec\u5c06\u8981\u4ecb\u7ecdsessions\u548ccookies,\u5b83\u4eec\u4e24\u4e2a\u5728\u73b0\u4ee3wen\u5e94\u7528\u4e2d\u6709\u7740\u81f3\u5173\u91cd\u8981\u7684\u4f5c\u7528.\u5728\u4e0a\u4e00\u7ae0,Django\u6846\u67b6\u4f7f\u7528sessions\u548ccookies\u6765\u5904\u7406\u7528\u6237\u767b\u5f55\u548c\u6ce8\u9500\u529f\u80fd(\u90fd\u5728\u80cc\u540e\u8fd0\u884c).\u8fd9\u91cc\u6211\u4eec\u5c06\u8981\u63a2\u7d22cookies\u7684\u5176\u4ed6\u7528\u9014.\n\n\n11.1 Cookies,\u65e0\u5904\u4e0d\u5728\u7684Cookies!\n\n\n\u5982\u679c\u4f60\u5df2\u7ecf\u719f\u77e5cookies\u7684\u6982\u5ff5\u548c\u5b83\u80cc\u540e\u7684\u8fd0\u884c\u673a\u5236,\u90a3\u4e48\u8bf7\u76f4\u63a5\u8df3\u8f6c\u5230\n11.2\n,\u5982\u679c\u6ca1\u6709\u8ba9\u6211\u4eec\u7ee7\u7eed.\n\n\n\u5f53\u6211\u4eec\u8bf7\u6c42\u8bbf\u95ee\u4e00\u4e2a\u7f51\u7ad9\u65f6,\u670d\u52a1\u5668\u4f1a\u8fd4\u56de\u8bf7\u6c42\u9875\u9762\u7684\u5185\u5bb9.\u53e6\u5916\u8fd8\u6709\u4e00\u4e2a\u6216\u8005\u591a\u4e2acookies\u88ab\u4f20\u9001\u7ed9\u5ba2\u6237\u7aef,\u5b83\u4eec\u5c06\u4f1a\u4fdd\u5b58\u5728\u6d4f\u89c8\u5668\u7684cache\u91cc.\u5f53\u4e00\u4e2a\u7528\u6237\u5728\u540c\u4e00\u4e2a\u7f51\u7ad9\u670d\u52a1\u5668\u8bf7\u6c42\u65b0\u7684\u9875\u9762\u65f6,\u6240\u6709\u7684\u5173\u4e8e\u8fd9\u4e2a\u9875\u9762\u7684cookies\u4e5f\u4f1a\u53d1\u9001\u5230\u8bf7\u6c42\u91cc.\u670d\u52a1\u5668\u4f1a\u89e3\u6790\u8bf7\u6c42\u91cc\u7684cookies\u5b57\u6bb5\u5e76\u4e14\u751f\u6210\u4e00\u4e2a\u7279\u5b9a\u7684\u54cd\u5e94.\n\n\n\n\n\u8fd9\u91cc\u6211\u5c31\u4e0d\u7ffb\u8bd1\u4e86~~\u90fd\u662f\u4e00\u4e9b\u79d1\u666e\u4e86\n\n\n\n\n11.2 Sessions\u548c\u65e0\u72b6\u6001\u534f\u8bae\n\n\n\u6240\u6709\u7684\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u4ea4\u4e92\u90fd\u4f1a\u901a\u8fc7\nHTTP\u534f\u8bae\n.\u901a\u8fc7\n\u7b2c8\u7ae0\n\u7b80\u5355\u7684\u63a5\u89e6\u6211\u4eec\u77e5\u9053HTTP\u662f\n\u65e0\u72b6\u6001\u534f\u8bae\n.\u8fd9\u5c31\u610f\u5473\u7740\u6bcf\u6b21\u5ba2\u6237\u7aef\u8bf7\u6c42(HTTP\nGET\n)\u6216\u8005\u53d1\u9001(HTTP\nPOST\n)\u8d44\u6e90\u7ed9\u670d\u52a1\u5668\u90fd\u5fc5\u987b\u65b0\u5efa\u7acb\u4e00\u4e2a\u8fde\u63a5(\u4e00\u4e2aTCP\u8fde\u63a5).\n\n\n\u56e0\u4e3a\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u6ca1\u6709\u6301\u7eed\u7684\u8fde\u63a5,\u4e24\u7aef\u7684\u8f6f\u4ef6\u4e0d\u80fd\u4ec5\u4ec5\u901a\u8fc7\u5355\u72ec\u7684\u8fde\u63a5\u4fdd\u6301\u4f1a\u8bdd\u72b6\u6001.\u4f8b\u5982,\u5ba2\u6237\u7aef\u6bcf\u6b21\u90fd\u9700\u8981\u544a\u8bc9\u670d\u52a1\u5668\u8c01\u5728\u8fd9\u4e2a\u4e3b\u673a\u4e0a\u767b\u5f55\u4e86\u8fd9\u4e2aweb\u5e94\u7528.\u8fd9\u5c31\u662f\u7528\u6237\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u4f1a\u8bdd,\u8fd9\u4e5f\u662fsession\u7684\u57fa\u672c - \na semi-permanent exchange of information\n.\u4f5c\u4e3a\u4e00\u4e2a\u65e0\u72b6\u6001\u534f\u8bae,HTTP\u9700\u8981\u4fdd\u6301\u4f1a\u8bdd\u72b6\u6001\u975e\u5e38\u7684\u56f0\u96be - \u4f46\u662f\u5f88\u8d70\u8fd0\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u51e0\u79cd\u6280\u672f\u6765\u7ed5\u8fc7\u8fd9\u4e2a\u95ee\u9898.\n\n\n\u6700\u5e38\u7528\u7684\u4e00\u79cd\u4fdd\u6301\u72b6\u6001\u7684\u65b9\u6cd5\u5c31\u662f\u4f7f\u7528session ID,\u548ccookies\u4e00\u6837\u5b58\u50a8\u5728\u5ba2\u6237\u7aef\u7535\u8111.session ID\u53ef\u4ee5\u8ba4\u4e3a\u662f\u4e00\u79cd\u4ee4\u724c(\u4e00\u5927\u4e32\u5b57\u7b26\u4e32),\u5b83\u80fd\u591f\u552f\u4e00\u6807\u8bc6\u7279\u5b9aweb\u5e94\u7528\u91cc\u7684\u4f1a\u8bdd.\u548ccookies\u5b58\u50a8\u8bb8\u591a\u4e0d\u540c\u79cd\u7c7b\u7684\u6570\u636e\u4e0d\u4e00\u6837(\u50cf\u7528\u6237\u540d,\u540d\u5b57,\u5bc6\u7801),\u5b83\u53ea\u5b58\u50a8session ID,\u5e76\u4e14\u6620\u5c04\u5230web\u670d\u52a1\u5668\u7684\u4e00\u4e2a\u6570\u636e\u7ed3\u6784.\u5728\u8fd9\u4e2a\u6570\u636e\u7ed3\u6784\u91cc,\u4f60\u53ef\u4ee5\u5b58\u50a8\u4efb\u4f55\u4f60\u9700\u8981\u7684\u4fe1\u606f.\u8fd9\u5bf9\u4e8e\u7528\u6237\u6765\u8bf4\u662f\u66f4\u5b89\u5168\u7684\u5b58\u50a8\u65b9\u6cd5.\u7528\u8fd9\u79cd\u65b9\u6cd5,\u8fd9\u4e9b\u6570\u636e\u4e0d\u4f1a\u88ab\u4e00\u4e2a\u4e0d\u5b89\u5168\u7684\u5ba2\u6237\u7aef\u548c\u8fde\u63a5\u6240\u76d1\u542c.\n\n\n\u5982\u679c\u4f60\u7684\u6d4f\u89c8\u5668\u652f\u6301cookies,\u5f53\u4f60\u8bbf\u95ee\u6240\u6709\u7684\u7f51\u7ad9\u65f6\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u4f1a\u8bdd.\u4f60\u53ef\u4ee5\u81ea\u5df1\u67e5\u770b\u4e0b,\u5982\u56fe\u6240\u793a.\u5728Google Chrome\u7684\u5f00\u53d1\u8005\u5de5\u5177\u4e2d,\u4f60\u53ef\u4ee5\u67e5\u770b\u5230web\u670d\u52a1\u5668\u53d1\u9001\u7ed9\u4f60\u7684cookies.\u5728\u4e0b\u56fe\u4e2d,\u4f60\u53ef\u4ee5\u89c2\u5bdf\u5230\u9009\u4e2d\u7684\nsessionid\ncookie.\u8fd9\u4e2acookie\u5305\u542b\u4e00\u7cfb\u5217\u7684\u5b57\u6bcd\u548c\u6570\u5b57,\u5b83\u53ef\u4ee5\u4f7fDjango\u552f\u4e00\u6807\u8bc6\u4e00\u4e2a\u4f1a\u8bdd.\u5230\u73b0\u5728,\u6240\u6709\u7684session\u7ec6\u8282\u90fd\u8868\u8ff0\u5b8c\u4e86 - \u4f46\u662f\u670d\u52a1\u5668\u7aef\u8fd8\u6ca1\u8bb2.\n\n\n\n\nsession ID\u4e5f\u53ef\u4ee5\u4e0d\u5b58\u50a8\u5728cookies\u4e2d.\u4f20\u7edf\u7684PHP\u5e94\u7528\u4f1a\u628a\u5b83\u4eec\u505a\u6210\u4e00\u4e2a\u8bf7\u6c42\u5b57\u7b26\u4e32\u6216\u662fURL\u7684\u4e00\u90e8\u5206\u6765\u8bf7\u6c42\u8d44\u6e90.\u5982\u679c\u4f60\u5076\u7136\u95f4\u8bbf\u95ee\u50cf\nhttp://www.site.com/index.php?sessid=omgPhPwtfIsThisIdDoingHere332i942394\n\u8fd9\u6837\u7684URL,\u5f88\u53ef\u80fd\u662f\u670d\u52a1\u5668\u552f\u4e00\u8bc6\u522b\u4f60\u7684\u6807\u8bc6.\u5f88\u6709\u8da3\u5427!\n\n\n\n\nNote\n\n\n\u4ed4\u7ec6\u770b\u4e0a\u56fe,\u6ce8\u610f\u5230\ncsrftoken\n\u4ee4\u724c\u4e86\u5417?\u8fd9\u4e2acookie\u5e2e\u52a9\u6211\u4eec\u907f\u514d\u8de8\u7ad9\u8bf7\u6c42.\n\n\n\n\n11.3 \u5728Django\u91cc\u8bbe\u7f6eSessions\n\n\n\u5c3d\u7ba1\u6211\u4eec\u5df2\u7ecf\u8bbe\u7f6e\u597d\u5e76\u4e14\u6b63\u786e\u5de5\u4f5c,\u4f46\u662f\u5982\u679c\u5b66\u4f1aDjango\u7684\u6a21\u5757\u63d0\u4f9b\u54ea\u4e9b\u5de5\u4f5c\u5c31\u4f1a\u66f4\u597d\u4e86.\u5173\u4e8esessions\u65b9\u9762Django\u63d0\u4f9b\u4e86\nmiddleware\n\u6765\u63d0\u4f9bsession\u529f\u80fd.\n\n\n\u4e3a\u4e86\u68c0\u67e5\u4e00\u5207\u90fd\u8bbe\u7f6e\u59a5\u5f53,\u6253\u5f00Django\u9879\u76ee\u91cc\u7684\nsettings.py\n\u6587\u4ef6.\u627e\u5230\nMIDDLEWARE_CLASSES\n\u5143\u7ec4.\u4f60\u53ef\u4ee5\u5728\u5143\u7ec4\u4e2d\u770b\u5230\ndjango.contrib.sessions.middleware.SessionMiddleware\n\u6a21\u5757 - \u5982\u679c\u6ca1\u6709\u770b\u5230\u73b0\u5728\u5c31\u52a0\u8fdb\u53bb.\u6b63\u5f0f\u8fd9\u4e2a\nSessionMiddleware\n\u4e2d\u95f4\u4ef6\u80fd\u591f\u521b\u5efa\u552f\u4e00\u7684\nsessionid\ncookies.\n\n\nSessionMiddleware\n\u53ef\u4ee5\u7075\u6d3b\u7684\u4f7f\u7528\u4e0d\u540c\u7684\u65b9\u6cd5\u6765\u5b58\u50a8session\u4fe1\u606f.\u4f60\u53ef\u4ee5\u91c7\u53d6\u5f88\u591a\u65b9\u6cd5\u50a8\u5b58 - \u5b58\u5728\u6587\u4ef6,\u6570\u636e\u5e93\u751a\u81f3\u5728cache\u4e2d.\u6700\u76f4\u63a5\u7684\u65b9\u6cd5\u662f\u4f7f\u7528\ndjango.contrib.sessions\n\u5e94\u7528\u628asession\u4fe1\u606f\u5b58\u50a8\u5230Django\u6a21\u578b/\u6570\u636e\u5e93\u4e2d(\u8be6\u7ec6\u7684\u8bf4\u662f\ndjango.contrib.sessions.models.Session\n\u6a21\u578b).\u4f7f\u7528\u8fd9\u79cd\u65b9\u6cd5,\u4f60\u5fc5\u987b\u9996\u5148\u786e\u4fdd\u5728Django\u9879\u76ee\u7684\nsettings.py\n\u6587\u4ef6\u91cc\ndjango.contrib.sessions\n\u4fdd\u5b58\u5728\nINSTALLED_APPS\n\u5143\u7ec4\u91cc.\u5982\u679c\u4f60\u73b0\u5728\u8981\u6dfb\u52a0\u5e94\u7528,\u4f60\u9700\u8981\u4f7f\u7528\u8fc1\u79fb\u547d\u4ee4\u6765\u66f4\u65b0\u6570\u636e\u5e93.\n\n\n\n\nNote\n\n\n\u5982\u679c\u4f60\u5e0c\u671b\u4f7f\u7528\u8f7b\u91cf\u5feb\u6377\u7684\u65b9\u5f0f,\u4f60\u53ef\u4ee5\u628asession\u4fe1\u606f\u5b58\u50a8\u5728cache\u4e2d.\u53ef\u4ee5\u67e5\u770b \nofficial Django documentation for advice on cached sessions\n.\n\n\n\n\n11.4 \u57fa\u4e8ecookie\u7684session\n\n\n\u6211\u4eec\u73b0\u5728\u6d4b\u8bd5\u6211\u4eec\u7684\u6d4f\u89c8\u5668\u662f\u5426\u652f\u6301cookies.\u73b0\u4ee3\u6d4f\u89c8\u5668\u90fd\u652f\u6301cookies,\u4f60\u53ef\u4ee5\u67e5\u770b\u4f60\u6d4f\u89c8\u5668\u7684cookies\u4fe1\u606f.\u5982\u679c\u4f60\u7684\u6d4f\u89c8\u5668\u5b89\u5168\u7b49\u7ea7\u8bbe\u5b9a\u7684\u975e\u5e38\u9ad8,\u4e00\u4e9b\u7279\u5b9a\u7684cookies\u4f1a\u88ab\u963b\u585e.\u67e5\u770b\u6d4f\u89c8\u5668\u6587\u6863\u83b7\u53d6\u66f4\u591a\u4fe1\u606f,\u8bbe\u5b9a\u4f7f\u7528cookies.\n\n\n11.4.1 \u6d4b\u8bd5Cookie\u529f\u80fd\n\n\n\u4e3a\u4e86\u6d4b\u8bd5cookies,\u4f60\u53ef\u4ee5\u4f7f\u7528Django\u7684\nrequest\n\u5bf9\u8c61\u63d0\u4f9b\u7684\u4fbf\u6377\u65b9\u6cd5.\u5176\u4e2d\nset_test_cookie()\n,\ntest_cookie_worked()\n\u548c\ndelete_test_cookie()\n\u65b9\u6cd5\u5bf9\u6211\u4eec\u6bd4\u8f83\u6709\u7528.\u5728\u4e00\u4e2a\u89c6\u56fe\u91cc,\u4f60\u9700\u8981\u8bbe\u7f6e\u4e00\u4e2acookie.\u5728\u53e6\u4e00\u4e2a\u89c6\u56fe\u4f60\u9700\u8981\u68c0\u67e5cookie\u662f\u5426\u5b58\u5728.\u4e24\u4e2a\u4e0d\u540c\u7684\u89c6\u56fe\u90fd\u8981\u8bf7\u6c42cookies,\u662f\u56e0\u4e3a\u4f60\u8981\u67e5\u770b\u662f\u5426\u5ba2\u6237\u7aef\u63a5\u6536\u4e86\u6765\u81ea\u670d\u52a1\u5668\u7684cookie.\n\n\n\u6211\u4eec\u5c06\u4f1a\u4f7f\u7528\u524d\u9762\u521b\u5efa\u7684\u4e24\u4e2a\u89c6\u56fe,\nindex()\n\u548c\nregister()\n.\u5982\u679c\u4f60\u5b9e\u73b0\u4e86\u7528\u6237\u9a8c\u8bc1\u529f\u80fd,\u4f60\u9700\u8981\u786e\u4fdd\u4f60\u5df2\u7ecf\u8fdb\u884c\u4e86\u6ce8\u9500.\u6211\u4eec\u4e0d\u4f1a\u5728\u7f51\u9875\u4e0a\u5c55\u793a\u800c\u662f\u5728\u7ec8\u7aef\u91cc\u8f93\u51faDjango\u670d\u52a1\u5668\u9a8c\u8bc1cookies\u662f\u5426\u6b63\u5e38\u5de5\u4f5c.\u5f53\u6211\u4eec\u6210\u529f\u786e\u8ba4cookies\u786e\u5b9e\u6b63\u5e38\u5de5\u4f5c,\u6211\u4eec\u4f1a\u79fb\u9664\u4ee3\u7801\u6062\u590d\u539f\u72b6.\n\n\n\u5728Rango\u7684\nviews.py\n\u6587\u4ef6,\u627e\u5230\nindex()\n\u89c6\u56fe.\u5728\u91cc\u9762\u6dfb\u52a0\u4e0b\u9762\u8fd9\u4e00\u884c.\u4e3a\u4e86\u786e\u4fdd\u8fd9\u884c\u80fd\u591f\u6267\u884c,\u628a\u5b83\u653e\u5728\u89c6\u56fe\u7684\u7b2c\u4e00\u884c,\u4e0d\u8981\u5305\u542b\u5728\u6761\u4ef6\u8bed\u6bb5\u91cc.\n\n\nrequest.session.set_test_cookie()\n\n\n\n\n\u5728\nregister()\n\u89c6\u56fe\u9876\u90e8\u52a0\u5165\u4e0b\u97623\u884c\u4ee3\u7801 - \u540c\u6837\u662f\u4e3a\u4e86\u4fdd\u8bc1\u5b83\u4eec\u80fd\u88ab\u6267\u884c.\n\n\nif request.session.test_cookie_worked():\n    print \n TEST COOKIE WORKED!\n\n    request.session.delete_test_cookie()\n\n\n\n\n\u66f4\u6539\u5b8c\u4ee5\u540e\u8fd0\u884cDjango\u670d\u52a1\u5e76\u6253\u5f00Rango\u9996\u9875,\nhttp://127.0.0.1:8000/rango/\n.\u9875\u9762\u52a0\u8f7d\u5b8c\u540e,\u524d\u5f80\u6ce8\u518c\u9875\u9762.\u5f53\u6ce8\u518c\u9875\u9762\u52a0\u8f7d\u540e,\u4f60\u5c06\u4f1a\u548c\u4e0b\u56fe\u4e00\u6837\u5728\u7ec8\u7aef\u91cc\u770b\u5230\n TEST COOKIE WORKED!\n.\n\n\n\n\n\u5982\u679c\u6ca1\u6709\u770b\u5230\u4e0a\u9762\u7684\u4fe1\u606f,\u8bf7\u68c0\u67e5\u4e00\u4e0b\u4f60\u7684\u6d4f\u89c8\u5668\u5b89\u5168\u8bbe\u7f6e,\u6709\u53ef\u80fd\u4f1a\u963b\u6b62\u6d4f\u89c8\u5668\u63a5\u53d7cookie.\n\n\n\n\nNote\n\n\n\u4f60\u53ef\u4ee5\u5220\u9664\u589e\u52a0\u7684\u4ee3\u7801 - \u6211\u4eec\u53ea\u662f\u62ff\u5b83\u7528\u6765\u9a8c\u8bc1\u4ee5\u4e0bcookies\n\n\n\n\n11.5 \u5ba2\u6237\u7aefCookies:\u4e00\u4e2a\u7f51\u7ad9\u6280\u672f\u7684\u4f8b\u5b50\n\n\n\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u77e5\u9053cookies\u662f\u5982\u4f55\u5de5\u4f5c\u7684,\u8ba9\u6211\u4eec\u5b9e\u73b0\u4e00\u4e2a\u7b80\u5355\u7684\u7f51\u7ad9\u8bbf\u95ee\u8ba1\u6570.\u9996\u5148\u6211\u4eec\u9700\u8981\u521b\u5efa\u4e24\u4e2acookies:\u4e00\u4e2a\u7528\u6765\u8ffd\u8e2a\u7528\u6237\u8bbf\u95eeRango\u7f51\u7ad9\u6b21\u6570,\u53e6\u4e00\u4e2a\u7528\u6765\u8ffd\u8e2a\u4e0a\u4e00\u6b21\u767b\u5f55\u7684\u65f6\u95f4.\u4fdd\u6301\u8ffd\u8e2a\u7528\u6237\u4e0a\u4e00\u6b21\u7684\u8bbf\u95ee\u65f6\u95f4\u548c\u65e5\u671f\u5c06\u5141\u8bb8\u6211\u4eec\u6bcf\u5929\u53ea\u80fd\u589e\u957f\u4e00\u6b21\u8bbf\u95ee\u6b21\u6570.\n\n\n\u5047\u8bbe\u7528\u6237\u8bbf\u95ee\u7684Rango\u9875\u9762\u4e00\u822c\u4e3a\u9996\u9875.\u6253\u5f00\nrango/view.py\n\u5e76\u4fee\u6539\nindex()\n\u89c6\u56fe\u5982\u4e0b.\n\n\ndef index(request):\n\n    category_list = Category.objects.all()\n    page_list = Page.objects.order_by('-views')[:5]\n    context_dict = {'categories': category_list, 'pages': page_list}\n\n    # Get the number of visits to the site.\n    # We use the COOKIES.get() function to obtain the visits cookie.\n    # If the cookie exists, the value returned is casted to an integer.\n    # If the cookie doesn't exist, we default to zero and cast that.\n    visits = int(request.COOKIES.get('visits', '1'))\n\n    reset_last_visit_time = False\n    response = render(request, 'rango/index.html', context_dict)\n    # Does the cookie last_visit exist?\n    if 'last_visit' in request.COOKIES:\n        # Yes it does! Get the cookie's value.\n        last_visit = request.COOKIES['last_visit']\n        # Cast the value to a Python date/time object.\n        last_visit_time = datetime.strptime(last_visit[:-7], \n%Y-%m-%d %H:%M:%S\n)\n\n        # If it's been more than a day since the last visit...\n        if (datetime.now() - last_visit_time).days \n 0:\n            visits = visits + 1\n            # ...and flag that the cookie last visit needs to be updated\n            reset_last_visit_time = True\n    else:\n        # Cookie last_visit doesn't exist, so flag that it should be set.\n        reset_last_visit_time = True\n\n        context_dict['visits'] = visits\n\n        #Obtain our Response object early so we can add cookie information.\n        response = render(request, 'rango/index.html', context_dict)\n\n    if reset_last_visit_time:\n        response.set_cookie('last_visit', datetime.now())\n        response.set_cookie('visits', visits)\n\n    # Return response back to the user, updating any cookies that need changed.\n    return response\n\n\n\n\n\u8bfb\u4e0b\u6765\u8fd9\u6bb5\u4ee3\u7801\u4f60\u5c06\u4f1a\u770b\u5230\u5927\u90e8\u5206\u7684\u4ee3\u7801\u90fd\u662f\u5728\u5904\u7406\u5f53\u524d\u65e5\u671f\u548c\u65f6\u95f4.\u6240\u4ee5\u5728\u8fd9\u91cc\u4f60\u9700\u8981\u5728\nviews.py\n\u6587\u4ef6\u7684\u5934\u90e8\u52a0\u5165Python\u7684\ndatetime\n\u6a21\u5757.\n\n\nfrom datatime import datetime\n\n\n\n\n\u786e\u4fdd\u5f15\u8fdb\u4e86\ndatetime\n\u6a21\u5757\u91cc\u7684\ndatetime\n\u5bf9\u8c61.\n\n\n\u5728\u4ee3\u7801\u4e2d\u6211\u4eec\u68c0\u67e5\nlast_visit\n\u662f\u5426\u5b58\u5728.\u5982\u679c\u5b58\u5728\u6211\u4eec\u5c31\u4f7f\u7528\nrequest.COOKIES['cookie_name']\n\u8bed\u6cd5\u6765\u83b7\u53d6\u5b83\u7684\u503c,\u8fd9\u91cc\u7684\nrequest\n\u5c31\u662f\nrequest\n\u5bf9\u8c61\u7684\u540d\u5b57,\ncookie_name\n\u5c31\u662f\u4f60\u5e0c\u671b\u8ddf\u8e2a\u7684cookie\u540d.\n\u6ce8\u610f\u8fd4\u56de\u7684\u6240\u6709\u7684cookie\u503c\u90fd\u662f\u5b57\u7b26\u4e32\n;\u4e0d\u8981\u8ba4\u4e3acookie\u4fdd\u5b58\u7684\u662f\u6570\u5b57\u5c31\u4f1a\u8fd4\u56de\u6574\u578b.\u4f60\u9700\u8981\u81ea\u5df1\u628a\u5b83\u4eec\u8f6c\u5316\u6210\u6b63\u786e\u7684\u5f62\u5f0f.\u5982\u679c\u8fd9\u4e2acookie\u4e0d\u5b58\u5728,\u4f60\u9700\u8981\u4f7f\u7528\nresponse\n\u5bf9\u8c61\u7684\nset_cookie()\n\u65b9\u6cd5\u6765\u521b\u5efacookie.\u8fd9\u4e2a\u65b9\u6cd5\u5305\u542b\u4e24\u4e2a\u503c,cookie\u540d(\u5b57\u7b26\u4e32)\u548ccookie\u503c.\u4e0d\u7ba1\u4f60\u8f93\u5165\u7684\u662f\u4ec0\u4e48\u5f62\u5f0f - \u5b83\u90fd\u4f1a\u81ea\u52a8\u8f6c\u5316\u6210\u5b57\u7b26\u4e32.\n\n\n\n\n\u5982\u679c\u4f60\u73b0\u5728\u6253\u5f00Rango\u4e3b\u9875,\u68c0\u67e5\u4f60\u6d4f\u89c8\u5668\u4e2d\u7684\u5f00\u53d1\u8005\u5de5\u5177,\u4f60\u5c06\u4f1a\u770b\u5230\nvisits\n\u548c\nlast_visit\n\u4e24\u4e2acookie.\u5982\u4e0a\u56fe\u6240\u793a.\n\n\n\n\nNote\n\n\n\u4f60\u6216\u8bb8\u6ce8\u610f\u5230\u4e86\u5237\u65b0\u6d4f\u89c8\u5668\u5e76\u4e0d\u80fd\u4f7f\nvisits\n\u589e\u957f.\u4e3a\u4ec0\u4e48?\u56e0\u4e3a\u4e0a\u9762\u7ed9\u51fa\u7684\u793a\u4f8b\u4ee3\u7801\u53ea\u5728\u7528\u6237\u4e0a\u6b21\u8bbf\u95ee\u8ddd\u4eca\u662f1\u5929\u65f6\u624d\u589e\u52a0.\u5f53\u6211\u4eec\u6d4b\u8bd5\u7684\u65f6\u5019\u8fd9\u4e2a\u503c\u6709\u70b9\u4e0d\u5408\u7406 - \u6240\u4ee5\u4e3a\u4ec0\u4e48\u6211\u4eec\u4e0d\u7f29\u77ed\u4ee5\u4e0b\u8fd9\u4e2a\u65f6\u95f4\u5462?\u4fee\u6539\nindex()\n\u89c6\u56fe,\u627e\u5230\u4e0b\u9762\u8fd9\u4e00\u884c.\n\n\nif (datetime.now() - last_visit_time).days \n 0:\n\n\n\u6211\u4eec\u53ef\u4ee5\u628a\u5b83\u4eec\u66f4\u6539\u4e3a\u79d2\u6570\u7ea7\u522b\u7684\u6bd4\u8f83.\u5728\u4e0b\u9762\u7684\u4f8b\u5b50,\u6211\u4eec\u68c0\u67e5\u662f\u5426\u57285\u79d2\u4e4b\u5916\u6709\u767b\u5f55.\n\n\nif (datetime.now() - last_visit_time).seconds \n 5:\n\n\n\u8fd9\u5c31\u610f\u5473\u7740\u4f60\u53ea\u9700\u8981\u7b49\u5f855\u79d2\u7684\u65f6\u95f4\u5c31\u80fd\u770b\u5230\nvisits\ncookie\u7684\u589e\u957f,\u800c\u4e0d\u9700\u8981\u4e00\u6574\u5929.\u5f53\u4f60\u8fd9\u4e48\u73a9\u5b8c\u4ee5\u540e,\u5c31\u53ef\u4ee5\u628a\u5b83\u6539\u56de\u6765\u4e86.\n\n\n\u5728\u4e0d\u540c\u7684\u65f6\u95f4\u91cc\u4f7f\u7528\n-\n\u64cd\u4f5c\u7b26\u53ef\u4ee5\u6c42\u51fa\u5b83\u4eec\u7684\u5dee\u503c\u662fPython\u63d0\u4f9b\u7ed9\u6211\u4eec\u7684\u975e\u5e38\u4f7f\u7528\u7684\u529f\u80fd.\u5f53\u65f6\u95f4\u76f8\u51cf,\u5c31\u4f1a\u8fd4\u56de\u4e00\u4e2a\ntimedelta\n\u5bf9\u8c61,\u5c31\u50cf\u4e0a\u9762\u4ee3\u7801\u5b83\u63d0\u4f9b\u7ed9\u6211\u4eec\ndays\n\u548c\nseconds\n\u5c5e\u6027.\u4f60\u53ef\u4ee5\u67e5\u770b \nofficial Python documentation\n\u6765\u83b7\u53d6\u66f4\u591a\u5173\u4e8e\u5bf9\u8c61\u7c7b\u578b\u548c\u5176\u4ed6\u5c5e\u6027\u7684\u4fe1\u606f.\n\n\n\n\n\u6211\u4eec\u53ef\u4ee5\u4fee\u6539\nindex.html\n\u5728\u91cc\u9762\u52a0\u5165\np\n visits: {{ visits }}\n/p\n\u6765\u73b0\u5b9e\u8bbf\u95ee\u6b21\u6570.\n\n\n11.6 Session\u6570\u636e\n\n\n\u5728\u524d\u4e00\u4e2a\u4f8b\u5b50\u4e2d\u6211\u4eec\u4f7f\u7528\u4e86\u5ba2\u6237\u7aef\u7684cookies.\u7136\u800c,\u53e6\u4e00\u79cd\u66f4\u5b89\u5168\u7684\u65b9\u6cd5\u662f\u628asession\u4fe1\u606f\u5b58\u50a8\u5728\u670d\u52a1\u5668\u7aef.\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5b58\u50a8\u5728\u5ba2\u6237\u7aef\u7684session ID cookie\u4f5c\u4e3a\u89e3\u9501\u6570\u636e\u7684\u94a5\u5319.\n\n\n\u4f7f\u7528\u57fa\u4e8ecookie\u7684session\u4f60\u9700\u8981\u5b8c\u6210\u4ee5\u4e0b\u51e0\u6b65.\n\n\n\n\n\u786e\u4fdd\nsettings.py\n\u6587\u4ef6\u7684\nMIDDLEWARE_CLASSES\n\u5305\u542b\ndjango.contrib.sessions.middleware.SessionMiddleware\n.\n\n\n\u914d\u7f6esession\u540e\u53f0.\u786e\u5b9a\ndjango.contrib.sessions\n\u5728\u4f60\nsettings.py\n\u6587\u4ef6\u7684\nINSTALLED_APPS\n\u91cc.\u5982\u679c\u6ca1\u6709\u5219\u6dfb\u52a0\u5e76\u4e14\u8fd0\u884c\u6570\u636e\u5e93\u8fc1\u79fb\u547d\u4ee4\npython manage.py migrate\n.\n\n\n\u5047\u8bbe\u4f7f\u7528\u6570\u636e\u5e93\u4f5c\u4e3a\u540e\u53f0,\u4f46\u662f\u4f60\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u6210\u5176\u4ed6(\u6bd4\u5982cache).\u53c2\u89c1 \nofficial Django Documentation on Sessions for other backend configurations\n.\n\n\n\n\n\u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u8c03\u7528\nrequest.session.get()\n\u65b9\u6cd5\u8bbf\u95ee\u670d\u52a1\u5668\u7aef\u7684cookies,\u4f7f\u7528\nrequest.session[]\n\u5b58\u50a8\u5b83\u4eec.\u6ce8\u610fsession ID cookie\u4ecd\u7136\u7528\u6765\u6807\u8bb0\u5ba2\u6237\u7aef\u673a\u5668(\u4e25\u683c\u7684\u8bf4\u662f\u5b58\u5728\u4e00\u4e2a\u6d4f\u89c8\u5668\u7aef\u7684cookie),\u4f46\u662f\u6240\u6709\u7684\u6570\u636e\u90fd\u5b58\u50a8\u5728\u670d\u52a1\u5668\u7aef.\u4e0b\u9762\u6211\u4eec\u4fee\u6539\nindex()\n\u51fd\u6570\u4f7f\u7528\u57fa\u4e8ecookie\u7684session:\n\n\ndef index(request):\n\n    category_list = Category.objects.order_by('-likes')[:5]\n    page_list = Page.objects.order_by('-views')[:5]\n\n    context_dict = {'categories': category_list, 'pages': page_list}\n\n    visits = request.session.get('visits')\n    if not visits:\n        visits = 1\n    reset_last_visit_time = False\n\n    last_visit = request.session.get('last_visit')\n    if last_visit:\n        last_visit_time = datetime.strptime(last_visit[:-7], \n%Y-%m-%d %H:%M:%S\n)\n\n        if (datetime.now() - last_visit_time).seconds \n 0:\n            # ...reassign the value of the cookie to +1 of what it was before...\n            visits = visits + 1\n            # ...and update the last visit cookie, too.\n            reset_last_visit_time = True\n    else:\n        # Cookie last_visit doesn't exist, so create it to the current date/time.\n        reset_last_visit_time = True\n\n    if reset_last_visit_time:\n        request.session['last_visit'] = str(datetime.now())\n        request.session['visits'] = visits\n    context_dict['visits'] = visits\n\n\n    response = render(request,'rango/index.html', context_dict)\n\n    return response\n\n\n\n\n\n\nWarning\n\n\n\u5f3a\u70c8\u5efa\u8bae\u4f60\u5728\u542f\u7528\u57fa\u4e8esession\u6570\u636e\u4e4b\u524d\u5220\u9664\u6240\u6709\u5ba2\u6237\u7aef\u7684cookies.\u4f60\u53ef\u4ee5\u5728\u4f60\u7684\u6d4f\u89c8\u5668\u91cc\u5bf9\u5b83\u4eec\u8fdb\u884c\u5220\u9664,\u6216\u8005\u662f\u76f4\u63a5\u6e05\u7a7a\u6d4f\u89c8\u5668\u7684cache - \u786e\u4fddcookies\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u5220\u9664.\n\n\n\n\n\n\nNote\n\n\n\u4f7f\u7528session\u5b58\u50a8\u6570\u636e\u7684\u53e6\u4e00\u4e2a\u4f18\u70b9\u662f\u5b83\u53ef\u4ee5\u628a\u6570\u636e\u4ece\u5b57\u7b26\u4e32\u8f6c\u5316\u6210\u54cd\u5e94\u7684\u7c7b\u578b.\u7136\u800c\u53ea\u6709\u50cf\nint\n,\nfloat\n,\nlong\n,\ncomplex\n\u548c\nboolean\n\u8fd9\u6837\u7684\n\u5185\u7f6e\u7c7b\u578b\n\u624d\u6709\u7528.\u5982\u679c\u4f60\u5e0c\u671b\u5b58\u50a8\u5b57\u5178\u6216\u662f\u5176\u4ed6\u590d\u6742\u7684\u7c7b\u578b\u5c31\u4e0d\u53ef\u4ee5\u5566.\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4f60\u9700\u8981 \npickling your objects\n.\n\n\n\n\n11.7 Browser-Length and Persistent Sessions\n\n\n\u5f53\u4f60\u4f7f\u7528cookies\u65f6\u4f60\u53ef\u4ee5\u4f7f\u7528Django\u7684session\u6846\u67b6\u6765\u8bbe\u7f6ebrowser-lenght sessions\u6216\u8005persistent sessions.\u8fd9\u4e24\u4e2a\u540d\u5b57\u7684\u89e3\u91ca\u5982\u4e0b:\n\n\n\n\nbrowser-length sessions\u662f\u5f53\u6d4f\u89c8\u5668\u5173\u95ed\u65f6\u622a\u81f3.\n\n\npersistent sessions\u53ef\u4ee5\u968f\u4f60\u7684\u9009\u62e9\u800c\u7ed3\u675f.\u5b83\u53ef\u4ee5\u662f\u4e00\u4e2a\u5c0f\u65f6\u751a\u81f3\u662f\u4e00\u4e2a\u6708.\n\n\n\n\n\u9ed8\u8ba4\u7684browser-length sessions\u662f\u88ab\u5173\u95ed\u7684.\u4f60\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6eDjango\u7684\nsettings.py\n\u6765\u5f00\u542f\u5b83(\u589e\u52a0\nSESSION_EXPIRE_AT_BROWSER_CLOSE\n\u5e76\u8bbe\u7f6e\u4e3a\ntrue\n).\n\n\npersistent session\u9ed8\u8ba4\u662f\u5f00\u542f\u7684,\u53ef\u4ee5\u8bbe\u7f6e\nSESSION_EXPIRE_AT_BROWSER_CLOSE\n\u4e3a\nFalse\n\u8fdb\u884c\u5f00\u542f.persistent sessions\u6709\u4e00\u4e2a\u989d\u5916\u7684\u8bbe\u7f6e\nSESSION_COOKIE_AGE\n,\u5b83\u53ef\u4ee5\u5141\u8bb8\u4f60\u8bbe\u7f6ecookie\u7684\u5b58\u6d3b\u65f6\u95f4.\u8fd9\u4e2a\u503c\u662f\u4e00\u4e2a\u6574\u578b,\u4ee3\u8868\u7740cookie\u80fd\u5b58\u6d3b\u7684\u79d2\u6570.\u4f8b\u5982\u4fee\u6539\u4e3a\n1209600\n\u610f\u5473\u7740\u7f51\u9875\u7684cookies\u5c06\u4f1a\u5728\u4e24\u5468\u540e\u8fc7\u671f.\n\n\n\u67e5\u770b \nofficial Django documentation on cookies\n \u83b7\u53d6\u66f4\u591a\u53ef\u7528\u7684\u8bbe\u7f6e.\u4e5f\u53ef\u4ee5\u67e5\u770b \nEli Bendersky\u2019s blog\n\u8fd9\u7bc7\u8bb2\u8ff0Django\u548ccookie\u7684\u6587\u7ae0.\n\n\n11.8 \u6e05\u9664Sessions\u6570\u636e\u5e93\n\n\nSession cookies\u662f\u4e0d\u65ad\u7d2f\u79ef\u7684.\u6240\u4ee5\u5982\u679c\u4f60\u662f\u4f7f\u7528\u6570\u636e\u5e93\u4f5c\u4e3a\u540e\u53f0\u4f60\u9700\u8981\u5b9a\u671f\u7684\u6e05\u9664\u5b58\u50a8\u7684cookies.\u53ef\u4ee5\u7528\npython manage.py clearsessions\n\u547d\u4ee4\u6765\u5b9e\u73b0.Django\u6587\u6863\u91cc\u5efa\u8bae\u6bcf\u5929\u8fd0\u884c\u4e00\u6b21.\u53c2\u89c1https://docs.djangoproject.com/en/1.7/topics/http/sessions/#clearing-the-session-store\n\n\n11.9 \u57fa\u672c\u7684\u6ce8\u610f\u4e8b\u9879\u548c\u6d41\u7a0b\n\n\n\u5728Django\u5e94\u7528\u4e2d\u4f7f\u7528cookies,\u6709\u4e00\u4e9b\u4e8b\u60c5\u4f60\u9700\u8981\u6ce8\u610f:\n\n\n\n\n\u9996\u5148,\u8003\u8651\u4f60\u7684web\u5e94\u7528\u9700\u8981\u4ec0\u4e48\u7c7b\u578b\u7684cookies.\u4f60\u4fdd\u5b58\u7684\u4fe1\u606f\u9700\u8981\u6301\u7eed\u5b58\u50a8\u8fd8\u662f\u5728\u4f1a\u8bdd\u7ed3\u675f\u540e\u5c31\u622a\u81f3?\n\n\n\u5bf9\u4f60\u4f7f\u7528cookies\u50a8\u5b58\u7684\u4fe1\u606f\u8981\u683c\u5916\u5c0f\u5fc3.\u5b58\u50a8\u5728cookies\u91cc\u7684\u4fe1\u606f\u540c\u6837\u4f1a\u5448\u73b0\u5728\u7528\u6237\u7684\u7535\u8111\u4e0a.\u8fd9\u6837\u505a\u7684\u98ce\u9669\u975e\u5e38\u7684\u5927:\u4f60\u4e0d\u4f1a\u77e5\u9053\u7528\u6237\u7684\u7535\u8111\u662f\u591a\u4e48\u7684\u5371\u9669.\u5982\u679c\u4fdd\u5b58\u4e00\u4e9b\u654f\u611f\u7684\u4fe1\u606f\u8fd8\u662f\u5b58\u5728\u670d\u52a1\u5668\u7aef\u5427.\n\n\n\u53e6\u4e00\u4e2a\u81f4\u547d\u7684\u662f\u7528\u6237\u53ef\u4ee5\u8bbe\u7f6e\u4ed6\u7684\u6d4f\u89c8\u5668\u7ea7\u522b\u975e\u5e38\u7684\u9ad8,\u8fd9\u5c06\u4f1a\u963b\u6b62\u4f60\u7684cookies.\u4e00\u65e6\u4f60\u7684cookies\u88ab\u963b\u62e6,\u4f60\u7684\u7f51\u7ad9\u529f\u80fd\u5c31\u4f1a\u5f02\u5e38.\u4f60\u5fc5\u987b\u60f3\u5230\u8fd9\u4e00\u70b9 - \u4f60\u65e0\u6cd5\u7a7a\u503c\u7528\u6237\u6d4f\u89c8\u5668.\n\n\n\n\n\u5982\u679c\u4f60\u7684\u60c5\u51b5\u9002\u5408\u5ba2\u6237\u7aefcookies,\u4f60\u53ef\u4ee5\u6309\u7167\u5982\u4e0b\u6b65\u9aa4\u8fdb\u884c:\n\n\n\n\n\u9996\u5148\u68c0\u67e5\u4f60\u5e0c\u671b\u7684cooki\u662f\u5426\u5b58\u5728.\u53ef\u4ee5\u7528\u68c0\u67e5\nrequest\n\u53c2\u6570\u5b9e\u73b0.\nrequest.COOKIES.has_key('\ncookie_name\n')\n\u51fd\u6570\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\u6765\u544a\u8bc9\u6211\u4eec\u662f\u5426\u6709\u4e00\u4e2a\u53eb\ncookie_name\n\u7684cookie\u5b58\u5728.\n\n\n\u5982\u679c\u8fd9\u4e2acookie\u5b58\u5728,\u4f60\u53ef\u4ee5\u901a\u8fc7\nrequest.COOKIES[]\n\u6765\u83b7\u53d6.\nCOOKIES\n\u5c5e\u6027\u662f\u4e00\u4e2a\u5b57\u5178,\u4f60\u53ef\u4ee5\u628a\u4f60\u5e0c\u671b\u83b7\u53d6\u7684cookie\u540d\u5199\u5165\u65b9\u62ec\u53f7\u4e2d.\u8bb0\u4f4f\u6240\u6709\u7684cookies\u90fd\u8fd4\u56de\u4e3a\u5b57\u7b26\u4e32.\u56e0\u6b64\u4f60\u5fc5\u987b\u628a\u5b83\u4eec\u8f6c\u5316\u6210\u6b63\u786e\u7684\u7c7b\u578b.\n\n\n\u5982\u679ccookie\u4e0d\u5b58\u5728\u6216\u8005\u4f60\u5e0c\u671b\u66f4\u65b0cookie.\u4f60\u53ef\u4ee5\u4f7f\u7528\nresponse.set_cookie('\ncookie_name\n', value)\n\u51fd\u6570\u6765\u5b9e\u73b0,\u8fd9\u91cc\u7684\u4e24\u4e2a\u53c2\u6570\u5206\u522b\u662fcookie\u7684\u540d\u5b57\u548c\u4ed6\u4eec\u7684\u503c.\n\n\n\n\n\u5982\u679c\u4f60\u9700\u8981\u66f4\u5b89\u5168\u7684cookies,\u90a3\u4e48\u5c31\u9700\u8981\u4f7f\u7528\u57fa\u4e8ecookies\u7684session:\n\n\n\n\n\u786e\u4fdd\nsettings.py\n\u4e2d\u7684\nMIDDLEWARE_CLASSES\n\u5305\u542b\ndjango.contrib.sessions.middleware.SessionMiddleware\n.\n\n\n\u8bbe\u7f6e\u4f60\u7684session\u540e\u53f0\nSESSION_ENGINE\n.\u67e5\u770b \nofficial Django Documentation on Sessions\n \u83b7\u53d6\u4e0d\u540c\u540e\u53f0\u7684\u4e0d\u540c\u8bbe\u7f6e.\n\n\n\u901a\u8fc7\nrequests.sessions.get()\n\u6765\u83b7\u53d6\u5b58\u5728\u7684cookie.\n\n\n\u901a\u8fc7\nrequests.session['\ncookie_name\n']\n\u66f4\u6539\u6216\u8bbe\u7f6ecookie.\n\n\n\n\n11.10 \u7ec3\u4e60\n\n\n\u73b0\u5728\u4f60\u5df2\u7ecf\u5b8c\u6210\u4e86\u8fd9\u7ae0,\u4e0b\u9762\u6765\u505a\u4e00\u4e9b\u7b80\u5355\u7684\u7ec3\u4e60.\n\n\n\n\n\u68c0\u67e5\u670d\u52a1\u5668\u7aefcookies.\u6e05\u9664\u6d4f\u89c8\u5668cache\u548ccookies,\u7136\u540e\u786e\u5b9a\nlast_visit\n\u548c\nvisits\n\u90fd\u88ab\u5220\u9664.\u6ce8\u610f\u4f60\u5c06\u4ecd\u7136\u6069\u53ef\u4ee5\u770b\u5230\nsessionid\ncookie.Django\u4f7f\u7528\u8fd9\u4e2acookie\u53ef\u4ee5\u53bb\u67e5\u8be2\u6570\u636e\u5e93,\u8fd9\u4e2a\u6570\u636e\u5e93\u50a8\u5b58\u6240\u6709\u7684\u5173\u4e8e\u670d\u52a1\u7aef\u7684session.\n\n\n\u66f4\u6539About\u9875\u9762\u89c6\u56fe\u548c\u6a21\u677f,\u73b0\u5b9e\u7528\u6237\u8bbf\u95ee\u7f51\u7ad9\u7684\u6b21\u6570.\n\n\n\n\n11.10.1 \u63d0\u793a\n\n\n\u4e3a\u4e86\u5e2e\u52a9\u4f60\u5b8c\u6210\u4e0a\u9762\u7684\u7ec3\u4e60,\u4e0b\u9762\u7684\u63d0\u793a\u53ef\u80fd\u5e2e\u52a9\u4f60.\n\n\n\u4f60\u5fc5\u987b\u628acookie\u7684\u503c\u4f20\u9012\u7ed9\u6a21\u677f\u7684\u4e0a\u4e0b\u6587,\u4f7f\u5b83\u4f20\u9012\u7ed9\u9875\u9762,\u4ee3\u7801\u5982\u4e0b:\n\n\n# If the visits session varible exists, take it and use it.\n# If it doesn't, we haven't visited the site so set the count to zero.\nif request.session.get('visits'):\n    count = request.session.get('visits')\nelse:\n    count = 0\n\n# remember to include the visit data\nreturn render(request, 'rango/about.html', {'visits': count})\n\n\n\n\n12 \u4f7f\u7528DRR\u8fdb\u884c\u9a8c\u8bc1\n\n\n\u5728Django\u91cc\u6709\u8bb8\u591a\u7684\u5e94\u7528\u63d0\u4f9b\u767b\u5f55,\u6ce8\u518c\u548c\u9a8c\u8bc1\u673a\u5236.\u8bb8\u591a\u7684\u5e94\u7528\u90fd\u63d0\u4f9b\u8fd9\u79cd\u529f\u80fd\u800c\u4e14\u51e0\u4e4e\u4e0d\u91cd\u5199url,\u89c6\u56fe\u548c\u6a21\u677f.\u5728\u8fd9\u7ae0,\u6211\u4eec\u9700\u8981\u4f7f\u7528\ndjango-registration-redux\n\u5305\u6765\u63d0\u4f9b\u8fd9\u4e9b\u529f\u80fd.\u8fd9\u5c31\u610f\u5473\u7740\u6211\u4eec\u9700\u8981\u91cd\u6784\u6211\u4eec\u7684\u4ee3\u7801 - \u7136\u800c\u5b83\u5c06\u4f1a\u6559\u7ed9\u6211\u4eec\u5982\u4f55\u4f7f\u7528\u5916\u90e8\u5e94\u7528\u4ee5\u53ca\u5982\u4f55\u8f7b\u677e\u7684\u5728\u6211\u4eecDjango\u9879\u76ee\u91cc\u52a0\u5165\u5e94\u7528.\u5b83\u4e5f\u4f1a\u4f7f\u6211\u4eec\u7684\u5e94\u7528\u66f4\u52a0\u7b80\u6d01.\n\n\n\n\nNote\n\n\n\u8fd9\u7ae0\u5e76\u4e0d\u662f\u5fc5\u8981\u7684,\u4f60\u53ef\u4ee5\u8df3\u8fc7,\u4f46\u662f\u5728\u968f\u540e\u7684\u7ae0\u8282\u91cc\u6211\u4eec\u4f1a\u5047\u8bbe\u4f60\u5df2\u7ecf\u66f4\u65b0\u4e86\u9a8c\u8bc1\u673a\u5236.\n\n\n\n\n12.1 \u8bbe\u7f6eDRR\n\n\n\u5f00\u59cb\u6211\u4eec\u5148\u5b89\u88c5\ndjango-registration-redux\n:\n\n\n$ pip install django-registration-redux\n\n\n\n\n\u5b89\u88c5\u597d\u540e,\u6211\u4eec\u9700\u8981\u544a\u8bc9Django\u6211\u4eec\u4f7f\u7528\u8fd9\u4e2a\u5e94\u7528.\u6253\u5f00\nsettings.py\n\u6587\u4ef6,\u4fee\u6539\nINSTALLED_APPS\n\u5143\u7ec4:\n\n\nINSTALLED_APPS = (\n'django.contrib.admin',\n'django.contrib.auth',\n'django.contrib.contenttypes',\n'django.contrib.sessions',\n'django.contrib.messages',\n'django.contrib.staticfiles',\n'rango',\n'registration', # add in the registration package\n)\n\n\n\n\n\u540c\u65f6\u5728\nsettings.py\n\u6587\u4ef6\u4f60\u53ef\u4ee5\u52a0\u5165:\n\n\nREGISTRATION_OPEN = True                # If True, users can register\nACCOUNT_ACTIVATION_DAYS = 7     # One-week activation window; you may, of course, use a different value.\nREGISTRATION_AUTO_LOGIN = True  # If True, the user will be automatically logged in.\nLOGIN_REDIRECT_URL = '/rango/'  # The page you want users to arrive at after they successful log in\nLOGIN_URL = '/accounts/login/'  # The page users are directed to if they are not logged in,\n                                                                # and are trying to access pages requiring authentication\n\n\n\n\n\u4e0a\u9762\u8fd9\u4e9b\u8bbe\u7f6e\u90fd\u5e26\u4e86\u6ce8\u91ca.\u73b0\u5728\u5728\ntango_with_django_project/urls.py\n\u91cc\u4fee\u6539\nurlpatterns\n\u4ee5\u589e\u52a0\u6ce8\u518c\u5305\u7684\u5f15\u7528:\n\n\nurlpatterns = patterns('',\n\nurl(r'^admin/', include(admin.site.urls)),\nurl(r'^rango/', include('rango.urls')),\n(r'^accounts/', include('registration.backends.simple.urls')),\n)\n\n\n\n\ndjango-registration-redux\n\u5305\u63d0\u4f9b\u4e86\u8bb8\u591a\u4e0d\u540c\u7684\u6ce8\u518c\u540e\u53f0\u4f9b\u4f60\u9009\u62e9.\u5728\nregistration.backend.simple.urls\n,\u5b83\u63d0\u4f9b\u4e86:\n\n\n\n\nregistration -\n /accounts/register/\n\n\nregistration complete -\n /accounts/register/complete\n\n\nlogin -\n /accounts/login/\n\n\nlogout -\n /accounts/logout/\n\n\npassword change -\n /password/change/\n\n\npassword reset -\n /password/reset/\n\n\n\n\n\u5728\nregistration.backends.default.urls\n\u91cc\u4e5f\u63d0\u4f9b\u4e86\u4e24\u6b65\u6fc0\u6d3b\u8d26\u6237\u7684\u529f\u80fd:\n\n\n\n\n\u5168\u9762\u6fc0\u6d3b(\u4f7f\u7528\u4e24\u6b65\u6ce8\u518c) -\n \nctivate/complete/\n\n\n\u6fc0\u6d3b(\u5982\u679c\u8d26\u6237\u6fc0\u6d3b\u5931\u8d25) -\n \nctivate/\nactivation_key\n/\n\n\n\u6fc0\u6d3b\u90ae\u4ef6(\u901a\u77e5\u7528\u6237\u6fc0\u6d3b\u90ae\u4ef6\u5df2\u7ecf\u53d1\u9001)\n\n\n\u6fc0\u6d3b\u90ae\u4ef6\u4e3b\u4f53(\u6587\u672c\u6587\u4ef6,\u5305\u542b\u6fc0\u6d3b\u90ae\u4ef6\u7684\u6587\u672c)\n\n\n\u6fc0\u6d3b\u90ae\u4ef6\u6807\u9898(\u6587\u672c\u6587\u4ef6,\u5305\u542b\u6fc0\u6d3b\u6587\u4ef6\u7684\u6807\u9898)\n\n\n\n\n\n\n\n\n\u6ce8\u610fDjango Registration Redux\u53ea\u63d0\u4f9b\u529f\u80fd,\u6ca1\u6709\u63d0\u4f9b\u6a21\u677f.\u6240\u4ee5\u6211\u4eec\u9700\u8981\u81ea\u5df1\u5199\u6a21\u677f\u6765\u8fde\u63a5\u6bcf\u4e2a\u89c6\u56fe.\n\n\n12.3 \u8bbe\u7f6e\u6a21\u677f\n\n\n\u5728\u8fd9\u7bc7  https://django-registration-redux.readthedocs.org/en/latest/quickstart.html \u5feb\u901f\u5165\u95e8\u91cc\u53ea\u63d0\u4f9b\u4e86\u4e00\u822c\u7684\u6a21\u677f\u9700\u6c42,\u6ca1\u6709\u6e05\u695a\u7684\u8bf4\u660e\u6bcf\u4e2a\u6a21\u677f\u90fd\u5e94\u5f53\u5305\u542b\u4ec0\u4e48.\n\n\n\u5728\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u4e0b\u8f7dAnders Hofstee\u7684Github\u9879\u76ee,https://github.com/macdhuibh/django-registration-templates ,\u4f60\u53ef\u4ee5\u5728\u8fd9\u91cc\u627e\u5230\u8be6\u7ec6\u7684\u6a21\u677f.\u6211\u4eec\u5c06\u4f7f\u7528\u8fd9\u4e2a\u6a21\u677f\u4f5c\u4e3a\u6211\u4eec\u7684\u6307\u5bfc.\n\n\n\u9996\u5148,\u6211\u4eec\u9700\u8981\u5728\ntemplates\n\u76ee\u5f55\u65b0\u5efa\u4e00\u4e2a\nregistration\n\u76ee\u5f55.\u8fd9\u91cc\u5c06\u5b58\u50a8\u6240\u6709\u5173\u4e8e Django Registration Redux\u5e94\u7528\u7684\u9875\u9762.\n\n\n12.3.1 \u767b\u5f55\u6a21\u677f\n\n\n\u5728\ntemplates/registration\n\u521b\u5efa\nlogin.htnl\n\u6587\u4ef6,\u4ee3\u7801\u5982\u4e0b:\n\n\n{% extends \nrango/base.html\n %}\n\n{% block body_block %}\n\nh1\nLogin\n/h1\n\n        \nform method=\npost\n action=\n.\n\n                {% csrf_token %}\n                {{ form.as_p }}\n\n                \ninput type=\nsubmit\n value=\nLog in\n /\n\n                \ninput type=\nhidden\n name=\nnext\n value=\n{{ next }}\n /\n\n                \n/form\n\n\n        \np\nNot  a member? \na href=\n{% url 'registration_register' %}\nRegister\n/a\n!\n/p\n\n{% endblock %}\n\n\n\n\n\u6ce8\u610f\u6bcf\u4e2aurl\u5f15\u7528\u90fd\u8981\u7528\nurl\n\u6a21\u677f\u6807\u7b7e\u6765\u5f15\u7528.\u5982\u679c\u4f60\u8bbf\u95ee  http://127.0.0.1:8000/accounts/ \u4f60\u5c31\u4f1a\u770b\u5230\u7ed1\u5b9a\u7684url\u5217\u8868,\u6bcf\u4e2a\u5217\u8868\u540e\u8fb9\u90fd\u6709\u5b83\u7684\u540d\u5b57.\n\n\n12.3.2 \u6ce8\u518c\u6a21\u677f\n\n\n\u5728\ntemplates/registration\n\u521b\u5efa\nregistration_form.html\n\u6587\u4ef6:\n\n\n{% extends \nrango/base.html\n %}\n\n\n{% block body_block %}\n\nh1\nRegister Here\n/h1\n\n        \nform method=\npost\n action=\n.\n\n                {% csrf_token %}\n                {{ form.as_p }}\n\n                \ninput type=\nsubmit\n value=\nSubmit\n /\n\n        \n/form\n\n{% endblock %}\n\n\n\n\n12.3.3 \u6ce8\u518c\u5b8c\u6210\u6a21\u677f\n\n\n\u5728\ntemplates/registration\n\u521b\u5efa\nregistration_complete.html\n\u6587\u4ef6:\n\n\n{% extends \nrango/base.html\n %}\n\n\n{% block body_block %}\n\nh1\nRegistration Complete\n/h1\n\n        \np\nYou are now registered\n/p\n\n{% endblock %}\n\n\n\n\n12.3.4 \u6ce8\u9500\u6a21\u677f\n\n\n\u5728\ntemplates/registration\n\u76ee\u5f55\u521b\u5efa\nlogout.html\n\u6587\u4ef6:\n\n\n{% extends \nrango/base.html\n %}\n\n\n{% block body_block %}\n\nh1\nLogged Out\n/h1\n\n        \np\nYou are now logged out.\n/p\n\n{% endblock %}\n\n\n\n\n12.3.5 \u5c1d\u8bd5\u6ce8\u518c\n\n\n\u8fd0\u884cDjango\u670d\u52a1\u5668,\u8bbf\u95ee:  http://127.0.0.1:8000/accounts/register/\n\n\n\u6ce8\u610f\u5230\u6ce8\u518c\u8868\u5355\u5305\u542b\u4e24\u4e2a\u5bc6\u7801\u5b57\u6bb5 - \u5b83\u53ef\u4ee5\u8fdb\u884c\u68c0\u8f66.\u5c1d\u8bd5\u8f93\u5165\u4e0d\u540c\u7684\u5bc6\u7801.\n\n\n\u5b83\u80fd\u591f\u6b63\u5e38\u7684\u8fd0\u884c,\u4f46\u5e76\u4e0d\u662f\u6240\u6709\u7684\u4e1c\u897f\u90fd\u505a\u597d\u4e86,\u6211\u4eec\u8fd8\u9700\u8981\u4e00\u4e9b\u903b\u8f91\u4ee3\u7801.\n\n\n12.3.6 \u91cd\u6784\u9879\u76ee\n\n\n\u73b0\u5728\u9700\u8981\u4fee\u6539\nbashe.html\n\u6765\u4f7f\u7528\u5fc3\u5f97\u6ce8\u518curl/\u89c6\u56fe:\n\n\n\n\n\u4fee\u6539\u6ce8\u518curl\u4e3a\na href=\"{% url 'registration_register' %}\"\n\n\n\u767b\u5f55\u4e3a\na href=\"{% url 'auth_login' %}\"\n\n\n\u6ce8\u9500\u4e3a\na href=\"{% url 'auth_logout' %}?next=/rango/\"\n\n\n\u4fee\u6539\nsettings.py\n\u4e2d\u7684\nLOGIN_URL\n\u4e3a\n/accounts/login/\n.\n\n\n\n\n\u6ce8\u610f\u5230\u6ce8\u9500\u9875\u9762\u6211\u4eec\u5305\u542b\u4e86\n?next=/rango/\n.\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u5f53\u6211\u4eec\u6ce8\u9500\u65f6\u4f1a\u91cd\u5b9a\u5411\u5230rango\u4e3b\u9875.\u5982\u679c\u6211\u4eec\u4e0d\u52a0\u5165\u5b83,\u6211\u4eec\u5c06\u4f1a\u91cd\u5b9a\u5411\u5230\u6ce8\u9500\u9875\u9762(\u4f46\u662f\u8fd9\u6837\u505a\u4e0d\u592a\u53cb\u597d).\n\n\n\u4e0b\u9762\u5c31\u662f\u89e3\u7ed1\nrango\n\u5e94\u7528\u7684\nregister\n,\nlogin\n,\nlogout\n\u7684\u529f\u80fd,\u4f8b\u5982\u5220\u9664urls,\u89c6\u56fe\u548c\u6a21\u677f(\u6216\u8005\u628a\u5b83\u4eec\u6ce8\u91ca\u6389)\n\n\n12.3.7 \u4fee\u6539\u6ce8\u518c\u6d41\u7a0b\n\n\n\u8fd9\u65f6\u5019\u5982\u679c\u7528\u6237\u8fdb\u884c\u6ce8\u518c,\u5b8c\u6210\u540e\u5b83\u4f1a\u91cd\u5b9a\u5411\u5230\u6ce8\u518c\u5b8c\u6210\u9875\u9762.\u8fd9\u6709\u4e9b\u7b28\u91cd,\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u91cd\u5b9a\u5411\u5230\u4e3b\u9875.\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u91cd\u5199\nregistration.backends.simple.views\n\u7684\nRegistrationView\n\u6765\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd.\u597d\u4e86,\u73b0\u5728\u5728\ntango_with_django_project/urls.py\n\u6587\u4ef6\u91cc\u5f15\u5165\nRegistrationView\n,\u589e\u52a0\u4e00\u4e2a\u65b0\u7684\u6ce8\u518c\u7c7b,\u7136\u540e\u66f4\u65b0\nurlpatterns\n\u5982\u4e0b:\n\n\nfrom registration.backends.simple.views import RegistrationView\n\n# Create a new class that redirects the user to the index page, if successful at logging\nclass MyRegistrationView(RegistrationView):\n    def get_success_url(self,request, user):\n        return '/rango/'\n\n\nurlpatterns = patterns('',\n    url(r'^admin/', include(admin.site.urls)),\n    url(r'^rango/', include('rango.urls')),\n        #Add in this url pattern to override the default pattern in accounts.\n    url(r'^accounts/register/$', MyRegistrationView.as_view(), name='registration_register'),\n    (r'^accounts/', include('registration.backends.simple.urls')),\n)\n\n\n\n\nTODO(leifos):\u589e\u52a0\u4e00\u4e2a\u5b9a\u5236\u6ce8\u518c\u8868\u5355...\n\n\n12.4 \u7ec3\u4e60\n\n\n\n\n\u4e3a\u7528\u6237\u63d0\u4f9b\u4fee\u6539\u5bc6\u7801\u7684\u529f\u80fd.\n\n\n\n\n13 Bootstrap\u548cRango\n\n\n\u5728\u672c\u7ae0,\u6211\u4eec\u5c06\u4f7f\u7528Bootstrap3.2\u5957\u4ef6\u6765\u88c5\u9970\u6211\u4eec\u7684Rango.\u6211\u4eec\u4e0d\u9700\u8981\u4e86\u89e3Bootstrap\u5de5\u4f5c\u7684\u7ec6\u8282,\u4f46\u662f\u6211\u4eec\u5047\u8bbe\u4f60\u4e86\u89e3\u4e00\u4e9bCSS.\u5982\u679c\u6ca1\u6709\u7684\u8bdd,\u53bb\u67e5\u770b\u4ee5\u4e0bCSS\u7ae0\u8282\u6216\u8005\u4e00\u4e9bBootstrap\u6559\u7a0b\u4e86\u89e3\u4e00\u4e0b\u57fa\u7840\u77e5\u8bc6.\u73b0\u5728,\u4f60\u9700\u8981\u901a\u8fc7\u8fd9\u4e00\u7ae0\u628a\u6240\u6709\u96f6\u788e\u7684\u77e5\u8bc6\u70b9\u8fde\u63a5\u8d77\u6765.\n\n\n\u5f00\u59cb\u6211\u4eec\u5148\u770b\u4e00\u4e0b\nBootstrap 3.2.0 website\n - \u5b83\u63d0\u4f9b\u4e86\u5b9e\u4f8b\u4ee3\u7801\u548c\u4e0d\u540c\u7684\u7ec4\u4ef6,\u5e76\u4e14\u63d0\u4f9b\u600e\u4e48\u52a0\u5165\u6837\u5f0f\u6807\u7b7e\u7684\u65b9\u6cd5.\u5728Bootstrap\u7f51\u7ad9\u5b83\u4eec\u63d0\u4f9b\u4e86\u8bb8\u591a\nexample layouts\n\u53ef\u4ee5\u7ed9\u6211\u4eec\u4f7f\u7528.\n\n\n\u4e3a\u4e86\u4fee\u6539Rango\u6837\u5f0f\u6211\u4eec\u9700\u8981\u5b9a\u4e49\ndashboard style\n\u6765\u6ee1\u8db3\u6211\u4eec\u7684\u8981\u6c42,\u4f8b\u5982\u5728\u9876\u90e8\u7684\u83dc\u5355\u680f,\u4fa7\u8fb9\u680f(\u7528\u6765\u5c55\u793a\u76ee\u5f55)\u548c\u4e00\u4e2a\u4e3b\u5185\u5bb9\u533a\u57df.\u5728\u4f7f\u7528Bootstrap\u7684HTML\u4e4b\u524d\u6211\u4eec\u8fd8\u9700\u8981\u505a\u4e00\u4e9b\u5de5\u4f5c.\u4e0b\u9762\u4f7f\u6211\u4eec\u9700\u8981\u505a\u7684:\n\n\n\n\n\u628a\u6240\u6709\u7684\n../../\n\u6539\u6210\nhttp://getbootstrap.com\n\n\n\u4fee\u6539\ndashboard.css\n\u4e3a\u7edd\u5bf9\u8def\u5f84\nhttp://getbootstrap.com/examples/dashboard/dashboard.css\n\n\n\u8d77\u521d\u9876\u90e8\u5bfc\u822a\u680f\u7684\u641c\u7d22\u8868\u5355\n\n\n\u628a\u6240\u6709\u6ca1\u6709\u5fc5\u8981\u7684\u5185\u5bb9\u5220\u9664\u5e76\u7528\n{% block body_block %}{% endblock %}\n\u66ff\u6362.\n\n\n\u8bbe\u7f6e\u6807\u9898\u5143\u7d20\u4e3a\ntitle\nRango - {% block title %}How to Tango with Django!{% endblock %}\n/title\n\n\n\u628a\u9879\u76ee\u7684\u540d\u5b57\u6539\u4e3a\nRango\n\n\n\u4e3a\u9876\u90e8\u5bfc\u822a\u7684\u4e3b\u9875,\u767b\u5f55,\u6ce8\u518c\u6dfb\u52a0\u94fe\u63a5.\n\n\n\u6dfb\u52a0\u4fa7\u8fb9\u5757,\u4f8b\u5982\n{% block side_block %}{% endblock %}\n\n\n\n\n13.1 \u65b0\u7684\u57fa\u7840\u6a21\u677f\n\n\n!DOCTYPE html\n\n\nhtml lang=\nen\n\n  \nhead\n\n    \nmeta charset=\nutf-8\n\n    \nmeta http-equiv=\nX-UA-Compatible\n content=\nIE=edge\n\n    \nmeta name=\nviewport\n content=\nwidth=device-width, initial-scale=1\n\n    \nmeta name=\ndescription\n content=\n\n    \nmeta name=\nauthor\n content=\n\n    \nlink rel=\nicon\n href=\nhttp://getbootstrap.com/favicon.ico\n\n\n    \ntitle\nRango - {% block title %}How to Tango with Django!{% endblock %}\n/title\n\n\n    \nlink href=\nhttp://getbootstrap.com/dist/css/bootstrap.min.css\n rel=\nstylesheet\n\n    \nlink href=\nhttp://getbootstrap.com/examples/dashboard/dashboard.css\n rel=\nstylesheet\n\n\n    \n!--[if lt IE 9]\n\n      \nscript src=\nhttps://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js\n/script\n\n      \nscript src=\nhttps://oss.maxcdn.com/respond/1.4.2/respond.min.js\n/script\n\n    \n![endif]--\n\n  \n/head\n\n\n  \nbody\n\n\n    \ndiv class=\nnavbar navbar-inverse navbar-fixed-top\n role=\nnavigation\n\n      \ndiv class=\ncontainer-fluid\n\n        \ndiv class=\nnavbar-header\n\n          \nbutton type=\nbutton\n class=\nnavbar-toggle collapsed\n data-toggle=\ncollapse\n data-target=\n.navbar-collapse\n\n            \nspan class=\nsr-only\nToggle navigation\n/span\n\n            \nspan class=\nicon-bar\n/span\n\n            \nspan class=\nicon-bar\n/span\n\n            \nspan class=\nicon-bar\n/span\n\n          \n/button\n\n          \na class=\nnavbar-brand\n href=\n/rango/\nRango\n/a\n\n        \n/div\n\n        \ndiv class=\nnavbar-collapse collapse\n\n          \nul class=\nnav navbar-nav navbar-right\n\n                \nli\na href=\n{% url 'index' %}\nHome\n/a\n/li\n\n                    {% if user.is_authenticated %}\n                        \nli\na href=\n{% url 'restricted' %}\nRestricted Page\n/a\n/li\n\n                        \nli\na href=\n{% url 'auth_logout' %}?next=/rango/\nLogout\n/a\n/li\n\n                        \nli\na href=\n{% url 'add_category' %}\nAdd a New Category\n/a\n/li\n\n                    {% else %}\n                        \nli\na href=\n{% url 'registration_register' %}\nRegister Here\n/a\n/li\n\n                        \nli\na href=\n{% url 'auth_login' %}\nLogin\n/a\n/li\n\n                    {% endif %}\n                                \nli\na href=\n{% url 'about' %}\nAbout\n/a\n/li\n\n\n              \n/ul\n\n        \n/div\n\n      \n/div\n\n    \n/div\n\n\n    \ndiv class=\ncontainer-fluid\n\n      \ndiv class=\nrow\n\n        \ndiv class=\ncol-sm-3 col-md-2 sidebar\n\n                {% block side_block %}{% endblock %}\n\n        \n/div\n\n        \ndiv class=\ncol-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main\n\n           \ndiv\n\n                {% block body_block %}{% endblock %}\n                \n/div\n\n        \n/div\n\n      \n/div\n\n    \n/div\n\n\n    \n!-- Bootstrap core JavaScript\n    ================================================== --\n\n    \n!-- Placed at the end of the document so the pages load faster --\n\n    \nscript src=\nhttps://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\n/script\n\n    \nscript src=\nhttp://getbootstrap.com/dist/js/bootstrap.min.js\n/script\n\n    \n!-- IE10 viewport hack for Surface/desktop Windows 8 bug --\n\n    \nscript src=\nhttp://getbootstrap.com/assets/js/ie10-viewport-bug-workaround.js\n/script\n\n  \n/body\n\n\n/html\n\n\n\n\n\n\u5982\u679c\u4ed4\u7ec6\u770bdashboard\u7684html\u6e90\u4ee3\u7801,\u4f1a\u53d1\u73b0\u8bb8\u591a\u7ed3\u6784\u90fd\u662f\u901a\u8fc7\ndiv\n\u6807\u7b7e\u521b\u5efa\u7684.\u9875\u9762\u88ab\u5206\u4e3a\u4e24\u90e8\u5206 - \u9876\u90e8\u5bfc\u822a\u680f\u548c\u4e3b\u9762\u677f,\u90fd\u88ab\ndiv class=\"container-fluid\"\n\u5305\u542b.\u5728\u5bfc\u822a\u680f\u533a\u57df,\u6211\u4eec\u52a0\u5165\u6211\u4eec\u7f51\u7ad9\u7684\u94fe\u63a5.\u5728\u4e3b\u9762\u677f\u533a\u57df\u6709\u4e24\u5217\u4e13\u680f,\u4e00\u4e2a\u662f\nside_block\n,\u53e6\u4e00\u4e2a\u662f\nbody_block\n.\n\n\n13.2 \u5feb\u901f\u66f4\u6539\u6837\u5f0f\n\n\n\u4f7f\u7528\u4e0a\u9762\u7684html\u4ee3\u7801\u66f4\u65b0\u4f60\u7684\nbase.html\n(\u5047\u8bbe\u4f60\u5df2\u7ecf\u5b8c\u6210\u4e8612\u7ae0\u7684\u5185\u5bb9,\u4f7f\u7528\u4e86django-registration-redux \u5305,\u5982\u679c\u6ca1\u6709\u4f60\u9700\u8981\u66f4\u65b0\u8fd9\u4e9burl\u6a21\u677f\u6807\u7b7e).\u91cd\u65b0\u52a0\u8f7d\u4f60\u7684\u5e94\u7528.\u4f60\u9700\u8981\u8054\u7f51\u624d\u80fd\u4e0b\u8f7dcss,js\u548c\u5176\u4ed6\u76f8\u5173\u6587\u4ef6.\u4f60\u6ce8\u610f\u5230\u4e86\u4f60\u7684\u5e94\u7528\u770b\u8d77\u6765\u53d8\u5316\u975e\u5e38\u5927.\u8bd5\u7740\u6d4f\u89c8\u5176\u4ed6\u9875\u9762\u770b\u4e00\u770b.\u56e0\u4e3a\u5b83\u4eec\u90fd\u7ee7\u627f\u81ea\u57fa\u7840\u6a21\u677f,\u5b83\u4eec\u770b\u8d77\u6765\u90fd\u975e\u5e38\u597d\u770b.\u867d\u7136\u4e0d\u5b8c\u7f8e\u4f46\u662f\u975e\u5e38\u597d.\n\n\n\n\nNote\n\n\n\u4f60\u5e94\u5f53\u4e0b\u8f7d\u6240\u6709\u5173\u8054\u7684\u6587\u4ef6\u5e76\u5b58\u50a8\u5230\u9759\u6001\u6587\u4ef6\u5939.\u5982\u679c\u8fd9\u4e48\u505a\u4ee5\u540e,\u5728\u57fa\u7840\u6a21\u677f\u4fee\u6539\u9759\u6001\u6587\u4ef6\u7684\u5f15\u7528.\n\n\n\n\n\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u8bbe\u7f6e\u597d\nbase.html\n,\u6211\u4eec\u53ef\u4ee5\u5feb\u901f\u7684\u4f7f\u7528Bootstrap\u7ec4\u5efa\u6765\u5b9a\u5236\u6211\u4eec\u7684\u9875\u9762.\n\n\n\u8ba9\u6211\u4eec\u4fee\u6539\nabout.html\n\u6a21\u677f,\u5728\u9875\u9762\u91cc\u653e\u7f6e\u4e00\u4e2a\u9875\u9762\u5934(http://getbootstrap.com/components/#page-header) .\u5728\u4f8b\u5b50\u4e2d,\u6211\u4eec\u9700\u8981\u52a0\u5165\ndiv\n\u5e76\u4e14\u4f7f\u7528\nclass=\"page-header\"\n\u5c5e\u6027:\n\n\n{% extends 'base.html' %}\n\n{% load staticfiles %}\n\n{% block title %}About{% endblock %}\n\n{% block body_block %}\n    \ndiv class=\npage-header\n\n                \nh1\nAbout\n/h1\n\n            \n/div\n\n            \ndiv\n\n            \np\n/strong\n.\n/p\n\n\n            \nimg  width=\n90\n height=\n100\n src=\n{% static \nimages/rango.jpg\n %}\n alt=\nPicture of Rango\n /\n \n!-- New line --\n\n            \n/div\n\n{% endblock %}\n\n\n\n\n\n\n\u6ce8\u610f\u5230\u6211\u4eec\u7684\u4fa7\u8fb9\u680f\u662f\u7a7a\u7684,\u5728\u4e0b\u4e00\u7ae0\u6211\u4eec\u4f1a\u6392\u5217\u5bfc\u822a\u680f\u7684\u94fe\u63a5.\u4f46\u662f\u9996\u5148\u6211\u4eec\u9700\u8981\u5904\u7406\u4e00\u4e0b\u9996\u9875.\n\n\n13.2.1 \u9996\u9875\n\n\n\u56e0\u4e3a\u6211\u4eec\u53ea\u5c01\u88c5\u4e86\u6807\u9898\u548c\u9875\u9762,\u4f8b\u5982\ndiv class=\"page-header\"\n,\u6211\u4eec\u8fd8\u6ca1\u6709\u771f\u6b63\u5229\u7528Bootstrap\u7ed9\u6211\u4eec\u63d0\u4f9b\u7684\u6837\u5f0f.\u6240\u4ee5\u6211\u4eec\u91c7\u7528\u5217\u6d41\u9875\u9762\u5e76\u4f7f\u7528\u5b83\u4eec\u5bb9\u7eb3\u9876\u7ea7\u76ee\u5f55\u548c\u9876\u7ea7\u9875\u9762.\u56e0\u4e3a\u539f\u6765\u7684\u9875\u9762\u67094\u4e2a\u5217,\u6211\u4eec\u4f7f\u7528\u4e24\u4e2a\u5e76\u628a\u5b83\u4eec\u7684\u5c3a\u5bf8\u8c03\u5927.\u4fee\u6539\nindex.html\n\u6a21\u677f:\n\n\n{% extends 'base.html' %}\n\n{% load staticfiles %}\n\n{% block title %}Index{% endblock %}\n\n        {% block body_block %}\n{% if user.is_authenticated %}\n    \ndiv class=\npage-header\n\n\n                \nh1\nRango says... hello {{ user.username }}!\n/h1\n\n            {% else %}\n                \nh1\nRango says... hello world!\n/h1\n\n            {% endif %}\n\n/div\n\n\n         \ndiv class=\nrow placeholders\n\n            \ndiv class=\ncol-xs-12 col-sm-6 placeholder\n\n               \nh4\nCategories\n/h4\n\n\n              {% if categories %}\n                    \nul\n\n                        {% for category in categories %}\n                         \nli\na href=\n{% url 'category'  category.slug %}\n{{ category.name }}\n/a\n/li\n\n                        {% endfor %}\n                    \n/ul\n\n                {% else %}\n                    \nstrong\nThere are no categories present.\n/strong\n\n                {% endif %}\n\n            \n/div\n\n            \ndiv class=\ncol-xs-12 col-sm-6 placeholder\n\n              \nh4\nPages\n/h4\n\n\n                {% if pages %}\n                    \nul\n\n                        {% for page in pages %}\n                         \nli\na href=\n{{page.url}}\n{{ page.title }}\n/a\n/li\n\n                        {% endfor %}\n                    \n/ul\n\n                {% else %}\n                    \nstrong\nThere are no categories present.\n/strong\n\n                {% endif %}\n            \n/div\n\n\n          \n/div\n\n\n\n       \np\n visits: {{ visits }}\n/p\n\n        {% endblock %}\n\n\n\n\n\u9875\u9762\u5c06\u4f1a\u53d8\u5f97\u66f4\u6f02\u4eae\u4e86.\u4f46\u662f\u5217\u8868\u7684\u6837\u5f0f\u6bd4\u8f83\u6076\u5fc3.\u8ba9\u6211\u4eec\u4f7f\u7528Bootstrap\u7684\u5217\u8868\u7ec4\u6837\u5f0f http://getbootstrap.com/components/#list-group .\u4fee\u6539\nul\n\u5143\u7d20\u4e3a\nul class=\"list-group\"\n,\u4fee\u6539\nli\n\u4e3a\nli class=\"list-group-item\"\n\u7136\u540e\u4f7f\u7528panel\u6837\u5f0f\u4fee\u6539heddings\n\n\n    \ndiv class=\npanel panel-primary\n\n    \ndiv class=\npanel-heading\n\n            \nh3 class=\npanel-title\nCategories\n/h3\n\n    \n/div\n\n\n/div\n\n\n\n    \ndiv class=\npanel panel-primary\n\n            \ndiv class=\npanel-heading\n\n                    \nh3 class=\npanel-title\nPages\n/h3\n\n            \n/div\n\n    \n/div\n\n\n\n\n\n\n\n13.3 \u767b\u5f55\u9875\u9762\n\n\n\u8ba9\u6211\u4eec\u5c06\u6ce8\u610f\u529b\u8f6c\u79fb\u5230\u767b\u5f55\u9875\u9762.\u5728Bootstrap\u7f51\u7ad9\u6211\u4eec\u5df2\u7ecf\u770b\u5230\n\u6f02\u4eae\u7684\u767b\u5f55\u8868\u5355\n,\u67e5\u770b http://getbootstrap.com/examples/signin/ .\u5982\u679c\u67e5\u770b\u6e90\u4ee3\u7801,\u4f60\u4f1a\u53d1\u73b0\u6211\u4eec\u9700\u8981\u5728\u57fa\u7840\u767b\u5f55\u8868\u5355\u4e0a\u52a0\u5165\u8bb8\u591a\u7c7b.\u4fee\u6539\nlogin.html\n\u6a21\u677f\u5982\u4e0b:\n\n\n{% block body_block %}\n\n\nlink href=\nhttp://getbootstrap.com/examples/signin/signin.css\n rel=\nstylesheet\n\n\n\nform class=\nform-signin\n role=\nform\n method=\npost\n action=\n.\n\n{% csrf_token %}\n\n\nh2 class=\nform-signin-heading\nPlease sign in\n/h2\n\n\ninput class=\nform-control\n placeholder=\nUsername\n id=\nid_username\n maxlength=\n254\n name=\nusername\n type=\ntext\n required autofocus=\n/\n\n\ninput type=\npassword\n class=\nform-control\n placeholder=\nPassword\n id=\nid_password\n name=\npassword\n type=\npassword\n required /\n\n\n        \nbutton class=\nbtn btn-lg btn-primary btn-block\n type=\nsubmit\n value=\nSubmit\n /\nSign in\n/button\n\n        \n/form\n\n\n{% endblock %}\n\n\n\n\n\n\n\u8fd9\u91cc\u6709\u5f88\u591a\u9519\u8bef,\u4e14\u5bf9\u540e\u9762\u6ca1\u6709\u4ec0\u4e48\u5f71\u54cd\u6682\u65f6\u4e0d\u7ffb\u8bd1~\n\n\n\n\n14 \u6a21\u677f\u6807\u7b7e\n\n\n14.1 \u4e3a\u6bcf\u4e2a\u9875\u9762\u63d0\u4f9b\u76ee\u5f55\n\n\n\u4e3a\u6bcf\u4e2a\u9875\u9762\u7684\u4fa7\u8fb9\u680f\u63d0\u4f9b\u76ee\u5f55\u5c06\u4f1a\u975e\u5e38\u7684\u65b9\u4fbf\u5feb\u6377.\u6839\u636e\u4ee5\u524d\u7684\u7ecf\u9a8c\u6211\u4eec\u9700\u8981\u505a\u5982\u4e0b:\n\n\n\n\n\u5728\nbase.html\n\u6a21\u677f\u91cc\u6211\u4eec\u9700\u8981\u6dfb\u52a0\u4e00\u4e9b\u4ee3\u7801\u7528\u6765\u5c55\u793a\u4fa7\u8fb9\u680f\u7684\u76ee\u5f55\u5217\u8868.\n\n\n\u5728\u6bcf\u4e2a\u89c6\u56fe\u91cc,\u6211\u4eec\u9700\u8981\u8bbf\u95ee\u76ee\u5f55\u5bf9\u8c61\u4ee5\u83b7\u53d6\u6240\u6709\u76ee\u5f55,\u5e76\u628a\u5b83\u8fd4\u56de\u5230\u6a21\u677f\u4e0a\u4e0b\u6587\u5b57\u5178\u91cc.\n\n\n\n\n\u8fd9\u4e48\u505a\u597d\u50cf\u6709\u70b9\u7e41\u7410.\u6211\u4eec\u9700\u8981\u4e0d\u65ad\u590d\u5236\u7c98\u8d34\u4ee3\u7801.\u800c\u4e14\u5f53django-registration-redux\u5305\u7684\u89c6\u56fe\u8981\u5c55\u793a\u76ee\u5f55\u65f6\u4f1a\u53d1\u751f\u9519\u8bef.\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u4e0d\u540c\u7684\u65b9\u6cd5,\u7528\ntemplatetags\n\u6765\u8bf7\u6c42\u6240\u9700\u7684\u6570\u636e.\n\n\n14.2 \u4f7f\u7528\u6a21\u677f\u6807\u7b7e\n\n\n\u521b\u5efa\nrango/templatetags\n\u76ee\u5f55\u5e76\u4e14\u521b\u5efa\u4e24\u4e2a\u6587\u4ef6,\u4e00\u4e2a\u662f\u7a7a\u6587\u4ef6\n__init__.py\n,\u53e6\u4e00\u4e2a\u662f\nrango_extras.py\n\u5e76\u6dfb\u52a0\u4ee3\u7801\u5982\u4e0b:\n\n\nfrom django import template\nfrom rango.models import Category\n\nregister = template.Library()\n\n@register.inclusion_tag('rango/cats.html')\ndef get_category_list():\n    return {'cats': Category.objects.all()}\n\n\n\n\n\u8fd9\u91cc\u6211\u4eec\u521b\u5efa\u4e86\u4e00\u4e2a\nget_category_list()\n\u65b9\u6cd5,\u5e76\u4e14\u8fde\u63a5\u5230\u4e86\nrango/cats.html\n\u6a21\u677f.\u73b0\u5728\u6211\u4eec\u5728\u6a21\u677f\u76ee\u5f55\u91cc\u521b\u5efa\nrango/cats.html\n:\n\n\n{% if cats %}\n    \nul class=\nnav nav-sidebar\n\n    {% for c in cats %}\n        \nli\na href=\n{% url 'category'  c.slug %}\n{{ c.name }}\n/a\n/li\n\n    {% endfor %}\n\n{% else %}\n    \nli\n \nstrong \nThere are no category present.\n/strong\n/li\n\n\n    \n/ul\n\n{% endif %}\n\n\n\n\n\u73b0\u5728\u5728\u4f60\u7684\nbase.html\n\u4f7f\u7528\n{% load rango_extras %}\n\u8c03\u7528\u5e76\u7528\n{% get_category_list %}\n\u4f7f\u7528\u5b83,\u4f8b\u5982:\n\n\ndiv class=\ncol-sm-3 col-md-2 sidebar\n\n\n    {% block side_block %}\n    {% loda rango_extras %}\n    {% get_category_list %}\n    {% endblock %}\n\n\n/div\n\n\n\n\n\n\n\nNote\n\n\n\u6bcf\u6b21\u4fee\u6539templatetags\u4f60\u9700\u8981\u91cd\u542f\u670d\u52a1.\n\n\n\n\n14.3 \u53c2\u6570\u5316\u6a21\u677f\u6807\u7b7e\n\n\n\u73b0\u5728\u8ba9\u6211\u4eec\u52a0\u5165\u81ea\u52a8\u76ee\u5f55\u9ad8\u4eae\u529f\u80fd.\u6211\u4eec\u9700\u8981\u53c2\u6570\u5316\u6a21\u677f.\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4fee\u6539\nrango_extras.py\n:\n\n\ndef get_category_list(cat=None):\n    return {'cats': Category.objects.all(), 'act_cat': cat}\n\n\n\n\n\u8ba9\u6211\u4eec\u4f20\u9012\u6211\u4eec\u6240\u5728\u7684\u76ee\u5f55.\u6211\u4eec\u53ef\u4ee5\u4fee\u6539\nbase.html\n.\n\n\ndiv class=\ncol-sm-3 col-md-2 sidebar\n\n\n    {% block side_block %}\n    {% get_category_list category %}\n    {% endblock %}\n\n\n/div\n\n\n\n\n\n\u73b0\u5728\u8ba9\u6211\u4eec\u66f4\u65b0\ncats.html\n\u6a21\u677f:\n\n\n{% for c in cats %}\n    {% if c == act_cat %} \nli  class=\nactive\n \n {% else  %} \nli\n{% endif %}\n            \na href=\n{% url 'category'  c.slug %}\n{{ c.name }}\n/a\n/li\n\n{% endfor %}\n\n\n\n\n\u8fd9\u91cc\u68c0\u67e5\u662f\u5426\u662f\u5f53\u524d\u6240\u5728\u7684\u76ee\u5f55\u9875,\u5982\u679c\u76f8\u540c\u5c31\u6dfb\u52a0\u9ad8\u4eae(\u4f8b\u5982\nact_cat\n)\n\n\n\u91cd\u542fDjango\u670d\u52a1\u5e76\u8bbf\u95ee\u9875\u9762.\u6211\u4eec\u53ef\u4ee5\u4f20\u9012\ncategory\n\u53d8\u91cf.\u5f53\u4f60\u6d4f\u89c8\u4e00\u4e2a\u76ee\u5f55\u9875\u9762,\u6a21\u677f\u4f1a\u8bbf\u95ee\ncatogory\n\u53d8\u91cf\u5e76\u4e14\u4e3a\nget_category_list()\n\u63d0\u4f9b\ncat\n\u503c.\u7136\u540e\ncats.html\n\u4f1a\u9009\u62e9\u54ea\u4e00\u4e2a\u76ee\u5f55\u9ad8\u4eae.\n\n\n15 \u589e\u52a0\u5916\u90e8\u641c\u7d22\u529f\u80fd\n\n\n\u5728\u8fd9\u4e2a\u9636\u6bb5,\u6211\u4eec\u7684Rango\u770b\u8d77\u6765\u5df2\u7ecf\u975e\u5e38\u597d\u5566 - \u5927\u90e8\u5206\u7684\u529f\u80fd\u90fd\u5df2\u7ecf\u5b9e\u73b0\u4e86,\u5728\u8fd9\u7ae0,\u6211\u4eec\u5c06\u4e3a\u6211\u4eec\u7684Rango\u63d0\u4f9bBing\u7684\u641c\u7d22\u7684\u529f\u80fd\u800c\u4e0d\u662f\u4ec5\u4ec5\u4f7f\u7528\u76ee\u5f55.\u9996\u5148\u8ba9\u6211\u4eec\u5148\u8bbe\u7f6e\u4e00\u4e2aBing\u8d26\u6237\u6765\u4f7f\u7528\u5b83\u7684API,\u7136\u540e\u628aBing\u641c\u7d22\u96c6\u6210\u8fdbRango.\n\n\n15.1 Bing\u641c\u7d22API\n\n\nBing\u641c\u7d22API\u63d0\u4f9b\u4e86\u5728\u4f60\u7684\u5e94\u7528\u4e2d\u5d4c\u5165\u641c\u7d22\u7ed3\u679c\u7684\u529f\u80fd.\u901a\u8fc7\u7b80\u5355\u7684\u4ea4\u4e92,\u4f60\u53ef\u4ee5\u4eceBing\u7684\u670d\u52a1\u5668\u8fd4\u56de\u4e00\u4e2aXML\u6216\u8005JSON.\u8fd9\u4e2a\u6570\u636e\u53ef\u4ee5\u901a\u8fc7XML\u6216\u8005JSON\u89e3\u6790\u5668\u8fdb\u884c\u89e3\u6790,\u6700\u540e\u7ed3\u679c\u4f20\u9012\u7ed9\u4f60\u7684\u6a21\u677f\u8fdb\u884c\u8c03\u7528.\n\n\n\u5c3d\u7ba1Bing\u7684API\u53ef\u4ee5\u5904\u7406\u4e0d\u540c\u5185\u5bb9\u7684\u8bf7\u6c42,\u6211\u4eec\u53ea\u9700\u8981\u5173\u6ce8\u672c\u6559\u7a0b\u4f7f\u7528\u7684\u90e8\u5206 - \u5c31\u662f\u5904\u7406\u54cd\u5e94\u7684JSON.\u4e3a\u4e86\u4f7f\u7528Bing\u641c\u7d22\u7684API,\u4f60\u9700\u8981\u6ce8\u518c\u4e00\u4e2aAPI key.\u8fd9\u4e2akey\u53ef\u4ee5\u7ed9\u7528\u6237\u6bcf\u4e2a\u67085000\u6b21\u8bf7\u6c42\u7684\u6743\u9650,\u5bf9\u4e8e\u6211\u4eec\u4e2a\u4eba\u7528\u6237\u6765\u8bf4\u8db3\u591f\u7528\u4e86.\n\n\n15.1.1 \u6ce8\u518c\u4e00\u4e2aAPI key\n\n\n\u4e3a\u4e86\u6ce8\u518c\u4e00\u4e2aBing API key,\u4f60\u5fc5\u987b\u9996\u5148\u6ce8\u518c\u4e00\u4e2a\u514d\u8d39\u7684Microsoft\u8d26\u6237.\u8fd9\u4e2a\u8d26\u6237\u63d0\u4f9b\u4e86\u8bb8\u591a\u7684Microsoft\u670d\u52a1.\u5982\u679c\u4f60\u5df2\u7ecf\u6709\u4e00\u4e2aHotmail\u8d26\u6237,\u90a3\u4e48\u5c31\u4e0d\u7528\u518d\u6ce8\u518c\u4e86.\u4f60\u53ef\u4ee5\u5728\u8fd9\u91cc https://account.windowsazure.com \u6ce8\u518c\u548c\u767b\u5f55\u5e10\u53f7.\n\n\n\u5f53\u4f60\u521b\u5efa\u5b8c\u5e10\u53f7,\u8bbf\u95ee \nWindows Azure Marketplace Bing Search API page\n.\u5728\u9875\u9762\u7684\u9876\u90e8\u4f60\u9700\u8981\u70b9\u51fbSign In\u6309\u94ae - \u5982\u679c\u4f60\u5df2\u7ecf\u4f60\u5df2\u7ecf\u8fdb\u5165\u5230Microsoft\u8d26\u6237(\u4e0a\u9762\u5199\u7740Sing Out),\u5c31\u4e0d\u9700\u8981\u518d\u767b\u5f55\u4e86.\n\n\n\u9875\u9762\u53f3\u8fb9\u7684\u5217\u8868\u662f\u6bcf\u6708\u7684\u4e8b\u52a1\u91cf.\u5728\u6700\u9876\u90e8\u662f5000/\u6708.\u70b9\u51fb\u53f3\u8fb9\u7684\u6ce8\u518c\u6309\u94ae - \u4f60\u5c06\u4f1a\u8ba2\u9605\u4e00\u4e2a\u514d\u8d39\u7684\u670d\u52a1.\u9605\u8bfb\u5b8c\u6709\u5173\u6761\u4f8b\u4ee5\u540e,\u5982\u679c\u540c\u610f\u6761\u6b3e\u70b9\u51fb\u6ce8\u518c\u6309\u94ae\u7ee7\u7eed.\u63a5\u4e0b\u6765\u5c06\u4f1a\u663e\u793a\u6210\u529f\u6ce8\u518c\u7684\u9875\u9762.\n\n\n\u6ce8\u518c\u6210\u529f\u4ee5\u540e,\u70b9\u51fb\u9875\u9762\u9876\u90e8\u7684\u6570\u636e\u94fe\u63a5.\u5728\u8fd9\u91cc\u4f60\u5c06\u4f1a\u770b\u5230Windows Azure Marketplace\u7684\u53ef\u7528\u8d44\u6e90\u5217\u8868.\u5728\u8fd9\u4e2a\u5217\u8868\u9876\u90e8\u5e94\u5f53\u662fBing Search API - \u540c\u65f6\u53f3\u8fb9\u663e\u793a\u7684\u662f\u4f60\u5df2\u8ba2\u9605\u8be5\u8d44\u6e90.\u70b9\u51fb\u4f4d\u4e8e\u53f3\u8fb9\u7684\u4f7f\u7528.\u4f60\u5c06\u4f1a\u770b\u5230\u5982\u4e0b\u56fe\u6240\u793a\u7684\u9875\u9762.\n\n\n\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7\u5de6\u4fa7\u7684\u8f93\u5165\u680f\u8f93\u5165\u4fe1\u606f\u6765\u5c1d\u8bd5Bing Search API.\u4f8b\u5982\u67e5\u8be2\u680f\u5141\u8bb8\u4f60\u8f93\u5165\u67e5\u8be2\u8bed\u53e5\u6765\u53d1\u9001\u7ed9API.\u786e\u4fdd\u5728\u5c4f\u5e55\u7684\u5e95\u90e8\u9009\u62e9Web,\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u53ea\u5f97\u5230\u7f51\u9875\u641c\u7d22\u7ed3\u679c.\u6ce8\u610f\u4e0a\u4e0d\u7684\u84dd\u8272\u6846\u4e2d\u7684URL\u4f1a\u968f\u7740\u4f60\u9009\u62e9\u7684\u7f51\u9875\u5730\u5740\u800c\u6539\u53d8.\u8bb0\u4e0b\u8fd9\u4e2aWeb\u641c\u7d22URL.\u4e00\u4f1a\u6211\u4eec\u5c06\u4f1a\u5728\u6211\u4eec\u7684\u4ee3\u7801\u4e2d\u4f7f\u7528\u8fd9\u4e2aURL.\u4e0b\u9762\u662f\u4f7f\u7528\u7f51\u9875\u641c\u9519\u67e5\u8be2rango\u7684\u4f8b\u5b50.\n\n\nhttps://api.datamarket.azure.com/Bing/Search/v1/Web?Query=%27rango%27\n\n\n\n\n\u6211\u4eec\u9700\u8981\u5f97\u5230API key\u4ee5\u4fbf\u5728\u4f60\u53d1\u9001\u8bf7\u6c42\u65f6\u5f97\u5230Bing\u670d\u52a1\u5668\u7684\u8ba4\u8bc1.\u4e3a\u4e86\u83b7\u53d6\u4f60\u7684key,\u70b9\u51fb\u9875\u9762\u4e0a\u90e8\u7684\u4e3b\u5e10\u6237\u5bc6\u94a5\u73b0\u5b9e\u6309\u94ae.\u8fd9\u6837\u4f60\u5c31\u4f1a\u770b\u5230\u4f60\u7684API key\u4e86.\u4e00\u4f1a\u6211\u4eec\u5c06\u4f7f\u7528\u5b83,\u5148\u628a\u5b83\u8bb0\u4e0b\u6765 - \u8fd8\u8981\u6ce8\u610f\u4e0d\u8981\u6cc4\u9732\u8fd9\u4e2akey!\u5982\u679c\u522b\u4eba\u5f97\u5230\u4f60\u7684key,\u90a3\u4e48\u522b\u4eba\u5c31\u53ef\u4ee5\u4f7f\u7528\u4f60\u7684key\u8fdb\u884c\u514d\u8d39\u7684\u67e5\u8be2\u4e86.\n\n\n\n\nNote\n\n\n\u8fd9\u4e2a\u9875\u9762\u540c\u65f6\u73b0\u5b9e\u5269\u4f59\u6bcf\u6708\u7684\u4e8b\u52a1\u91cf.\n\n\n\n\n15.2 \u589e\u52a0\u641c\u7d22\u529f\u80fd\n\n\n\u4e3a\u4e86\u589e\u52a0Rango\u7684\u641c\u7d22\u529f\u80fd,\u6211\u4eec\u5fc5\u987b\u589e\u52a0\u4e00\u4e2aBing API\u67e5\u8be2\u8bed\u53e5.\u8fd9\u4e2a\u4ee3\u7801\u5c06\u4f1a\u4ece\u4e00\u4e2a\u7279\u5b9a\u7684\u7528\u6237\u83b7\u53d6\u8bf7\u6c42,\u5e76\u8fd4\u56de\u4e00\u4e2a\u5217\u8868\u4f5c\u4e3a\u7ed3\u679c.\u6240\u6709\u5728API\u67e5\u8be2\u9636\u6bb5\u7684\u9519\u8bef\u90fd\u80fd\u88ab\u5f88\u597d\u7684\u5904\u7406.\u62c6\u5206\u8fd9\u4e2a\u641c\u7d22\u51fd\u6570\u4f5c\u4e3a\u6dfb\u52a0\u51fd\u6570\u53ef\u4ee5\u6709\u6548\u7684\u5206\u79bbDjango\u4ee3\u7801\u548c\u641c\u7d22\u51fd\u6570\u4ee3\u7801.\n\n\n\u5f00\u59cb,\u5728\nrango\n\u5e94\u7528\u76ee\u5f55\u91cc\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684Python\u6a21\u5757\nbing_search.py\n.\u4ee3\u7801\u5982\u4e0b.\u6ce8\u610f\u67e5\u770b\u6ce8\u91ca\u7684\u5185\u5bb9.\n\n\nimport json\nimport urllib, urllib2\n\n# Add your BING_API_KEY\n\nBING_API_KEY = '\ninsert_bing_api_key\n'\n\ndef run_query(search_terms):\n    # Specify the base\n    root_url = 'https://api.datamarket.azure.com/Bing/Search/'\n    source = 'Web'\n\n    # Specify how many results we wish to be returned per page.\n    # Offset specifies where in the results list to start from.\n    # With results_per_page = 10 and offset = 11, this would start from page 2.\n    results_per_page = 10\n    offset = 0\n\n    # Wrap quotes around our query terms as required by the Bing API.\n    # The query we will then use is stored within variable query.\n    query = \n'{0}'\n.format(search_terms)\n    query = urllib.quote(query)\n\n    # Construct the latter part of our request's URL.\n    # Sets the format of the response to JSON and sets other properties.\n    search_url = \n{0}{1}?$format=json\n$top={2}\n$skip={3}\nQuery={4}\n.format(\n        root_url,\n        source,\n        results_per_page,\n        offset,\n        query)\n\n    # Setup authentication with the Bing servers.\n    # The username MUST be a blank string, and put in your API key!\n    username = ''\n\n\n    # Create a 'password manager' which handles authentication for us.\n    password_mgr = urllib2.HTTPPasswordMgrWithDefaultRealm()\n    password_mgr.add_password(None, search_url, username, BING_API_KEY)\n\n    # Create our results list which we'll populate.\n    results = []\n\n    try:\n        # Prepare for connecting to Bing's servers.\n        handler = urllib2.HTTPBasicAuthHandler(password_mgr)\n        opener = urllib2.build_opener(handler)\n        urllib2.install_opener(opener)\n\n        # Connect to the server and read the response generated.\n        response = urllib2.urlopen(search_url).read()\n\n        # Convert the string response to a Python dictionary object.\n        json_response = json.loads(response)\n\n        # Loop through each page returned, populating out results list.\n        for result in json_response['d']['results']:\n            results.append({\n            'title': result['Title'],\n            'link': result['Url'],\n            'summary': result['Description']})\n\n    # Catch a URLError exception - something went wrong when connecting!\n    except urllib2.URLError, e:\n        print \nError when querying the Bing API: \n, e\n\n    # Return the list of results to the calling function.\n    return results\n\n\n\n\n\u4e0a\u9762\u7684\u4ee3\u7801\u903b\u8f91\u53ef\u4ee5\u5206\u4e3a\u516d\u4e2a\u90e8\u5206:\n\n\n\n\n\u9996\u5148,\u5b9a\u4e49\u51c6\u5907\u8bf7\u6c42Bing\u7684URL\u5730\u5740.\n\n\n\u7136\u540e\u51c6\u5907\u7528\u4f60\u7684Bing API key\u8fdb\u884c\u8ba4\u8bc1.\u786e\u4fdd\u7528\u4f60\u7684Bing API key\u66ff\u4ee3\napi_key\n.\n\n\n\u7136\u540e\u6211\u4eec\u7528\u547d\u4ee4\nurllib2.urlopen(search_url)\n\u8fde\u63a5Bing API.\u670d\u52a1\u5668\u8fd4\u56de\u7684\u7ed3\u679c\u4f1a\u4fdd\u5b58\u5728\u4e00\u4e2a\u5b57\u7b26\u4e32\u91cc.\n\n\n\u8fd9\u4e2a\u5b57\u7b26\u4e32\u4f1a\u88ab\njson\nPython\u5305\u89e3\u6790\u6210\u4e00\u4e2aPython\u5b57\u5178\u5bf9\u8c61.\n\n\n\u6211\u4eec\u904d\u5386\u6240\u6709\u8fd4\u56de\u7684\u7ed3\u679c\u751f\u6210\u4e00\u4e2a\nresults\n\u5b57\u5178.\u6bcf\u4e2a\u8fd4\u56de\u7ed3\u679c\u90fd\u5e26\u6709\u9875\u9762\ntitle\n,URL\nlink\n\u8fd8\u6709\u4e00\u5c0f\u6bb5\nsummary\n.\n\n\n\u6700\u540e\u51fd\u6570\u8fd4\u56de\u8fd9\u4e2a\u5b57\u5178.\n\n\n\n\n\u6ce8\u610f\u4eceBing\u670d\u52a1\u5668\u8fd4\u56de\u7684\u7ed3\u679c\u662fJSON.\u8fd9\u662f\u56e0\u4e3a\u6211\u4eec\u5728\u8bf7\u6c42\u4e2d\u6807\u660e\u4e86\u8fd4\u56deJSON - \u67e5\u770b\u4e00\u4e0b\u6211\u4eec\u5b9a\u4e49\u7684\nsearch_url\n\u53d8\u91cf.\u5982\u679c\u5728\u5c1d\u8bd5\u8fde\u63a5Bing\u670d\u52a1\u5668\u7684\u65f6\u5019\u53d1\u751f\u4e86\u9519\u8bef,\u5c31\u4f1a\u901a\u8fc7\nexcept\n\u4ee3\u7801\u5757\u4e2d\u7684\nprint\n\u8bed\u53e5\u6253\u5370\u51fa\u6765.\n\n\n\n\nNote\n\n\nBing\u641c\u7d22API\u8fd8\u6709\u8bb8\u591a\u53ef\u63a7\u53c2\u6570\u6211\u4eec\u6ca1\u6709\u6d89\u53ca\u5230,\u5982\u679c\u4f60\u6709\u5174\u8da3\u53ef\u4ee5\u67e5\u770b\u8fd9\u91cc:\nBing Search API Migration Guide and FAQ\n\n\n\n\n15.3 \u5b89\u5168\u7684\u4fdd\u5b58\u4f60\u7684API KEY\n\n\n\u5982\u679c\u4f60\u628a\u4f60\u7684\u4ee3\u7801\u4fdd\u5b58\u5728\u50cfGithub\u8fd9\u6837\u7684\u516c\u5171\u4ed3\u5e93,\u4f60\u5fc5\u987b\u5c0f\u5fc3\u4f60\u7684API Key\u4e86.\u4e00\u4e2a\u89e3\u51b3\u529e\u6cd5\u662f\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\nkeys.py\n\u6587\u4ef6,\u8c03\u7528\u91cc\u9762\u7684\nBING_API_KEY\n\u53d8\u91cf.\u7136\u540e\u628a\nBING_API_KEY\n\u5bfc\u5165\u5230\nbing_search.py\n\u91cc.\u4fee\u6539\u4f60\u7684\n.gitignore\n\u6587\u4ef6\u5305\u542b\nkeys.py\n,\u6700\u7ec8\u4f60\u7684\nkeys.py\n\u5c31\u4e0d\u4f1a\u88ab\u6dfb\u52a0\u5230\u9879\u76ee\u91cc\u4e86.\u5b83\u53ea\u4f1a\u5b58\u50a8\u5728\u672c\u5730.\n\n\n15.4 \u7ec3\u4e60\n\n\n\u4e0a\u9762\u6211\u4eec\u5df2\u7ecf\u5b8c\u6210\u4e86Bing\u641c\u7d22API\u7684\u529f\u80fd,\u8bd5\u8bd5\u4e0b\u9762\u7684\u7ec3\u4e60.\n\u5982\u679c\u4f7f\u7528\u4e00\u4e2a\u516c\u5171\u4ed3\u5e93,\u91cd\u6784\u4e00\u4e0b\u4ee3\u7801\u4e0d\u8981\u628a\u4f60\u7684API key\u6cc4\u9732\n,\u5728\nbing_search.py\n\u4e2d\u52a0\u5165\nmain()\n\u51fd\u6570\u6765\u6d4b\u8bd5\u4e00\u4e0bBing\u641c\u7d22api(\u63d0\u793a:\u52a0\u5165\u4e0b\u9762\u4ee3\u7801,\u5f53\u4f60\u4f7f\u7528\npython bing_search.py\n\u7684\u65f6\u5019\u4f1a\u8c03\u7528\nmain()\n\u51fd\u6570)\n\n\nif __name__ == '__main__':\n    main()\n\n\n\n\n\n\n\u4e3b\u51fd\u6570\u5c06\u4f1a\u5411\u7528\u6237\u8bf7\u6c42\u4e00\u4e2a\u67e5\u8be2\u8bed\u53e5(\u4ece\u547d\u4ee4\u884c),\u7136\u540e\u901a\u8fc7\nrun_query\n\u65b9\u6cd5\u6765\u8bf7\u6c42Bing API,\u6700\u540e\u4f1a\u6253\u5370\u5904\u524d\u5341\u4e2a\u7ed3\u679c.\n\n\n\u6253\u5370\u6bcf\u4e2a\u7ed3\u679c\u7684\nrank\n,\ntitle\n\u548c\nURL\n\n\n\n\n15.5 \u628a\u641c\u7d22\u653e\u5165Rango\n\n\n\u4e3a\u4e86\u52a0\u5165\u5916\u90e8\u641c\u7d22\u6211\u4eec\u9700\u8981\u8fdb\u884c\u4ee5\u4e0b\u51e0\u6b65.\n\n\n\n\n\u6211\u4eec\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u7ee7\u627f\u81ea\nbase.html\n\u6a21\u677f\u7684\nsearch.html\n\u6a21\u677f.\u8fd9\u4e2a\u6a21\u677f\u5c06\u4f1a\u5305\u542b\u4e00\u4e2aHTML\nform\n\u6765\u83b7\u53d6\u7528\u6237\u8f93\u5165\u7684\u8bf7\u6c42,\u7136\u540e\u4f1a\u7a0b\u5e8f\u8fd4\u56de\u7684\u7ed3\u679c.\n\n\n\u7136\u540e\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u89c6\u56fe\u6765\u5904\u7406\nsearch.html\n\u6a21\u677f\u4f20\u9012\u7ed9\u6211\u4eec\u7684\u53c2\u6570,\u7136\u540e\u8c03\u7528\u6211\u4eec\u4e0a\u9762\u5b9a\u4e49\u7684\nrun_query()\n\u51fd\u6570.\n\n\n\n\n15.5.1 \u52a0\u5165\u641c\u7d22\u6a21\u677f\n\n\n\u8ba9\u6211\u4eec\u73b0\u5efa\u7acb\u4e00\u4e2a\nsearch.html\n\u6a21\u677f.\u4ee3\u7801\u5982\u4e0b.\n\n\n{% extends \nbase.html\n %}\n\n{% load staticfiles %}\n\n{% block title %}Search{% endblock %}\n\n{% block body_block %}\n\n    \ndiv class=\npage-header\n\n        \nh1\nSearch with Rango\n/h1\n\n    \n/div\n\n\n    \ndiv class=\nrow\n\n\n        \ndiv class=\npanel panel-primary\n\n            \nbr/\n\n\n            \nform class=\nform-inline\n id=\nuser_form\n method=\npost\n action=\n{% url 'search' %}\n\n                {% csrf_token %}\n                \n!-- Display the search form elements here --\n\n                \ninput class=\nform-control\n type=\ntext\n size=\n50\n name=\nquery\n value=\n id=\nquery\n /\n\n                \ninput class=\nbtn btn-primary\n type=\nsubmit\n name=\nsubmit\n value=\nSearch\n /\n\n                \nbr /\n\n            \n/form\n\n\n            \ndiv class=\npanel\n\n                {% if result_list %}\n                    \ndiv class=\npanel-heading\n\n                    \nh3 class=\npanel-title\nResults\n/h3\n\n                    \n!-- Display search results in an ordered list --\n\n                    \ndiv class=\npanel-body\n\n                        \ndiv class=\nlist-group\n\n                            {% for result in result_list %}\n                                \ndiv class=\nlist-group-item\n\n                                    \nh4 class=\nlist-group-item-heading\na href=\n{{ result.link }}\n{{ result.title }}\n/a\n/h4\n\n                                    \np class=\nlist-group-item-text\n{{ result.summary }}\n/p\n\n                                \n/div\n\n                            {% endfor %}\n                        \n/div\n\n                    \n/div\n\n                {% endif %}\n                \n/div\n\n            \n/div\n\n \n/div\n\n\n{% endblock %}\n\n\n\n\n\u8fd9\u6bb5\u4ee3\u7801\u5b8c\u6210\u4e86\u4e24\u4e2a\u4e3b\u8981\u529f\u80fd:\n\n\n\n\n\u5728\u6240\u6709\u60c5\u51b5\u4e0b,\u5b83\u90fd\u4f1a\u5c55\u73b0\u4e00\u4e2a\u641c\u7d22\u6846\u548c\u4e00\u4e2a\u641c\u7d22\u6309\u94ae,\u4f7f\u7528\u4e00\u4e2aHTML\nform\n\u6765\u4f9b\u7528\u6237\u8f93\u5165\u5e76\u53d1\u9001\u67e5\u8be2\u8bed\u53e5.\n\n\n\u5f53\nresults_list\n\u4f20\u9012\u7ed9\u6a21\u677f\u4e0a\u4e0b\u6587\u65f6,\u6a21\u677f\u5c06\u4f1a\u5c55\u793a\u5b83\u5305\u542b\u7684\u6240\u6709\u7ed3\u679c.\n\n\n\n\n\u6211\u4eec\u7528Bootstrap\u6765\u7f8e\u5316\u6211\u4eec\u7684html:panels, http://getbootstrap.com/components/#panels ,list groups, http://getbootstrap.com/components/#list-group, and inline forms, http://getbootstrap.com/css/#forms-inline.\n\n\n\u4e00\u4f1a\u6211\u4eec\u5c31\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u7684\u89c6\u56fe\u4e86,\u53ea\u6709\u5f53\u8fd4\u56de\u7ed3\u679c\u65f6\nresults_list\n\u624d\u4f1a\u4f20\u9012\u7ed9\u6a21\u677f.\u5f53\u6211\u4eec\u7b2c\u4e00\u6b21\u8f7d\u5165\u6211\u4eec\u7684\u641c\u7d22\u9875\u9762\u65f6\u6211\u4eec\u8fd8\u6ca1\u6709\u5f97\u5230\u7ed3\u679c - \u56e0\u4e3a\u7528\u6237\u8fd8\u6ca1\u6709\u63d0\u4ea4\u67e5\u8be2!\n\n\n15.5.2 \u6dfb\u52a0\u89c6\u56fe\n\n\n\u6dfb\u52a0\u5b8c\u641c\u7d22\u6a21\u677f\u540e,\u6211\u4eec\u53ef\u4ee5\u6dfb\u52a0\u89c6\u56fe\u4e86.\u5728\nviews.py\n\u6a21\u5757\u91cc\u6dfb\u52a0\u4e0b\u9762\nsearch()\n\u89c6\u56fe.\n\n\ndef search(request):\n\n    result_list = []\n\n    if request.method == 'POST':\n        query = request.POST['query'].strip()\n\n        if query:\n            # Run our Bing function to get the results list!\n            result_list = run_query(query)\n\n    return render(request, 'rango/search.html', {'result_list': result_list})\n\n\n\n\n\u5230\u73b0\u5728\u4e3a\u6b62,\u4f60\u5e94\u5f53\u80fd\u7406\u89e3\u4e0a\u9762\u4ee3\u7801\u4e86.\u4e3b\u8981\u662f\u6dfb\u52a0\u4e86\u8c03\u7528\u6211\u4eec\u5148\u524d\u589e\u52a0\u7684\nrun_query()\n\u51fd\u6570.\u4e3a\u4e86\u8c03\u7528\u5b83\u6211\u4eec\u9700\u8981\u5bfc\u5165\nbing_search.py\n\u6a21\u5757.\u786e\u4fdd\u8fd0\u884c\u4ee3\u7801\u524d\u5728\nviews.py\n\u6a21\u5757\u9876\u90e8\u52a0\u5165\u4e86\u5982\u4e0b\u4ee3\u7801.\n\n\nfrom rango.bing_search import run_query\n\n\n\n\n\u540c\u65f6\u4f60\u4e5f\u9700\u8981\u786e\u4fdd\u5982\u4e0b.\n\n\n\n\n\u589e\u52a0\nsearch()\n\u89c6\u56fe\u548c\n/rango/search/\nURL\u7684\u6620\u5c04,\u547d\u540d\u4e3a\nname='search'\n.\n\n\n\u5728\nbase.html\n\u5bfc\u822a\u680f\u589e\u52a0\u641c\u7d22\u94fe\u63a5.\u8bb0\u5f97\u4f7f\u7528\nurl\n\u6a21\u677f\u6807\u7b7e\u6765\u5f15\u7528\u94fe\u63a5.\n\n\n\n\n\n\nNote\n\n\n\u901a\u8fc7\nrelevant article on Wikipedia\n,\u4e00\u4e2aApplication Programming Interface (API)\u662f\u6307\u8f6f\u4ef6\u4e4b\u95f4\u5982\u4f55\u8fdb\u884c\u4ea4\u4e92.\u5728web\u5e94\u7528\u4e2dAPI\u662f\u6307\u4e00\u7cfb\u5217\u5df2\u7ecf\u5b9a\u4e49\u7ed3\u6784\u7684HTTP\u8bf7\u6c42\u548c\u5b83\u4eec\u6240\u8fd4\u56de\u7684\u5404\u6837\u8bf7\u6c42\u4fe1\u606f.\u4efb\u4f55\u5728\u4e92\u8054\u7f51\u4e0a\u6709\u610f\u4e49\u7684\u670d\u52a1\u90fd\u53ef\u4ee5\u63d0\u4f9b\u5b83\u4eec\u81ea\u5df1\u7684API - \u4e0d\u9650\u4e8eweb\u641c\u7d22.\u66f4\u591a\u7684API\u4fe1\u606f\u8bf7\u770b \nLuis Rei provides an excellent tutorial on APIs\n.\n\n\n\n\n16 \u7ec3\u4e60\n\n\n\u5230\u76ee\u524d\u4e3a\u6b62\u6211\u4eec\u5df2\u7ecf\u4e3aRango\u6dfb\u52a0\u4e86\u8bb8\u591a\u529f\u80fd.\u6211\u4eec\u901a\u8fc7\u5efa\u7acb\u8fd9\u4e2a\u5e94\u7528\u8ba9\u4f60\u719f\u6089Django\u6846\u67b6,\u800c\u4e14\u4ece\u4e2d\u5b66\u5230\u4e86\u5efa\u7acb\u81ea\u5df1\u7f51\u7ad9\u65f6\u9047\u5230\u7684\u5404\u79cd\u5404\u6837\u7684\u56f0\u96be\u548c\u6311\u6218.\u4f46\u662f\u73b0\u5728Rango\u8fd8\u4e0d\u591f\u7d27\u51d1.\u5728\u672c\u7ae0,\u6211\u4eec\u5c06\u4f7f\u5404\u4e2a\u529f\u80fd\u66f4\u52a0\u7d27\u51d1,\u540c\u65f6\u6539\u5584\u5e94\u7528\u7684\u7528\u6237\u4f53\u9a8c\u5e76\u52a0\u5165\u4e00\u4e9b\u65b0\u7684\u529f\u80fd.\n\n\n\u4e3a\u4e86\u4f7f\u6211\u4eec\u7684Rango\u8026\u5408\u5ea6\u66f4\u9ad8\u6211\u4eec\u5c06\u52a0\u5165\u4e0b\u9762\u7684\u529f\u80fd.\n\n\n\n\n\u68c0\u6d4b\u76ee\u5f55\u548c\u9875\u9762\u7684\u70b9\u51fb\u6570,\u4f8b\u5982:\n\n\n\u7d2f\u8ba1\u76ee\u5f55\u8bbf\u95ee\u6b21\u6570\n\n\n\u7d2f\u8ba1\u9875\u9762\u8bbf\u95ee\u6b21\u6570\n\n\n\u6536\u96c6\u76ee\u5f55\u559c\u6b22\u6570(\u67e5\u770b\n19\u7ae0\n)\n\n\n\n\n\n\n\u5728\u76ee\u5f55\u91cc\u7ee7\u627f\u641c\u7d22\u548c\u5c55\u793a,\u4f8b\u5982:\n\n\n\u5728\u6bcf\u4e2a\u76ee\u5f55\u9875\u641c\u7d22\u9875\u9762\u800c\u4e0d\u662f\u4f7f\u641c\u7d22\u9875\u5206\u5f00.\n\n\n\u5728\u4fa7\u8fb9\u680f\u8fc7\u6ee4\u76ee\u5f55(\u67e5\u770b\n19\u7ae0\n)\n\n\n\u5f53\u7528\u6237\u641c\u7d22\u65f6,\u53ea\u5237\u65b0\u641c\u7d22\u7ed3\u679c\u800c\u4e0d\u662f\u5237\u65b0\u6574\u4e2a\u9875\u9762(\u67e5\u770b\n19\u7ae0\n)\n\n\n\n\n\n\n\u4e3a\u6ce8\u518c\u7528\u6237\u63d0\u4f9b\u670d\u52a1,\u4f8b\u5982:\n\n\n\u5047\u8bbe\u4f60\u5df2\u7ecf\u4f7f\u7528\u4e86django-registration-redux,\u6211\u4eec\u9700\u8981\u8bbe\u7acb\u6ce8\u518c\u8868\u5355\u6765\u589e\u52a0\u989d\u5916\u7684\u4fe1\u606f(\u4f8b\u5982\u7f51\u7ad9,\u4e2a\u4eba\u56fe\u7247)\n\n\n\u53ef\u4ee5\u8ba9\u7528\u6237\u67e5\u770b\u81ea\u5df1\u7684\u8d44\u6599\n\n\n\u53ef\u4ee5\u8ba9\u7528\u6237\u4fee\u6539\u81ea\u5df1\u7684\u8d44\u6599\n\n\n\u8ba9\u7528\u6237\u67e5\u770b\u5176\u4ed6\u7528\u6237\u548c\u4ed6\u4eec\u7684\u8d44\u6599\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\u6211\u4eec\u4e0d\u9700\u8981\u73b0\u5728\u5b8c\u6210\u6240\u6709\u7684\u4efb\u52a1.\u4e00\u4e9b\u5c06\u4f1a\u5728\n\u7b2c19\u7ae0\n\u91cc\u5b8c\u6210,\u5269\u4e0b\u7684\u4e00\u4e9b\u5f53\u505a\u7ec3\u4e60\u7531\u4f60\u81ea\u5df1\u5b8c\u6210.\n\n\n\n\n\u5728\u6211\u4eec\u5f00\u59cb\u6dfb\u52a0\u529f\u80fd\u4e4b\u524d\u6211\u4eec\u5c06\u4f1a\u4e3a\u6bcf\u4e2a\u4efb\u52a1\u5217\u51fa\u4e00\u4e2atodo list.\u628a\u4efb\u52a1\u5212\u5206\u6210\u5c0f\u4efb\u52a1\u5c06\u4f1a\u7b80\u5316\u4efb\u52a1\u7684\u96be\u5ea6,\u6240\u4ee5\u8ba9\u6211\u4eec\u4e00\u8d77\u6765\u5404\u4e2a\u51fb\u7834\u5427.\u5728\u8fd9\u7ae0,\u6211\u4eec\u5c06\u63d0\u4f9b\u7ed9\u4f60\u4e0a\u9762\u4efb\u52a1\u7684\u5de5\u4f5c\u6d41\u7a0b.\u5df2\u7ecf\u5b66\u4e86\u8fd9\u4e48\u591a\u4e86,\u5269\u4e0b\u7684\u5de5\u4f5c\u57fa\u672c\u4e0a\u53ef\u4ee5\u72ec\u7acb\u5b8c\u6210\u4e86(\u9664\u4e86\u8bf7\u6c42AJAX).\u5728\u4e0b\u4e00\u7ae0,\u6211\u4eec\u5c06\u63d0\u4f9b\u4e00\u4e9b\u4ee3\u7801\u6765\u5c55\u793a\u5982\u4f55\u5b8c\u6210\u8fd9\u4e9b\u529f\u80fd.\n\n\n16.1 \u8ddf\u8e2a\u9875\u9762\u70b9\u51fb\n\n\n\u73b0\u5728Rango\u63d0\u4f9b\u4e86\u4e00\u4e2a\u76f4\u63a5\u6307\u5411\u5916\u90e8\u9875\u9762\u7684\u94fe\u63a5.\u8fd9\u5bf9\u4e8e\u6211\u4eec\u8ffd\u8e2a\u6bcf\u4e2a\u9875\u9762\u70b9\u51fb\u548c\u67e5\u770b\u6b21\u6570\u5f88\u4e0d\u5229.\u4e3a\u4e86\u7d2f\u8ba1\u9875\u9762\u67e5\u770b\u6b21\u6570\u4f60\u9700\u8981\u5b8c\u6210\u4ee5\u4e0b\u6b65\u9aa4.\n\n\n\n\n\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\ntrack_url()\n\u89c6\u56fe,\u5e76\u628a\u5b83\u6620\u5c04\u5230\n/rango/got/\nURL,\u547d\u540d\u4e3a\nname='goto'\n.\n\n\ntrack_url\n\u89c6\u56fe\u5c06\u4f1a\u68c0\u67e5HTTP\nGET\n\u8bf7\u6c42\u53c2\u6570\u5e76\u5f97\u5230\npage_id\n\u7684\u503c.\u8fd9\u4e2aHTTP\nGET\n\u8bf7\u6c42\u770b\u8d77\u6765\u50cf\n/rango/goto/?page_id=1\n.\n\n\n\u5728\u89c6\u56fe\u91cc,\u9009\u62e9/\u83b7\u53d6\npage\n\u7684\npage_id\n\u7136\u540e\u589e\u52a0\u5b83\u6240\u5173\u8054\u7684\nviews\n\u5b57\u6bb5\u5e76\u4e14\nsave()\n.\n\n\n\u7136\u540e\u8fd9\u4e2a\u89c6\u56fe\u4f1a\u4f7f\u7528Django\u7684\nredirect\n\u65b9\u6cd5,\u4f7f\u7528\u6237\u91cd\u5b9a\u5411\u5230\u5230\u8981\u8df3\u8f6c\u7684URL.\n\n\n\u5982\u679cHTTP\nGET\n\u8bf7\u6c42\u6ca1\u6709\npage_id\n\u53c2\u6570,\u6216\u8005\u8fd9\u4e2a\u53c2\u6570\u6ca1\u6709\u8fd4\u56de\u4e00\u4e2a\nPage\n\u5bf9\u8c61,\u90a3\u4e48\u76f4\u63a5\u8df3\u8f6c\u5230\u7528\u6237Rango\u7684\u4e3b\u9875.\n\n\n\n\n\n\n\u4fee\u6539\ncategory.html\n\u4f7f\u6240\u6709URL\u90fd\u4f7f\u7528\n/rango/goto/?page_id=XXX\n\u8fd9\u6837\u7684\u5f62\u5f0f,\u8bb0\u5f97\u4f7f\u7528\nurl\n\u6a21\u677f\u6807\u7b7e(\u4f8b\u5982\na href=\u201d{% url \u2018goto\u2019 %}?pageid={{page.id}}\u201d\n)\n\n\n\n\n16.1.1 \u63d0\u793a\n\n\n\u5982\u679c\u4f60\u4e0d\u786e\u5b9a\u5982\u4f55\u68c0\u67e5HTTP\nGET\n\u8bf7\u6c42\u7684\npage_id\n\u53c2\u6570,\u4e0b\u9762\u7684\u4ee3\u7801\u5c06\u4f1a\u5e2e\u52a9\u4f60.\n\n\nif request.method == 'GET':\n    if 'page_id' in request.GET:\n        page_id = request.GET['page_id']\n\n\n\n\n\u6bcf\u6b21\u90fd\u8981\u5148\u68c0\u67e5\u8bf7\u6c42\u7684\nGET\n\u65b9\u6cd5,\u7136\u540e\u8bbf\u95ee\u5305\u542b\u53c2\u6570\u7684\nrequest.GET\n\u5b57\u5178.\u5982\u679c\npage_id\n\u5728\u8fd9\u4e2a\u5b57\u5178\u4e2d,\u4f60\u53ef\u4ee5\u7528\nrequest.GET['page_id']\n\u63d0\u53d6\u51fa\u6765.\n\n\n\n\nNote\n\n\n\u4f60\u4e5f\u53ef\u4ee5\u4e0d\u5b9e\u7528\u67e5\u8be2\u8bed\u53e5\u800c\u662f\u4f7f\u7528URL\u66ff\u4ee3,\u4f8b\u5982\n/rango/goto/\npage_id\n/\n.\u8fd9\u6837\u4f60\u5fc5\u987b\u521b\u5efa\u4e00\u4e2aurlpattern\u6765\u62bd\u53d6\u8fd9\u4e2a\npage_id\n.\n\n\n\n\n16.2 \u5728\u76ee\u5f55\u9875\u641c\u7d22\n\n\nRango\u65e8\u5728\u4e3a\u7528\u6237\u63d0\u4f9b\u6709\u7528\u7684\u9875\u9762\u94fe\u63a5\u76ee\u5f55.\u73b0\u5728\u8fd9\u4e2a\u641c\u7d22\u529f\u80fd\u662f\u57fa\u4e8e\u76ee\u5f55\u641c\u7d22\u7684.\u5982\u679c\u80fd\u7ee7\u627f\u8fdb\u76ee\u5f55\u6d4f\u89c8\u5c31\u597d\u4e86.\u8ba9\u6211\u4eec\u5047\u8bbe\u7528\u6237\u5c06\u4f1a\u9996\u5148\u6d4f\u89c8\u4ed6\u4eec\u611f\u5174\u8da3\u7684\u76ee\u5f55.\u5982\u679c\u627e\u4e0d\u5230\u4ed6\u4eec\u60f3\u8981\u7684\u9875\u9762,\u7528\u6237\u5c31\u4f1a\u641c\u7d22.\u5982\u679c\u7528\u6237\u53d1\u73b0\u4e00\u4e2a\u5408\u9002\u7684\u9875\u9762,\u5c31\u4f1a\u628a\u5b83\u6dfb\u52a0\u5230\u76ee\u5f55\u91cc.\u8ba9\u6211\u4eec\u6ce8\u610f\u7b2c\u4e00\u4e2a\u95ee\u9898,\u628a\u641c\u7d22\u653e\u5165\u76ee\u5f55\u9875.\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898,\u9700\u8981\u4ee5\u4e0b\u51e0\u6b65:\n\n\n\n\n\u79fb\u9664\u83dc\u5355\u680f\u7684\u641c\u7d22\u94fe\u63a5.\n\n\n\u628a\u641c\u7d22\u8868\u5355\u548c\u7ed3\u679c\u6a21\u677f\u4ece\nsearch.html\n\u653e\u5165\ncategory.html\n.\n\n\n\u4fee\u6539\u641c\u7d22\u8868\u5355\u4f7f\u5b83\u7684action\u6307\u5411\u76ee\u5f55\u9875,\u4f8b\u5982:\nform class=\"form-inline\" id=\"user_form\" method=\"post\" action=\"{% url 'category'  category.slug %}\"\n.\n\n\n\u4fee\u6539\u76ee\u5f55\u89c6\u56fe\u83b7\u53d6HTTP\nPOST\n\u8bf7\u6c42.\u89c6\u56fe\u5c06\u4f1a\u83b7\u53d6\u6a21\u677f\u4e0a\u4e0b\u6587\u5b57\u5178\u91cc\u7684\u6240\u6709\u641c\u7d22\u7ed3\u679c.\n\n\n\u540c\u65f6\u4ec5\u8ba9\u6ce8\u518c\u7528\u6237\u624d\u80fd\u591f\u8fdb\u884c\u641c\u7d22.\u6240\u4ee5\u5728\ncategory.html\n\u6a21\u677f\u91cc\u52a0\u5165\n{% if user.authenticated %}\n\u8fdb\u884c\u9650\u5236.\n\n\n\n\n16.3 \u521b\u5efa\u548c\u6d4f\u89c8\u4e2a\u4eba\u6863\u6848\n\n\n\u5982\u679c\u4f60\u4f7f\u7528\u4e86\ndjango-registration-redux\n\u5305,\u4f60\u5fc5\u987b\u6536\u96c6\nUserProfile\n\u6570\u636e.\u4f60\u4e0d\u9700\u8981\u8df3\u8f6c\u5230\u7528\u6237\u7684rango\u4e3b\u9875\u800c\u662f\u8df3\u8f6c\u5230\u4e00\u4e2a\u65b0\u7684\u8868\u5355,\u53bb\u6536\u96c6\u7528\u6237\u7684\u4e2a\u4eba\u7f51\u7ad9\u548curl\u4fe1\u606f.\u4e3a\u4e86\u589e\u52a0\nUserProfile\n\u6ce8\u518c\u529f\u80fd:\n\n\n\n\n\u521b\u5efa\u4e00\u4e2a\nprofile_registration.html\n\u6a21\u677f\u6765\u5c55\u793a\nUserProfileForm\n.\n\n\n\u521b\u5efa\nregister_profile()\n\u89c6\u56fe\u6765\u83b7\u53d6\u4e2a\u4eba\u4fe1\u606f\n\n\n\u6620\u5c04\u89c6\u56fe\u5230url,\u4f8b\u5982\nrango/add_profile/\n.\n\n\n\u5728\nMyRegistrationView\n\u4e2d\u4fee\u6539\nget_sucess_url\n\u6307\u5411\nrango/add_profile\n.\n\n\n\n\n\u53e6\u4e00\u4e2a\u6709\u7528\u7684\u529f\u80fd\u662f\u8ba9\u7528\u6237\u4fee\u6539\u4e2a\u4eba\u4fe1\u606f.\u4ee5\u4e0b\u51e0\u6b65\u6dfb\u52a0\u8fd9\u4e2a\u529f\u80fd.\n\n\n\n\n\u9996\u5148,\u5e8a\u67b6\u4e00\u4e2a\u540d\u5b57\u53eb\nprofile.html\n\u6a21\u677f.\u5728\u8fd9\u4e2a\u6a21\u677f\u91cc\u6dfb\u52a0\u7528\u6237\u4e2a\u4eba\u4fe1\u606f\u76f8\u5173\u7684\u5b57\u6bb5(\u4f8b\u5982,\u7528\u6237\u540d,\u90ae\u7bb1,\u7f51\u7ad9\u548c\u56fe\u7247).\n\n\n\u521b\u5efa\nprofile()\n\u89c6\u56fe.\u8fd9\u4e2a\u89c6\u56fe\u5c06\u4f1a\u83b7\u53d6\u7528\u6237\u4e2a\u4eba\u4fe1\u606f\u6a21\u677f\u91cc\u7684\u6570\u636e.\n\n\n\u6620\u5c04\nprofile()\n\u89c6\u56fe\u5230\n/rango/profile/\n\n\n\u5728\u57fa\u7840\u6a21\u677f\u91cc\u589e\u52a0\u4e2a\u4eba\u6863\u6848\u7684\u94fe\u63a5\u5230\u83dc\u5355\u680f,\u5728\u53f3\u8fb9\u589e\u52a0\u7528\u6237\u76f8\u5173\u7684\u94fe\u63a5.\u8fd9\u4e2a\u94fe\u63a5\u53ea\u63d0\u4f9b\u7ed9\u5df2\u767b\u5f55\u7684\u7528\u6237(\u4f8b\u5982\n{% if user.is_authenticated %}\n).\n\n\n\n\n\u4e3a\u4e86\u8ba9\u7528\u6237\u6d4f\u89c8\u7528\u6237\u4eec\u4fe1\u606f,\u4f60\u53ef\u4ee5\u521b\u5efa\u7528\u6237\u9875\u9762,\u5217\u51fa\u6240\u6709\u7528\u6237\u7684\u5217\u8868.\u5982\u679c\u70b9\u51fb\u4e00\u4e2a\u7528\u6237\u9875\u9762,\u4f60\u5c06\u4f1a\u770b\u5230\u5b83\u4eec\u7684\u4e2a\u4eba\u4fe1\u606f(\u4f46\u662f\u7528\u6237\u53ea\u80fd\u66f4\u6539\u5b83\u4eec\u81ea\u5df1\u7684\u4fe1\u606f).\n\n\n17 \u4ee3\u7801\u548c\u63d0\u793a\n\n\n\u5982\u679c\u4f60\u80fd\u591f\u6839\u636e\u6211\u4eec\u4e0a\u4e00\u7ae0\u7684\u63d0\u793a\u5b8c\u6210\u7ec3\u4e60\u5c31\u592a\u597d\u4e86,\u5982\u679c\u4e0d\u80fd\u7684\u8bdd\u8fd9\u7ae0\u5c06\u4f1a\u7ed9\u4f60\u4e00\u4e9b\u63d0\u793a\u548c\u4ee3\u7801\u6765\u5e2e\u52a9\u4f60\u5b8c\u6210.\n\n\n17.1 \u8ddf\u8e2a\u9875\u9762\u70b9\u51fb\n\n\n\u76ee\u524dRango\u76f4\u63a5\u63d0\u4f9b\u4e86\u5916\u90e8\u9875\u9762\u7684\u94fe\u63a5.\u5bf9\u4e8e\u8981\u7edf\u8ba1\u6bcf\u4e2a\u9875\u9762\u70b9\u51fb\u548c\u6d4f\u89c8\u6b21\u6570\u5f88\u4e0d\u5229.\u4e3a\u4e86\u8ba1\u7b97\u901a\u8fc7Rango\u6d4f\u89c8\u4e00\u4e2a\u9875\u9762\u7684\u6b21\u6570\u4f60\u9700\u8981\u5b8c\u6210\u4e0b\u9762\u51e0\u4e2a\u6b65\u9aa4.\n\n\n17.1.1 \u521b\u5efaURL\u8ddf\u8e2a\u89c6\u56fe\n\n\n\u5728\n/rango/views.py\n\u91cc\u521b\u5efa\u4e00\u4e2a\u53eb\u505a\ntrack_url()\n\u7684\u65b0\u89c6\u56fe,\u5b83\u5c06\u4f1a\u83b7\u53d6HTTP\nGET\n\u8bf7\u6c42\u7684\u53c2\u6570(\u4f8b\u5982\nrango/goto/?page_id=1\n)\u5e76\u4e14\u4fee\u6539\u6d4f\u89c8\u9875\u9762\u7684\u6b21\u6570.\n\n\nfrom django.shortcuts import redirect\n\ndef track_url(request):\n    page_id = None\n    url = '/rango/'\n    if request.method == 'GET':\n        if 'page_id' in request.GET:\n            page_id = request.GET['page_id']\n            try:\n                page = Page.objects.get(id=page_id)\n                page.views = page.views + 1\n                page.save()\n                url = page.url\n            except:\n                pass\n\n    return redirect(url)\n\n\n\n\n\u786e\u4fdd\u5728\nviews.py\n\u6587\u4ef6\u91cc\u5f15\u5165\u4e86\nredirect()\n\u51fd\u6570.\n\n\nfrom django.shortcuts import redirect\n\n\n\n\n17.1.2 \u6620\u5c04URL\n\n\n\u5728\n/rango/urls.py\n\u91cc\u4e3a\nurlpatterns\n\u5143\u7ec4\u589e\u52a0\u4e0b\u5217\u4ee3\u7801.\n\n\nurl(r'^goto/$', views.track_url, name='goto'),\n\n\n\n\n17.1.3 \u4fee\u6539\u76ee\u5f55\u6a21\u677f\n\n\n\u4fee\u6539\ncategory.html\n\u6a21\u677f\u7684\u94fe\u63a5,\u4f7f\u7528\u6237\u70b9\u51fb\u65f6\u8bbf\u95ee\nrango/goto/?page_id=XXX\n\u800c\u4e0d\u662f\u76f4\u63a5\u8bbf\u95ee\u94fe\u63a5\n\n\n{% for page in pages %}\n            \nli\n\n            \na href=\n{% url 'goto' %}?page_id={{page.id}}\n{{ page.title }}\n/a\n\n        {% if page.views \n 1 %}\n            ({{ page.views }} views)\n            {% elif page.views == 1 %}\n            ({{ page.views }} view)\n        {% endif %}\n            \n/li\n\n{% endfor %}\n\n\n\n\n\u5728\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u5728\u6a21\u677f\u91cc\u6211\u4eec\u6dfb\u52a0\u4e86\u4e00\u4e9b\u63a7\u5236\u8bed\u53e5\u6765\u5c55\u793a\nview\n,\nviews\n\u6216\u8005\u4ec0\u4e48\u4e5f\u4e0d\u5c55\u793a,\u8fd9\u4f9d\u8d56\u4e8e\npage.views\n\u7684\u503c.\n\n\n17.1.4 \u4fee\u6539\u76ee\u5f55\u89c6\u56fe\n\n\n\u56e0\u4e3a\u6211\u4eec\u6211\u4eec\u9700\u8981\u8ffd\u8e2a\u70b9\u51fb\u6570,\u4f60\u9700\u8981\u4fee\u6539\ncategory()\n\u89c6\u56fe\u4f7f\u9875\u9762\u6309\u7167\u6d4f\u89c8\u6b21\u6570\u6392\u5e8f,\u4f8b\u5982:\n\n\npages = Page.objects.filter(category=category).order_by('-views')\n\n\n\n\n\u73b0\u5728\u53ef\u4ee5\u70b9\u51fb\u4ee5\u4e0b\u94fe\u63a5,\u7136\u540e\u56de\u5230\u76ee\u5f55\u9875\u68c0\u67e5\u4e00\u4e0b\u662f\u5426\u6b63\u5e38\u5de5\u4f5c.\u4e0d\u8981\u5fd8\u8bb0\u5237\u65b0\u6216\u8005\u70b9\u51fb\u5176\u4ed6\u76ee\u5f55\u6765\u67e5\u770b\u9875\u9762\u7684\u66f4\u6539.\n\n\n17.2 \u5728\u76ee\u5f55\u9875\u641c\u7d22\n\n\n\u6211\u4eec\u9996\u5148\u9700\u8981\u79fb\u9664\u5148\u524d\u6dfb\u52a0\u7684\u641c\u7d22\u529f\u80fd\u7136\u540e\u53ea\u8ba9\u7528\u6237\u5728\u76ee\u5f55\u9875\u9762\u8fdb\u884c\u641c\u7d22.\u8fd9\u610f\u5473\u7740\u6211\u4eec\u9700\u8981\u5220\u9664\u73b0\u5728\u7684\u641c\u7d22\u9875\u9762\u548c\u641c\u7d22\u89c6\u56fe.\u6211\u4eec\u9700\u8981\u5b8c\u6210\u4e0b\u9762\u7684\u6b65\u9aa4.\n\n\n17.2.1 \u79fb\u9664\u641c\u7d22\n\n\n\u628a\nsearch.html\n\u4ee3\u7801\u653e\u5165\ncategory.html\n\u4e2d.\u786e\u5b9a\naction\n\u6307\u5411\ncategory()\n\u89c6\u56fe.\n\n\nform class=\nform-inline\n id=\nuser_form\n method=\npost\n action=\n{% url 'category'  category.slug %}\n\n     {% csrf_token %}\n     \n!-- Display the search form elements here --\n\n     \ninput class=\nform-control\n type=\ntext\n size=\n50\n name=\nquery\n value=\n{{query}}\n id=\nquery\n /\n\n     \ninput class=\nbtn btn-primary\n type=\nsubmit\n name=\nsubmit\n value=\nSearch\n /\n\n\n/form\n\n\n\n\n\n\u5728\u5e95\u90e8\u6dfb\u52a0\ndiv\n\u6765\u5b58\u653e\u641c\u7d22\u7ed3\u679c.\n\n\ndiv class=\npanel\n\n        {% if result_list %}\n        \ndiv class=\npanel-heading\n\n                \nh3 class=\npanel-title\nResults\n/h3\n\n                \n!-- Display search results in an ordered list --\n\n                \ndiv class=\npanel-body\n\n                \ndiv class=\nlist-group\n\n                        {% for result in result_list %}\n                    \ndiv class=\nlist-group-item\n\n                        \nh4 class=\nlist-group-item-heading\na href=\n{{ result.link }}\n{{ result.title }}\n/a\n/h4\n\n                        \np class=\nlist-group-item-text\n{{ result.summary }}\n/p\n\n                    \n/div\n\n                {% endfor %}\n            \n/div\n\n        \n/div\n\n    {% endif %}\n\n/div\n\n\n\n\n\n17.2.3 \u4fee\u6539\u76ee\u5f55\u89c6\u56fe\n\n\n\u4fee\u6539category\u89c6\u56fe\u6765\u6d3b\u7684HTTP\nPOST\n\u8bf7\u6c42(\u4f8b\u5982\u5f53\u7528\u6237\u63d0\u4ea4\u4e00\u4e2a\u641c\u7d22)\u5e76\u4e14\u628a\u7ed3\u679c\u5217\u8868\u5b58\u5165\u4e0a\u4e0b\u6587\u4e2d.\u4e0b\u9762\u7684\u4ee3\u7801\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd.\n\n\ndef category(request, category_name_slug):\n    context_dict = {}\n    context_dict['result_list'] = None\n    context_dict['query'] = None\n    if request.method == 'POST':\n        query = request.POST['query'].strip()\n\n        if query:\n            # Run our Bing function to get the results list!\n            result_list = run_query(query)\n\n            context_dict['result_list'] = result_list\n            context_dict['query'] = query\n\n    try:\n        category = Category.objects.get(slug=category_name_slug)\n        context_dict['category_name'] = category.name\n        pages = Page.objects.filter(category=category).order_by('-views')\n        context_dict['pages'] = pages\n        context_dict['category'] = category\n    except Category.DoesNotExist:\n        pass\n\n    if not context_dict['query']:\n        context_dict['query'] = category.name\n\n    return render(request, 'rango/category.html', context_dict)\n\n\n\n\n\u6ce8\u610f\u5230\u5728\u6211\u4eec\u4f20\u9012\u7684\ncontext_dict\n\u5b57\u5178\u91cc\u6211\u4eec\u5305\u542b\u4e86\nresut_list\n\u548c\nquery\n,\u5982\u679c\u6ca1\u6709\u8bf7\u6c42,\u6211\u4eec\u5c06\u63d0\u4f9b\u4e00\u4e2a\u9ed8\u8ba4\u7684\u8bf7\u6c42,\u4f8b\u5982\u76ee\u5f55\u540d.\u7136\u540e\u8bf7\u6c42\u6846\u4f1a\u73b0\u5b9e\u8fd9\u4e2a\u53d8\u91cf.\n\n\n18 JQuery\u548cDjango\n\n\nJQuery\u662f\u96c6\u6210\u4e86Javascript\u4e00\u4e9b\u5b9e\u7528\u529f\u80fd\u7684\u5e93.\u51e0\u884cJQuery\u53ef\u4ee5\u4ee3\u66ff\u51e0\u767e\u884c\u7684javascript\u4ee3\u7801.JQuery\u63d0\u4f9b\u4e86\u4e00\u6574\u5957\u64cd\u4f5cHTML\u5143\u7d20\u7684\u51fd\u6570.\u5728\u672c\u7ae0,\u6211\u4eec\u5c06\u4f1a:\n\n\n\n\n\u5982\u4f55\u5728Django\u5e94\u7528\u91cc\u4f7f\u7528JQuery\n\n\n\u5411\u4f60\u9610\u91ca\u5982\u4f55\u4e0eJQuery\u4ee3\u7801\u4ea4\u4e92\n\n\n\u63d0\u4f9b\u4e00\u4e9b\u5c0f\u4f8b\u5b50\n\n\n\n\n18.1 \u5728\u4f60\u7684Django\u9879\u76ee/\u5e94\u7528\u91cc\u4f7f\u7528JQuery\n\n\n\u5728\u4f60\u7684\u57fa\u7840\u6a21\u677f\u91cc\u52a0\u5165\u4e0b\u9762:\n\n\n{% load staticfiles %}\n\n\nscript src=\n{% static \njs/jquery-1.11.1.js\n %}\n/script\n\n\nscript src=\n{% static \njs/rango-jquery.js\n %}\n/script\n\n\n\n\n\n\u8fd9\u91cc\u6211\u4eec\u5047\u8bbe\u4f60\u5df2\u7ecf\u4e0b\u8f7d\u4e86JQuery\u5e93,\u4f46\u662f\u4f60\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5f15\u7528\u5b83\u4eec:\n\n\nscript src=\nhttps://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\n/script\n\n\n\n\n\n\u786e\u5b9a\u4f60\u5df2\u7ecf\u8bbe\u7f6e\u4e86\u9759\u6001\u6587\u4ef6(\u53c2\u770b\n\u7b2c4\u7ae0\n)\n\n\n\u5728\u9759\u6001\u6587\u4ef6\u5939\u521b\u5efa\njs\n\u76ee\u5f55,\u7136\u540e\u628aJQuery\u6587\u4ef6(jquery.js)\u653e\u5165\u8fd9\u91cc,\u540c\u65f6\u521b\u5efa\u4e00\u4e2a\u53eb\u505a\nrango-jquery.js\n\u7684\u6587\u4ef6,\u6211\u4eec\u5c06\u4f1a\u5728\u8fd9\u91cc\u5199\u5165javascript\u4ee3\u7801.\u5728\nrango-jquery.js\n\u91cc\u6dfb\u52a0\u4e0b\u9762:\n\n\n$(document).ready(function() {\n\n        // JQuery code to be added in here.\n\n        });\n\n\n\n\n\u8fd9\u6bb5javascript\u4ee3\u7801\u4f1a\u9996\u5148\u9009\u62e9\u4e00\u4e2a\u6587\u6863\u5bf9\u8c61(\u4f7f\u7528\n$(document)\n),\u7136\u540e\u8c03\u7528\nready()\n.\u4e00\u65e6\u6587\u6863\u51c6\u5907\u597d(\u4f8b\u5982,\u6574\u4e2a\u9875\u9762\u52a0\u8f7d\u5b8c\u6bd5),\u8fd9\u4e2a\nfunction(){}\n\u533f\u540d\u51fd\u6570\u5305\u542b\u7684\u5185\u5bb9\u4f1a\u88ab\u6267\u884c.\u8fd9\u662f\u975e\u5e38\u5e38\u7528\u7684\u65b9\u6cd5,\u5b83\u4f1a\u79fb\u690d\u7b49\u5230\u6587\u6863\u5168\u90e8\u8f7d\u5165\u5b8c\u6bd5\u518d\u6267\u884cJQuery\u51fd\u6570.\u5426\u5219\u7684\u8bdd,\u4ee3\u7801\u5c31\u4f1a\u5c1d\u8bd5\u6267\u884c,\u4f46\u662f\u8fd9\u65f6\u5019HTML\u6587\u6863\u6216\u8bb8\u8fd8\u6ca1\u6709\u4e0b\u8f7d\u5b8c\u6bd5(\u67e5\u770bhttp://api.jquery.com/ready/)\n\n\n18.1.1 \u4ee3\u7801\u98ce\u683c\n\n\n\u548c\u4f20\u7edf\u7684javascript\u4fa7\u91cd\u8fc7\u7a0b\u53d8\u6210\u4e0d\u4e00\u6837,JQuery\u8981\u6c42\u4f7f\u7528\u4fa7\u91cd\u529f\u80fd\u7684\u7f16\u7a0b\u98ce\u683c.\u5bf9\u4e8e\u6240\u6709\u7684JQuery\u547d\u4ee4,\u5b83\u4eec\u9075\u5faa\u76f8\u540c\u7684\u5f62\u5f0f:\u9009\u62e9\u548c\u884c\u4e3a.\u9009\u62e9\u4e00\u4e2a\u5143\u7d20\u548c\u65e9\u505a\u4e00\u4e2a\u5143\u7d20.\u6240\u4ee5\u6700\u597d\u8bb0\u4f4f\u5b83.\u8fd9\u91cc\u63d0\u4f9b\u4e86\u8bb8\u591a\u4e0d\u540c\u7684\u9009\u62e9\u64cd\u4f5c\u7b26\u548c\u4e0d\u540c\u7684\u52a8\u4f5c.\u5728\u4e0b\u4e00\u90e8\u5206\u6211\u4eec\u5c06\u4f1a\u4f7f\u7528\u4e00\u4e9bJQuery\u51fd\u6570\u6765\u65e9\u505aHTML\u5143\u7d20.\n\n\n18.2 \u70b9\u51fb\u5f39\u51fa\u6846\u7684\u4f8b\u5b50\n\n\n\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d,\u6211\u4eec\u60f3\u8981\u5c55\u793a\u4f7f\u7528Javascript\u548cJQuery\u5b8c\u6210\u76f8\u540c\u7684\u529f\u80fd,\u4ee5\u5bf9\u6bd4\u5b83\u4eec\u7684\u4e0d\u540c\u4e4b\u5904.\n\n\n\u5728\u4f60\u7684\nabout.html\n\u6a21\u677f,\u52a0\u5165\u4e0b\u9762\u4ee3\u7801:\n\n\nbutton onClick=\nalert('You clicked the button using Javascript.');\n\n       Click Me - I run Javascript\n\n/button\n\n\n\n\n\n\u6211\u4eec\u5728\u6309\u94ae\nonClick\n\u4e8b\u4ef6\u4e2d\u52a0\u5165\nalert()\n\u51fd\u6570.\u52a0\u8f7d\nabout\n\u9875\u9762,\u8bd5\u4e00\u8bd5.\n\n\n\u73b0\u5728\u5bb9\u6211\u4eec\u7528JQuery\u52a0\u5165\u53e6\u4e00\u4e2a\u6309\u94ae:\n\n\nbutton id=\nabout-btn\n Click Me - I'm Javascript on Speed\n/button\n\n\n\np\nThis is a example\n/p\n\n\n\np\nThis is another example\n/p\n\n\n\n\n\n\u73b0\u5728\u8fd9\u4e2a\u6309\u94ae\u8fd8\u6ca1\u6709\u5173\u8054javascript\u4ee3\u7801.\u4e0b\u9762\u6211\u4eec\u5c06\u4f1a\u5728\nrango-jquery.js\n\u589e\u52a0\u5982\u4e0b\u4ee3\u7801:\n\n\n$(document).ready( function() {\n\n    $(\n#about-btn\n).click( function(event) {\n        alert(\nYou clicked the button using JQuery!\n);\n    });\n});\n\n\n\n\n\u52a0\u8f7d\u9875\u9762\u5c1d\u8bd5\u4e00\u4e0b.\u5982\u679c\u987a\u5229\u7684\u8bdd\u70b9\u51fb\u4e24\u4e2a\u6309\u94ae\u90fd\u5c06\u4f1a\u5f39\u51fa\u4f1a\u8bdd.\n\n\n\u8fd9\u4e2aJQuery/Javascript\u4ee3\u7801,\u9996\u5148\u4f1a\u9009\u62e9\u6587\u6863\u5bf9\u8c61,\u5f53\u9875\u9762\u52a0\u8f7d\u5b8c\u6bd5\u4ee5\u540e,\u4f1a\u6267\u884c\u91cc\u9762\u7684\u4ee3\u7801,\u4f8b\u5982\n$(\"#about-btn\").click()\n,\u5b83\u5c06\u4f1a\u9009\u62e9\u9875\u9762\u4e2did\u7b49\u4e8e\nabout-btn\n\u7684\u5143\u7d20,\u7136\u540e\u4f1a\u8bbe\u7f6e\u70b9\u51fb\u4e8b\u4ef6\u542f\u7528\nalert()\n\u51fd\u6570.\n\n\n\u770b\u4e86\u4e0a\u9762\u7684\u4f8b\u5b50\u4f60\u6216\u8bb8\u4f1a\u60f3JQuery\u592a\u7b28\u91cd\u4e86,\u505a\u540c\u6837\u7684\u4e8b\u9700\u8981\u66f4\u591a\u7684\u4ee3\u7801.\u5bf9\u4e8e\u7b80\u5355\u7684\u50cf\nalert()\n\u8fd9\u6837\u7684\u51fd\u6570\u6216\u8bb8\u662f\u771f\u7684,\u4f46\u662f\u5982\u679c\u9762\u5bf9\u590d\u6742\u7684\u529f\u80fd\u5b83\u66f4\u9002\u7528,\u5b83\u4f1a\u4f7fJQuery/Javascript\u4ee3\u7801\u4fdd\u5b58\u5728\u4e0d\u540c\u7684\u6587\u4ef6(\u5b8c\u5168\u7684!!).\u8fd9\u662f\u56e0\u4e3a\u53ea\u662f\u5728\u8fd0\u884c\u7684\u65f6\u5019\u8bbe\u7f6e\u4e8b\u4ef6\u51fa\u53d1\u800c\u4e0d\u662f\u9759\u6001\u7684\u5199\u5728\u4ee3\u7801\u91cc.\u8fd9\u6837\u6211\u4eec\u5c31\u6210\u529f\u7684\u5206\u79bb\u4e86JQuery/javascript\u548cHTML\u4ee3\u7801.\n\n\n\n\nNote\n\n\nCSS,JAVASCRIPT\u548cHTML,\u4f60\u4e5f\u9700\u8981\u4fdd\u6301\u5b83\u4eec\u5206\u79bb!\n\n\n\n\n18.3 \u9009\u62e9\u5668\n\n\n\u5728JQuery\u91cc\u6709\u8bb8\u591a\u4e0d\u540c\u7684\u65b9\u5f0f\u6765\u9009\u62e9\u5143\u7d20.\u4ece\u4e0a\u9762\u7684\u4f8b\u5b50\u5c55\u793a\u4e86\u5982\u4f55\u4f7f\u7528\n#\n\u6765\u5728HTML\u6587\u6863\u91cc\u627e\u5230\nid\n\u5143\u7d20.\u67e5\u627e\u7c7b\u65f6,\u4f60\u53ef\u4ee5\u4f7f\u7528\n.\n,\u4f8b\u5982:\n\n\n$(\n.ouch\n).click( function(event) {\n           alert(\nYou clicked me! ouch!\n);\n});\n\n\n\n\n\u6240\u6709\u542b\u6709\nclass=\"ouch\"\n\u7684\u5143\u7d20\u5c06\u88ab\u9009\u62e9,\u7136\u540e\u8bbe\u7f6e\u4e00\u4e2a\u70b9\u51fb\u4e8b\u4ef6\u89e6\u53d1\nalert()\n\u51fd\u6570.\u6ce8\u610f\u6240\u6709\u7684\u5143\u7d20\u90fd\u5c06\u4f1a\u8bbe\u7f6e\u76f8\u540c\u7684\u51fd\u6570.\n\n\nHTML\u6807\u7b7e\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u5668\u8fdb\u884c\u9009\u62e9:\n\n\n$(\np\n).hover( function() {\n            $(this).css('color', 'red');\n    },\n    function() {\n            $(this).css('color', 'blue');\n    });\n\n\n\n\n\u8fd9\u91cc\u6211\u4eec\u9009\u62e9\u4e86HTML\u91cc\u6240\u6709\u7684\np\n\u5143\u7d20,\u5e76\u5173\u8054\u4e86\u4e24\u4e2a\u51fd\u6570,\u4e00\u4e2a\u662f\u6d6e\u52a8\u72b6\u6001\u53e6\u4e00\u4e2a\u662f\u975e\u6d6e\u52a8\u72b6\u6001.\u53ef\u4ee5\u770b\u5230\u4f7f\u7528\u4e86\u53e6\u4e00\u4e2a\u53eb\u505a\nthis\n\u7684\u9009\u62e9\u5668,\u5b83\u4f1a\u9009\u62e9\u5148\u524d\u9009\u8fc7\u7684\u5143\u7d20\u7136\u540e\u5206\u522b\u8bbe\u7f6e\u4e3a\u7ea2\u8272\u6216\u84dd\u8272.\u6ce8\u610f,JQuery\nhover()\n\u51fd\u6570\u91cc\u5305\u542b\u4e24\u4e2a\u51fd\u6570(\u67e5\u770b http://api.jquery.com/hover/ ),\nclick()\n\u9700\u8981\u4f20\u9012\u4e8b\u4ef6(\u67e5\u770b http://api.jquery.com/click/ ).\n\n\n\u8bd5\u7740\u5728\nrango-jquery.js\n\u91cc\u52a0\u5165\u4e0a\u9762\u4ee3\u7801,\u786e\u4fdd\u5b83\u4eec\u5305\u542b\u5728\n$(document).ready()\n\u51fd\u6570\u91cc.\u8bd5\u60f3\u4e00\u4e0b\u5982\u679c\u628a\n$(this)\n\u6539\u6210\n$(p)\n\u4f1a\u600e\u4e48\u6837?\n\n\n\u6d6e\u52a8\u662f\u4e00\u4e2a\u9f20\u6807\u4e8b\u4ef6\u7b80\u5355\u7684\u4f8b\u5b50,\u83b7\u53d6\u66f4\u591a\u4fe1\u606f\u8bf7\u770b: http://api.jquery.com/category/events/mouse-events/ .\n\n\n18.4 \u64cd\u4f5cDOM\u5b9e\u4f8b\n\n\n\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\u6211\u4eec\u4f7f\u7528\nhover\n\u51fd\u6570\u6765\u8bbe\u7f6e\u6d6e\u52a8\u4e8b\u4ef6\u7684\u89e6\u53d1,\u7136\u540e\u4f7f\u7528\ncss\n\u51fd\u6570\u6765\u6539\u53d8\u5143\u7d20\u7684\u989c\u8272.\u8fd9\u4e2a\ncss\n\u662f\u64cd\u4f5cDOM\u7684\u4e00\u4e2a\u4f8b\u5b50,\u7136\u800c\u6807\u51c6JQuery\u5e93\u63d0\u4f9b\u4e86\u8bb8\u591a\u5176\u4ed6\u65b9\u6cd5\u6765\u64cd\u4f5cDOM.\u4f8b\u5982\u6211\u4eec\u4f7f\u7528\naddClass\n\u51fd\u6570\u4e3a\u5143\u7d20\u6dfb\u52a0\u7c7b:\n\n\n$(\n#about-btn\n).addClass('btn btn-primary')\n\n\n\n\n\u5b83\u5c06\u4f1a\u9009\u62e9id\u4e3a\n#about-btn\n\u7684\u5143\u7d20\u5e76\u4e14\u8bbe\u7f6e\nbtn\n\u548c\nbtn-primary\n\u7c7b.\u52a0\u5165\u4e0a\u9762\u7684\u4ee3\u7801\u540e,\u5b83\u4f1a\u6539\u53d8\u6309\u94ae\u4e3aBootstrap\u6837\u5f0f(\u5982\u679c\u4f60\u4f7f\u7528\u4e86Bootstrap\u5957\u4ef6).\n\n\n\u6211\u4eec\u8fd8\u53ef\u4ee5\u9009\u62e9\u7279\u5b9a\u5143\u7d20.\u4f8b\u5982,\u8ba9\u6211\u4eec\u5728\nabout.html\n\u52a0\u5165\u4e00\u4e2a\ndiv\n:\n\n\ndiv id=\nmsg\nHello\n/div\n\n\n\n\n\n\u7136\u540e\u5728\nrango-jquery.js\n\u4e2d\u52a0\u5165\u4e0b\u9762\u4ee3\u7801:\n\n\n$(\n#about-btn\n).click( function(event) {\nmsgstr = $(\n#msg\n).html()\n        msgstr = msgstr + \no\n\n        $(\n#msg\n).html(msgstr)\n });\n\n\n\n\n\u5f53\u70b9\u51fb\u4e86id\u4e3a\n#about-btn\n\u7684\u6309\u94ae,\u6211\u4eec\u9996\u5148\u5f97\u5230\u5728\u5176\u4e2did\u4e3a\nmsg\n\u7684\u5143\u7d20\u5e76\u4e14\u6dfb\u52a0\u4e00\u4e2a\"o\".\u7136\u540e\u901a\u8fc7\u518d\u6b21\u8c03\u7528\nhtml\n\u51fd\u6570\u6539\u53d8html\u91cc\u7684\u5143\u7d20,\u4f46\u662f\u8fd9\u6b21\u7684\u4f5c\u7528\u662f\u7528\nmsgstr\n\u4ee3\u66ffhtml\u91cc\u7684\u5143\u7d20.\n\n\n\u5728\u8fd9\u7ae0\u91cc\u6211\u4eec\u7b80\u5355\u7684\u4ecb\u7ecd\u4e86\u5982\u4f55\u5728Django\u5e94\u7528\u91cc\u4f7f\u7528JQuery.\u73b0\u5728\u4f60\u5e94\u5f53\u5df2\u7ecf\u77e5\u9053\u4e86\u5982\u4f55\u4f7f\u7528JQuery,\u5e76\u4e14\u90fd\u6536\u9a8c\u8bc1\u4e86JQuery\u63d0\u4f9b\u7684\u51e0\u4e2a\u529f\u80fd(\u67e5\u770b http://jquery.com ).\u5728\u4e0b\u4e00\u7ae0,\u6211\u4eec\u5c06\u4f1a\u4f7f\u7528JQuery\u6765\u5e2e\u52a9\u6211\u4eec\u5b9e\u73b0AJAX\u529f\u80fd.\n\n\n19 \u4f7f\u7528AJAX\n\n\nAJAX\u662f\u4e00\u79cd\u6df7\u5408\u6280\u672f,\u5b83\u53ef\u4ee5\u51cf\u5c11\u9875\u9762\u52a0\u8f7d\u7684\u6570\u91cf.\u4ee3\u66ff\u4e86\u4ee5\u5f80\u7684\u52a0\u8f7d\u5168\u90e8\u9875\u9762,AJAX\u53ef\u4ee5\u4f7f\u4e00\u90e8\u5206\u9875\u9762\u6216\u8005\u6570\u636e\u8fdb\u884c\u91cd\u8f7d.\u5982\u679c\u4f60\u4ece\u6765\u6ca1\u6709\u4f7f\u7528\u8fc7AJAX\u6216\u8005\u4f60\u60f3\u5728\u4f7f\u7528\u4e4b\u524d\u591a\u591a\u4e86\u89e3\u4e00\u4e0b,\u53ef\u4ee5\u67e5\u770b\u8fd9\u4e2a\u7f51\u7ad9: https://developer.mozilla.org/en-US/docs/AJAX\n\n\n\u4e3a\u4e86\u7b80\u5316AJAX\u8bf7\u6c42,\u6211\u4eec\u4f7f\u7528JQuery\u5e93.\u6ce8\u610f,\u5982\u679c\u4f60\u4f7f\u7528\u4e86Twitter CSS Bootstrap\u5957\u4ef6,\u90a3\u4e48\u4ed6\u5df2\u7ecf\u52a0\u5165\u4e86JQuery.\u5426\u5219\u7684\u8bdd,\u4e0b\u8f7dJQuery\u6700\u8fd1\u7684\u7248\u672c\u7136\u540e\u52a0\u5165\u5230\u4f60\u7684\u5e94\u7528\u91cc(\u67e5\u770b..).\n\n\n19.1 AJAX\u57fa\u672c\u529f\u80fd\n\n\n\u4e3a\u4e86\u4f7f\u6211\u4eec\u65e0\u7f1d\u7684\u548cRango\u8fdb\u884c\u4ea4\u4e92,\u8ba9\u6211\u4eec\u7528AJAX\u52a0\u5165\u4e00\u4e9b\u7279\u6027,\u4f8b\u5982:\n\n\n\n\n\u589e\u52a0\"Like Button\"\u8ba9\u6ce8\u518c\u7528\u6237\u53ef\u4ee5\"like\"\u4e00\u4e2a\u7279\u6b8a\u7684\u76ee\u5f55\n\n\n\u589e\u52a0\u4e00\u4e2a\u884c\u5185\u7684\u76ee\u5f55\u5efa\u8bae - \u8fd9\u6837\u5f53\u7528\u6237\u952e\u5165\u7684\u65f6\u5019\u5c31\u80fd\u5f88\u5feb\u7684\u627e\u5230\u76ee\u5f55\n\n\n\u589e\u52a0\"Add Button\"\u4f7f\u7528\u6237\u5feb\u901f\u7684\u65b9\u4fbf\u7684\u4e3a\u76ee\u5f55\u6dfb\u52a0\u9875\u9762\n\n\n\n\n\u521b\u5efa\nrango-ajax.js\n\u6587\u4ef6\u5e76\u653e\u5165\u5230\njs\n\u76ee\u5f55.\u7136\u540e\u5728\u4f60\u7684\u57fa\u7840\u6a21\u677f\u91cc:\n\n\nscript src=\n{% static \njs/jquery.js\n %}\n/script\n\n\nscript src=\n{% static \njs/rango-ajax.js\n %}\n/script\n\n\n\n\n\n\u8fd9\u91cc\u6211\u4eec\u5047\u8bbe\u4f60\u5df2\u7ecf\u4e0b\u8f7d\u4e86JQuery\u5e93,\u4f46\u662f\u5982\u679c\u6ca1\u6709\u7684\u8bdd\u53ef\u4ee5\u76f4\u63a5\u5f15\u7528:\n\n\nscript src=\nhttps://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\n/script\n\n\n\n\n\n\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u5b8c\u6210\u52a0\u5165JQuery\u7684\u51c6\u5907\u5de5\u4f5c.\n\n\n19.2 \u589e\u52a0\"Like Button\"\n\n\n\u5bf9\u4e8e\u6ce8\u518c\u7528\u6237\u53ef\u4ee5\u6807\u8bb0\"like\"\u4e00\u4e2a\u76ee\u5f55\u662f\u5f88\u53cb\u597d\u7684.\u63a5\u4e0b\u6765,\u6211\u4eec\u5c06\u8ba9\u7528\u6237\"like\"\u76ee\u5f55,\u4f46\u662f\u6211\u4eec\u5c06\u4e0d\u4f1a\u8ddf\u8e2a\u7528\u6237\u5df2\u7ecf\"like\"\u7684\u76ee\u5f55,\u6211\u4eec\u76f8\u4fe1\u7528\u6237\u4e0d\u4f1a\u91cd\u590d\u70b9\u51fb\u559c\u6b22\u6309\u94ae.\n\n\n19.2.1 \u5de5\u4f5c\u6d41\u7a0b\n\n\n\u4e3a\u4e86\u8ba9\u7528\u6237\"like\"\u7279\u5b9a\u7684\u76ee\u5f55\u9700\u8981\u4ee5\u4e0b\u6b65\u9aa4:\n\n\n\n\n\u5728\ncateegory.html\n\u6a21\u677f:\n\n\n\u589e\u52a0\"like\"\u6309\u94ae\u5e76\u4e14\u4f7f\u7528\nid=\"like\"\n.\n\n\n\u589e\u52a0\u4e00\u4e2a\u6a21\u677f\u6807\u7b7e\u6765\u5c55\u793a\u559c\u6b22\u7684\u6570\u91cf:\n{{% category.likes %}}\n\n\n\u6dfb\u52a0\u4e00\u4e2a\ndiv\n\u5e76\u4f7f\u7528\nid=\"like_count\"\n,\u4f8b\u5982: \ndiv id=\"like_count\"\n{{ category.likes }} \n/div\n\n\n\u8bbe\u7f6e\u5b8c\u540e\u6a21\u677f\u4f1a\u83b7\u53d6\u559c\u6b22\u5e76\u4e14\u5c55\u793a\u559c\u6b22\u7684\u76ee\u5f55\n\n\n\u6ce8\u610f,\u56e0\u4e3a\ncategory()\n\u89c6\u56fe\u4f1a\u4f20\u9012\u4e00\u4e2a\u76ee\u5f55\u5bf9\u8c61\u7684\u5f15\u7528,\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\n{{ category.likes }}\n\u6765\u83b7\u53d6\u7528\u6237\u559c\u6b22\u6570\n\n\n\n\n\n\n\u521b\u5efa\nlike_category\n\u89c6\u56fe,\u5b83\u5c06\u4f1a\u68c0\u6d4b\u8bf7\u6c42\u5e76\u53d6\u51fa\ncategory_id\n\u53c2\u6570,\u5e76\u4e14\u589e\u52a0\u559c\u6b22\u76ee\u5f55\u7684\u6570\u76ee.\n\n\n\u4e0d\u8981\u5f80\u5bb6\u589e\u52a0url\u6620\u5c04;\u4f8b\u5982 \u628a\nlike_category\n\u89c6\u56fe\u6620\u5c04\u5230\nrango/like_category/\n.\nGET\n\u8bf7\u6c42\u5c06\u4f1a\u662f\nrango/like_category/?category_id=XXX\n\u6837\u5f0f.\n\n\n\u548c\u4ee5\u5f80\u8fd4\u56deHTML\u9875\u9762\u4e0d\u540c,\u8fd9\u4e2a\u89c6\u56fe\u5c06\u8fd4\u56de\u65b0\u7684\u559c\u6b22\u76ee\u5f55\u603b\u6570.\n\n\n\n\n\n\n\u73b0\u5728\u5728\nrango-ajax.js\n\u6587\u4ef6\u4e2d\u52a0\u5165JQuery\u4ee3\u7801\u6765\u53d1\u9001AJAX\nGET\n\u8bf7\u6c42.\n\n\n\u5982\u679c\u8bf7\u6c42\u6210\u529f, \u4fee\u6539\n#like_count\n\u5143\u7d20\u5e76\u9690\u85cf\u559c\u6b22\u6309\u94ae.\n\n\n\n\n\n\n\n\n19.2.2 \u4fee\u6539\u76ee\u5f55\u6a21\u677f\n\n\n\u6211\u4eec\u9700\u8981\u6dfb\u52a0\nid=\"like\"\u7684\n\"Like\"\u6309\u94ae,\u5e76\u4e14\u521b\u5efa\u4e00\u4e2a\ndiv\n\u6765\u5c55\u793a\u559c\u6b22\u6570\u91cf\n{{% category.likes %}}\n.\n\n\np\n\n\n\nstrong id=\nlike_count\n{{ category.likes }}\n/strong\n people like this category\n\n{% if user.is_authenticated %}\n        \nbutton id=\nlikes\n data-catid=\n{{category.id}}\n class=\nbtn btn-primary\n type=\nbutton\n\n        \nspan class=\nglyphicon glyphicon-thumbs-up\n/span\n\n        Like\n        \n/button\n\n{% endif %}\n\n\n/p\n\n\n\n\n\n19.2.3 \u521b\u5efa\u559c\u6b22\u76ee\u5f55\u89c6\u56fe\n\n\n\u5728\nrango/views.py\n\u91cc\u521b\u5efa\nlike_category\n\u89c6\u56fe,\u5b83\u4f1a\u68c0\u6d4b\u8bf7\u6c42\u5e76\u62bd\u53d6\u51fa\ncategory_id\n\u7136\u540e\u589e\u52a0\u559c\u6b22\u76ee\u5f55\u7684\u6570\u91cf.\n\n\nfrom django.contrib.auth.decorators import login_required\n\n@login_required\ndef like_category(request):\n\n    cat_id = None\n    if request.method == 'GET':\n        cat_id = request.GET['category_id']\n\n    likes = 0\n    if cat_id:\n        cat = Category.objects.get(id=int(cat_id))\n        if cat:\n            likes = cat.likes + 1\n            cat.likes =  likes\n            cat.save()\n\n    return HttpResponse(likes)\n\n\n\n\n\u8fd9\u91cc\u53ea\u6709\u6ce8\u518c\u7528\u6237\u624d\u6709\u6743\u9650\u6807\u8bb0\u559c\u6b22\u7684\u76ee\u5f55.\u8fd9\u662f\u89c6\u56fe\u5047\u8bbe\u901a\u8fc7\nGET\n\u65b9\u5f0f\u4f20\u9012\u8fdb\u4e00\u4e2a\ncategory_id\n\u53d8\u91cf,\u8fd9\u6837\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u8981\u66f4\u6539\u54ea\u4e2a\u76ee\u5f55.\u5728\u8fd9\u4e2a\u89c6\u56fe\u91cc,\u5982\u679c\u6211\u4eec\u9700\u8981\u7684\u8bdd\u53ef\u4ee5\u8ddf\u8e2a\u548c\u8bb0\u5f55\u7279\u5b9a\u7528\u6237\u559c\u6b22\u7684\u76ee\u5f55 - \u4f46\u662f\u5728\u8fd9\u91cc\u6211\u4eec\u4e3a\u4e86\u4fdd\u6301AJAX\u7b80\u5355\u5c31\u4e0d\u8fd9\u6837\u505a\u4e86.\n\n\n\u4e0d\u8981\u5fd8\u8bb0\u5728\nrango/urls.py\n\u91cc\u589e\u52a0URL\u6620\u5c04.\u4fee\u6539\nurlpatterns\n\u5982\u4e0b:\n\n\nurl(r'^like_category/$', views.like_category, name='like_category'),\n\n\n\n\n19.2.4 \u8bbe\u7f6eAJAX\u8bf7\u6c42\n\n\n\u73b0\u5728\u9700\u8981\u5728\nrango-ajax.js\n\u91cc\u6dfb\u52a0\u4e00\u4e9bJQuery\u4ee3\u7801\u6765\u5b8c\u6210AJAX\nGET\n\u8bf7\u6c42.\u589e\u52a0\u4ee3\u7801\u5982\u4e0b:\n\n\n$('#likes').click(function(){\n    var catid;\n    catid = $(this).attr(\ndata-catid\n);\n    $.get('/rango/like_category/', {category_id: catid}, function(data){\n               $('#like_count').html(data);\n               $('#likes').hide();\n    });\n});\n\n\n\n\n\u8fd9\u6bb5JQuery/Javascript\u4ee3\u7801\u5c06\u4f1a\u5904\u7406id\u4e3a\n#likes\n\u7684\u5143\u7d20,\u4f8b\u5982\u6309\u94ae.\u5f53\u70b9\u51fb\u8fc7\u540e,\u5b83\u5c06\u4f1a\u4ece\u6309\u94ae\u5143\u7d20\u91cc\u62bd\u53d6\u51facategory\u7684id,\u5e76\u628a\ncategory_id\n\u5199\u5165\u4e00\u4e2aAJAX\nGET\n\u8bf7\u6c42\u4e2d,\u8fd9\u4e2a\u8bf7\u6c42\u7684\u5730\u5740\u662f\n/rango/like_category/\n.\u5982\u679c\u8bf7\u6c42\u6210\u529f\u7684\u8bdd,\u8fd9\u4e2aid\u4e3a\nlike_count\n\u7684HTML\u5143\u7d20\u5c06\u4f1a\u66f4\u65b0\u4e3a\u8fd4\u56de\u7684\u5185\u5bb9,\u800cid\u4e3a\nlikes\n\u7684\u6309\u94ae\u5c06\u4f1a\u88ab\u9690\u85cf.\n\n\n\u8fd9\u80cc\u540e\u8fd0\u884c\u7684\u673a\u7406\u6709\u4e9b\u590d\u6742.\u57fa\u672c\u4e0a,\u5f53\u4e00\u4e2a\u6309\u94ae\u88ab\u70b9\u51fb\u540e\u5c31\u4f1a\u751f\u6210\u4e00\u4e2aAJAX\u8bf7\u6c42,\u5b83\u5c06\u4f1a\u6620\u5c04\u5230\u76f8\u5e94\u7684url,\u4f20\u9012\u7ed9\nlike_category\n\u89c6\u56fe,\u6700\u540e\u89c6\u56fe\u5c06\u4f1a\u66f4\u6539\u76ee\u5f55\u5e76\u8fd4\u56de\u65b0\u7684\u559c\u6b22\u6570\u76ee.\u5f53AJAX\u8bf7\u6c42\u5f97\u5230\u54cd\u5e94\u5b83\u5c31\u4f1a\u4fee\u6539\u90e8\u5206\u9875\u9762,\u4f8b\u5982\u6587\u672c\u548c\u6309\u94ae.\n#like\n\u6309\u94ae\u5c06\u4f1a\u88ab\u9690\u85cf.\n\n\n19.3 \u589e\u52a0\u884c\u5185\u76ee\u5f55\u63d0\u793a\n\n\n\u5982\u679c\u6211\u4eec\u63d0\u4f9b\u7ed9\u7528\u6237\u5feb\u901f\u5bfb\u627e\u76ee\u5f55\u7684\u65b9\u6cd5\u90a3\u5c31\u518d\u597d\u4e0d\u8fc7\u4e86,\u800c\u4e0d\u662f\u8ba9\u7528\u6237\u6d4f\u89c8\u5c1d\u5c1d\u7684\u5217\u8868.\u6211\u4eec\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u63d0\u793a\u7ec4\u5efa\u4f7f\u7528\u6237\u8f93\u5165\u4e00\u4e2a\u5b57\u6bcd\u6216\u5355\u8bcd\u7684\u4e00\u90e8\u5206,\u7136\u540e\u4f1a\u8fd4\u56de\u4e00\u4e2a\u63d0\u793a\u76ee\u5f55\u5217\u8868,\u8fd9\u6837\u7528\u6237\u5c31\u53ef\u4ee5\u9009\u62e9\u5b83\u4eec\u4e86.\u968f\u7740\u7528\u6237\u7684\u8f93\u5165\u670d\u52a1\u5668\u8fd4\u56de\u7684\u76ee\u5f55\u5c06\u4f1a\u66f4\u52a0\u63a5\u8fd1\u7528\u6237\u6240\u9700\u8981\u7684.\n\n\n19.3.1 \u5de5\u4f5c\u6d41\u7a0b\n\n\n\u4f60\u9700\u8981\u4ee5\u4e0b\u6b65\u9aa4.\n\n\n\n\n\u521b\u5efa\u4e00\u4e2a\u5e26\u53c2\u51fd\u6570\nget_category_list(max_results=0, starts_with='')\n,\u5982\u679c\nmax_result=0\n\u7684\u8bdd\u5b83\u4f1a\u8fd4\u56de\u6240\u6709\u4ee5\nstarts_with\n\u5f00\u5934\u7684\u76ee\u5f55,\u5426\u5219\u7684\u8bdd\u5b83\u4f1a\u8fd4\u56de\u6700\u591a\nmax_results\n\u4e2a\u76ee\u5f55.\n\n\n\u8fd9\u4e2a\u51fd\u6570\u5c06\u4f1a\u8fd4\u56de\u4e00\u4e2a\u76ee\u5f55\u5bf9\u8c61\u7684\u5217\u8868,\u8fde\u540c\u5b83\u4eec\u5df2\u7ecf\u7f16\u7801\u8fc7\u540e\u7684\nurl\n\u5c5e\u6027.\n\n\n\n\n\n\n\u521b\u5efa\u4e00\u4e2a\u53eb\u505a\nsuggest_category\n\u7684\u89c6\u56fe,\u5b83\u5c06\u4f1a\u68c0\u6d4b\u8bf7\u6c42\u5e76\u62bd\u53d6\u76ee\u5f55\u67e5\u8be2\u8bed\u53e5.\n\n\n\u5047\u8bbe\nGET\n\u8bf7\u6c42\u5df2\u7ecf\u751f\u6210\u5e76\u5c1d\u8bd5\u5f97\u5230\u67e5\u8be2\u5c5e\u6027.\n\n\n\u5982\u679c\u67e5\u8be2\u8bed\u53e5\u975e\u7a7a,\u8be2\u95ee\u76ee\u5f55\u6a21\u578b\u83b7\u53d6\u83b7\u53d68\u4e2a\u6700\u524d\u9762\u7684\u4ee5\u67e5\u8be2\u5b57\u7b26\u4e32\u4e3a\u9996\u7684\u76ee\u5f55.\n\n\n\u8fd9\u4e2a\u76ee\u5f55\u5bf9\u8c61\u5217\u8868\u5c06\u4f1a\u901a\u8fc7\u6a21\u677f\u6574\u5408\u8fdbHTML\u7684\u4e00\u90e8\u5206.\n\n\n\n\n\n\n\u6211\u4eec\u4e0d\u7528\u518d\u65b0\u5efa\u4e00\u4e2a\nsuggestions.html\n\u6a21\u677f\u4e86,\u6211\u4eec\u53ef\u4ee5\u91cd\u7528\ncats.html\n.\u5b83\u53ef\u4ee5\u5c55\u793a\u540c\u6837\u7c7b\u578b\u7684\u6570\u636e.(\u76ee\u5f55)\n\n\n\u8ba9\u5ba2\u6237\u7aef\u8bf7\u6c42\u8fd9\u4e2a\u6570\u636e,\u4f60\u9700\u8981\u521b\u5efa\u4e00\u4e2aURL\u6620\u5c04:\u8ba9\u6211\u4eec\u547d\u540d\u4e3a\ncategory_suggest\n\u597d\u4e86\n\n\n\n\n\u6620\u5c04\u89c6\u56fe\u548c\u6a21\u677f\u540e,\u4f60\u9700\u8981\u4fee\u6539\nbase.html\n\u6a21\u677f\u5e76\u6dfb\u52a0\u4e00\u4e9bjavascript\u4ee3\u7801\u4ee5\u4fbf\u5c55\u793a\u7528\u6237\u8f93\u5165\u7684\u76ee\u5f55.\n\n\n\n\n\u5728\nbase.html\n\u6a21\u677f\u91cc\u4fee\u6539\u4fa7\u8fb9\u680f,\u6dfb\u52a0\u8fdb\u4e00\u4e2a\nid=\"cats\"\n\u7684\ndiv\n\u4ee5\u4fbf\u5448\u73b0\u76ee\u5f55.JQuery/AJAX\u5c06\u4f1a\u4fee\u6539\u8fd9\u4e2a\u5143\u7d20.\n\n\n\u5728\u8fd9\u4e2a\ndiv\n\u4e0a\u9762\u6dfb\u52a0\u4e00\u4e2a\u8f93\u5165\u6846\u4f7f\u7528\u6237\u53ef\u4ee5\u8f93\u5165\u76ee\u5f55\u7684\u5b57\u6bcd,\u4f8b\u5982:\ninput  class=\"input-medium search-query\" type=\"text\" name=\"suggestion\" value=\"\" id=\"suggestion\" /\n\n\n\n\n\n\n\u5f53\u8fd9\u4e9b\u5143\u7d20\u90fd\u6dfb\u52a0\u4fee\u6539\u5b8c\u6bd5,\u4f60\u9700\u8981\u6dfb\u52a0\u4e00\u4e9bJQuery\u4ee3\u7801\u6765\u4fee\u6539\u7528\u6237\u8f93\u5165\u6240\u5448\u73b0\u7684\u76ee\u5f55\u5217\u8868.\n\n\n\u5728\ninput\n\u91cc\u5173\u8054\u4e00\u4e2aid\u4e3a\n\"suggestion\"\n\u7684\u6309\u952e\u4e8b\u4ef6\n\n\n$('#suggestion').keyup(function(){ ... })\n\n\n\u5f53\u6309\u952e\u7ed3\u675f\u62ac\u8d77\u65f6\u8c03\u7528\u4e00\u4e2aajax\u6765\u8bf7\u6c42\u66f4\u65b0\u76ee\u5f55\u5217\u8868\n\n\n\u7136\u540e\u4f7f\u7528JQuery\n.get()\n\u51fd\u6570,\u4f8b\u5982\n$(this).get( ... )\n\n\n\u5982\u679c\u8c03\u7528\u6210\u529f,\u7528\u8fd4\u56de\u7684\u6570\u636e\u66ff\u6362\nid=\"cats\"\n\u7684\ndiv\n.\n\n\n\u8fd9\u91cc\u4f60\u53ef\u4ee5\u4f7f\u7528JQuery\u7684\n.html()\n\u51fd\u6570,\u4f8b\u5982\n$('#cats').html( data )\n\n\n\n\n\n\n\n\n19.3.2  \u53c2\u6570\u5316\u83b7\u53d6\u76ee\u5f55\u5217\u8868\u51fd\u6570\n\n\n\u5728\u8fd9\u4e2a\u51fd\u6570\u7684\u5e2e\u52a9\u4e0b,\u6211\u4eec\u4f7f\u7528\u4e00\u4e2a\u8fc7\u6ee4\u5668\u6765\u67e5\u627e\u4ee5\u63d0\u4f9b\u7684\u5b57\u7b26\u4e32\u5f00\u5934\u7684\u76ee\u5f55.\u6211\u4eec\u5c06\u4f7f\u7528\nistartwith\n\u6765\u8fdb\u884c\u8fc7\u6ee4,\u5b83\u53ef\u4ee5\u786e\u4fdd\u8f93\u5165\u7684\u5927\u5c0f\u5199\u65e0\u5173.\u5982\u679c\u60f3\u4f7f\u7528\u5927\u5c0f\u5199\u76f8\u5173\u90a3\u5c31\u4e45\u4f7f\u7528\nstartswith\n\u6765\u66ff\u4ee3.\n\n\ndef get_category_list(max_results=0, starts_with=''):\n        cat_list = []\n        if starts_with:\n                cat_list = Category.objects.filter(name__istartswith=starts_with)\n\n        if max_results \n 0:\n                if len(cat_list) \n max_results:\n                        cat_list = cat_list[:max_results]\n\n        return cat_list\n\n\n\n\n19.3.4 \u6620\u5c04\u89c6\u56fe\u5230URL\n\n\n\u5728\nrango/urls.py\n\u7684\nurlpatterns\n\u5143\u7ec4\u589e\u52a0\u4ee5\u4e0b:\n\n\nurl(r'^suggest_category/$', views.suggest_category, name='suggest_category'),\n\n\n\n\n19.3.5 \u4fee\u6539\u57fa\u7840\u6a21\u677f\n\n\n\u5728\u57fa\u7840\u6a21\u677f\u7684\u4fa7\u8fb9\u680f\u52a0\u5165\ndiv\n\u5982\u4e0b:\n\n\nul class=\nnav nav-list\n\n        \nli class=\nnav-header\nFind a Category\n/li\n\n        \nform\n\n        \nlabel\n/label\n\n        \nli\ninput  class=\nsearch-query span10\n type=\ntext\n name=\nsuggestion\n value=\n id=\nsuggestion\n /\n/li\n\n        \n/form\n\n\n/ul\n\n\n\ndiv id=\ncats\n\n\n/div\n\n\n\n\n\n\u8fd9\u91cc\u6211\u4eec\u52a0\u5165\u4e86\u4e00\u4e2a\nid=\"suggestion\"\n\u7684\u8f93\u5165\u6846\u548c\u4e00\u4e2a\nid=\"cats\"\n\u7684div(\u8fd9\u4e2adiv\u7528\u6765\u5c55\u793a\u8fd4\u56de\u7ed3\u679c).\u6211\u4eec\u8fd9\u91cc\u4e0d\u9700\u8981\u52a0\u5165\u6309\u94ae,\u56e0\u4e3a\u6211\u4eec\u6dfb\u52a0\u4e86\u4e00\u4e2a\u6309\u952e\u62ac\u8d77\u7684\u4e8b\u4ef6,\u89e6\u53d1\u5b83\u53ef\u4ee5\u4f20\u9001\u63d0\u793a\u8bf7\u6c42.\n\n\n19.3.6 \u589e\u52a0AJAX\u8bf7\u6c42\u63d0\u793a\n\n\n\u5728\njs/rango-ajax.js\n\u589e\u52a0\u5982\u4e0b:\n\n\n$('#suggestion').keyup(function(){\n        var query;\n        query = $(this).val();\n        $.get('/rango/suggest_category/', {suggestion: query}, function(data){\n         $('#cats').html(data);\n        });\n});\n\n\n\n\n\u8fd9\u91cc\u6211\u4eec\u7ed1\u5b9a\u4e86\u4e00\u4e2a\nid=\"suggestion\"\n\u7684\u8f93\u5165\u6846\u6765\u6355\u6349\u6309\u952e\u62ac\u8d77\u4e8b\u4ef6.\u5f53\u5b83\u83b7\u53d6\u8f93\u5165\u6846\u7684\u5185\u5bb9\u540e\u4f1a\u628a\u8ba9\u653e\u5165\nquery\n\u53d8\u91cf.\u7136\u540e\u4f1a\u8c03\u7528\u4e00\u4e2aAJAX\nGET\n\u8bf7\u6c42,\u8fd9\u4e2a\u8bf7\u6c42\u91cc\u5305\u542b\nquery\n\u53c2\u6570.\u5982\u679c\u8bf7\u6c42\u6210\u529f,\u8fd9\u4e2a\nid=\"cats\"\n\u7684HTML\u5143\u7d20(div)\u4f1a\u66f4\u65b0\u76ee\u5f55\u5217\u8868.\n\n\n19.4 \u7ec3\u4e60\n\n\n\u4e3a\u4e86\u8ba9\u6ce8\u518c\u7528\u6237\u5feb\u901f\u7b80\u5355\u7684\u6dfb\u52a0\u4e00\u4e2a\u9875\u9762\u5230\u76ee\u5f55\u91cc,\u5728\u6bcf\u4e2a\u641c\u7d22\u7ed3\u679c\u65c1\u8fb9\u6dfb\u52a0\"Add\"\u6309\u94ae.\n\n\n\n\n\u4fee\u6539\ncategory.html\n\u6a21\u677f:\n\n\n\u5728\u6bcf\u4e2a\u641c\u7d22\u7ed3\u679c\u540e\u9762\u52a0\u5165\u4e00\u4e2a\u5c0f\u6309\u94ae(\u5982\u679c\u7528\u6237\u5df2\u7ecf\u9a8c\u8bc1),\u540c\u65f6\u52a0\u5165\u6807\u9898\u548curl\u4fe1\u606f,\u4ee5\u4fbfJQuery\u80fd\u591f\u62bd\u53d6\u51fa\u6765.\n\n\n\u5728\u76ee\u5f55\u7684\u6bcf\u4e2a\u9875\u9762\u90fd\u7528\nid=\"page\"\n\u7684\ndiv\n\u5305\u542b,\u8fd9\u6837\u5f53\u9875\u9762\u589e\u52a0\u7684\u65f6\u5019\u4f1a\u66f4\u65b0.\n\n\n\u5982\u679c\u4f60\u559c\u6b22\u7684\u8bdd\u79fb\u9664\u589e\u52a0\u6309\u94ae\u7684\u94fe\u63a5.\n\n\n\n\n\n\n\u589e\u52a0\u4e00\u4e2a\nauto_add_page\n\u89c6\u56fe,\u5b83\u4f1a\u63a5\u6536\nGET\n\u8bf7\u6c42\u7684\u53c2\u6570(title,utl,catid)\u5e76\u4e14\u6dfb\u52a0\u5230\u76ee\u5f55.\n\n\n\u6620\u5c04\u89c6\u56fe\u5230url\nurl(r'^auto_add_page/$', views.auto_add_page, name='auto_add_page')\n\n\n\u4f7f\u7528JQuery\u7ed1\u5b9a\u6309\u94ae\u4e8b\u4ef6 - \u5f53\u6dfb\u52a0\u8fc7\u540e\u9690\u85cf\u6309\u94ae.\u540c\u65f6\u4e5f\u4fee\u6539\u76ee\u5f55\u9875\u7684\u90a3\u4e9b\u9875\u9762.\n\n\n\n\n19.4.1 \u63d0\u793a\n\n\nHTML\u6a21\u677f\u4ee3\u7801:\n\n\n{% if user.is_authenticated %}\n        \nbutton data-catid=\n{{category.id}}\n data-title=\n{{ result.title }}\n data-url=\n{{ result.link }}\n class=\nrango-add btn btn-mini btn-info\n type=\nbutton\nAdd\n/button\n\n{% endif %}\n\n\n\n\nJQuery\u4ee3\u7801:\n\n\n\u6ce8\u610f\u8fd9\u91cc\u6211\u4eec\u9700\u8981\u7ed1\u5b9a\u6240\u6709\nrango-add\n\u7c7b\u6309\u94ae\u7684\u4e8b\u4ef6.\n\n\n\u89c6\u56fe\u4ee3\u7801:\n\n\n@login_required\ndef auto_add_page(request):\n    cat_id = None\n    url = None\n    title = None\n    context_dict = {}\n    if request.method == 'GET':\n        cat_id = request.GET['category_id']\n        url = request.GET['url']\n        title = request.GET['title']\n        if cat_id:\n            category = Category.objects.get(id=int(cat_id))\n            p = Page.objects.get_or_create(category=category, title=title, url=url)\n\n            pages = Page.objects.filter(category=category).order_by('-views')\n\n            # Adds our results list to the template context under name pages.\n            context_dict['pages'] = pages\n\n    return render(request, 'rango/page_list.html', context_dict)\n\n\n\n\n20 \u81ea\u52a8\u5316\u6d4b\u8bd5\n\n\n\u5bf9\u9879\u76ee\u8fdb\u884c\u6d4b\u8bd5\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u4e60\u60ef.\u8bb8\u591a\u8f6f\u4ef6\u5de5\u7a0b\u5e08\u4e13\u95e8\u8d1f\u8d23\u7f16\u5199\u6d4b\u8bd5\u6765\u786e\u4fdd\u8f6f\u4ef6\u7684\u5065\u58ee\u6027.\u5f53\u7136,\u5927\u591a\u6570\u65f6\u5019\u8981\u4e48\u662f\u6ca1\u6709\u65f6\u95f4\u5199,\u8981\u4e48\u662f\u5bf9\u81ea\u5df1\u7684\u4ee3\u7801\u5f88\u6709\u81ea\u4fe1.\n\n\n\u5728\nDjango Tutorial\n,\u6709\u8bb8\u591a\u539f\u56e0\u8ba9\u6211\u4eec\u5199\u6d4b\u8bd5:\n\n\n\n\n\u6d4b\u8bd5\u5c06\u4f1a\u8282\u7701\u65f6\u95f4: \u4e00\u4e2a\u590d\u6742\u7684\u7cfb\u7edf\u5982\u679c\u8fdb\u884c\u6539\u52a8\u4f60\u4e0d\u77e5\u9053\u4f1a\u5728\u4ec0\u4e48\u5730\u65b9\u53d1\u751f\u9519\u8bef.\n\n\n\u6d4b\u8bd5\u4e0d\u4ec5\u80fd\u53d1\u73b0\u95ee\u9898,\u800c\u4e14\u80fd\u9632\u6b62\u95ee\u9898\u51fa\u73b0: \u6d4b\u8bd5\u53ef\u4ee5\u5c55\u793a\u4ee3\u7801\u91cc\u54ea\u91cc\u6ca1\u7b26\u5408\u9884\u671f.\n\n\n\u6d4b\u8bd5\u4f7f\u4f60\u7684\u4ee3\u7801\u66f4\u6f02\u4eae:\"\u6ca1\u6709\u6d4b\u8bd5\u7684\u4ee3\u7801\u662f\u8bbe\u8ba1\u7684\u5931\u8d25\",Jacob Kaplan-Moss,\u4e00\u4e2aDjango\u5f00\u53d1\u8005\u8bf4.\n\n\n\u6d4b\u8bd5\u5e2e\u52a9\u56e2\u961f\u5408\u4f5c: \u5b83\u80fd\u786e\u4fdd\u56e2\u961f\u4e0d\u4f1a\u8f7b\u6613\u7684\u7834\u574f\u4ee3\u7801.\n\n\n\n\n\u901a\u8fc7Pyhton\u6559\u7a0b http://docs.python-guide.org/en/latest/writing/tests/ ,\u5f53\u4f60\u5199\u6d4b\u8bd5\u7684\u65f6\u5019\u9700\u8981\u9075\u5faa\u8bb8\u591a\u89c4\u5219.\u4e0b\u9762\u662f\u4e00\u4e9b\u4e3b\u8981\u89c4\u5219.\n\n\n\n\n\u6d4b\u8bd5\u6ce8\u91cd\u5c0f\u529f\u80fd\n\n\n\u6d4b\u8bd5\u6709\u660e\u786e\u7684\u76ee\u7684\n\n\n\u6d4b\u8bd5\u662f\u72ec\u7acb\u7684\n\n\n\u5728\u4f60\u5b8c\u6210\u4ee3\u7801,\u63d0\u4ea4\u4ee3\u7801\u4e4b\u524d\u8fd0\u884c\u6d4b\u8bd5\n\n\n\u6d4b\u8bd5\u4ee3\u7801\u53d1\u5e03\u65f6\u6700\u597d\u6709\u4e00\u4e2a\u94a9\u5b50.\n\n\n\u5728\u6d4b\u8bd5\u4e2d\u4f7f\u7528\u957f\u7684\u63cf\u8ff0\u6027\u7684\u540d\u5b57.\n\n\n\n\n\n\nNote\n\n\n\u5728\u8fd9\u7ae0\u6211\u4eec\u73b0\u5728\u53ea\u662f\u63d0\u4f9b\u57fa\u7840\u7684\u6d4b\u8bd5,\u5b83\u53ea\u9075\u5faa\nDjango Tutorial\n\u7684\u4e00\u90e8\u5206.\u6211\u4eec\u5e0c\u671b\u5728\u5c06\u6765\u80fd\u6dfb\u52a0\u66f4\u591a.\n\n\n\n\n20.1 \u8fd0\u884c\u6d4b\u8bd5\n\n\n\u5728\u5efa\u7acbDjango\u5e94\u7528\u65f6\u5c31\u5df2\u7ecf\u6709\u4e86\u6d4b\u8bd5.\u4f60\u53ef\u4ee5\u7528\u4e0b\u9762\u997f\u547d\u4ee4:\n\n\n$ python manage.py test rango\n\nCreating test database for alias 'default'...\n\n----------------------------------------------------------------------\nRan 0 tests in 0.000s\n\nOK\nDestroying test database for alias 'default'...\n\n\n\n\n\u8fd9\u4e2a\u547d\u4ee4\u5c06\u4f1a\u5bf9Rango\u5e94\u7528\u8fdb\u884c\u6d4b\u8bd5.\u73b0\u5728\u4ec0\u4e48\u4e8b\u90fd\u6ca1\u6709\u53d1\u751f.\u662f\u56e0\u4e3a\nrango/tests.py\n\u53ea\u5305\u542b\u4e86\u5bfc\u5165\u8bed\u53e5.\u6bcf\u6b21\u4f60\u521b\u5efa\u4e00\u4e2a\u5e94\u7528,Django\u90fd\u4f1a\u81ea\u52a8\u7684\u521b\u5efa\u4e00\u4e2atest\u6587\u4ef6\u6765\u9f13\u52b1\u4f60\u5199\u6d4b\u8bd5.\n\n\n\u8fd9\u4e2a\u8f93\u51fa\u63d0\u5230\u4e86\u4e00\u4e2a\u53eb\ndefault\n\u7684\u6570\u636e\u5e93,\u5f53\u4f60\u8fd0\u884c\u6d4b\u8bd5\u7684\u65f6\u5019,\u4f1a\u5efa\u7acb\u4e00\u4e2a\u4e34\u65f6\u7684\u6570\u636e\u5e93,\u4f60\u7684\u6d4b\u8bd5\u90fd\u4f1a\u8fd0\u884c\u5728\u5b83\u4e4b\u4e0a.\u8fd9\u6837\u7684\u8bdd\u6d4b\u8bd5\u5c31\u548c\u4f60\u73b0\u6709\u7684\u6570\u636e\u5e93\u8fdb\u884c\u5206\u79bb.\n\n\n20.2 \u6d4b\u8bd5\u6a21\u578b\n\n\n\u597d\u4e86,\u8ba9\u6211\u4eec\u5efa\u7acb\u4e00\u4e2a\u6d4b\u8bd5.\u5728\u76ee\u5f55\u6a21\u578b,\u6211\u4eec\u5e0c\u671b\u6d4f\u89c8\u6570\u4e0d\u4f1a\u51fa\u73b0\u8d1f\u6570,\u56e0\u4e3a\u6d4f\u89c8\u6570\u6c38\u8fdc\u4e0d\u4f1a\u53c8\u8d1f\u6570.\u4e3a\u4e86\u521b\u5efa\u4e00\u4e2a\u6d4b\u8bd5\u6211\u4eec\u9700\u8981\u5728\nrango/tests.py\n\u91cc\u6dfb\u52a0\u5982\u4e0b:\n\n\nfrom django.test import TestCase\n\nfrom rango.models import Category\n\nclass CategoryMethodTests(TestCase):\n\n    def test_ensure_views_are_positive(self):\n\n        \n\n                ensure_views_are_positive should results True for categories where views are zero or positive\n        \n\n                cat = Category(name='test',views=-1, likes=0)\n                cat.save()\n                self.assertEqual((cat.views \n= 0), True)\n\n\n\n\n\u5982\u679c\u4f60\u4ece\u6765\u6ca1\u6709\u5199\u8fc7\u6d4b\u8bd5,\u5fc5\u987b\u6ce8\u610f\u9996\u5148\u7ee7\u627f\u81ea\nTestCase\n.\u5728\u8fd9\u4e2a\u7c7b\u4e2d\u7684\u65b9\u6cd5\u540c\u6837\u9075\u5faa\u4e00\u4e2a\u4e60\u60ef\u5c31\u662f\u6240\u6709\u7684\u6d4b\u8bd5\u90fd\u662f\u4ee5\ntest_\n\u5f00\u5934\u7684,\u5b83\u4eec\u540c\u65f6\u5305\u542b\u4e00\u4e9b\nassertion\n.\u8fd9\u91cc\u6211\u4eec\u7528\nassertEqual\n\u65b9\u6cd5\u68c0\u67e5\u6570\u503c\u662f\u5426\u76f8\u7b49,\u4f46\u662f\u5176\u4ed6\u79cd\u7c7b\u7684\u65ad\u8a00\u4e5f\u53ef\u4ee5\u4f7f\u7528.\u53c2\u89c1Python\u5355\u5143\u6d4b\u8bd5\u6587\u6863, https://docs.python.org/2/library/unittest.html (\u4f8b\u5982,\nassertItemsEqual\n, \nassertListEqual\n, \nassertDictEqual\n\u7b49\u7b49).Django\u7684\u6d4b\u8bd5\u673a\u5236\u662f\u548cPython\u7684\u5206\u79bb\u7684,\u4f46\u662f\u4ecd\u7136\u63d0\u4f9b\u4e86\u4e00\u4e9b\u5176\u4ed6\u7684\u65ad\u8a00\u548c\u6d4b\u8bd5\u7528\u4f8b.\n\n\n\u73b0\u5728\u8ba9\u6211\u4eec\u6765\u8fd0\u884c\u6d4b\u8bd5:\n\n\n$ python manage.py test rango\n\n\nCreating test database for alias 'default'...\nF\n======================================================================\nFAIL: test_ensure_views_are_positive (rango.tests.CategoryMethodTests)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \n/Users/leif/Code/tango_with_django_project_17/rango/tests.py\n, line 12, in test_ensure_views_are_positive\n      self.assertEqual((cat.views\n=0), True)\n      AssertionError: False != True\n\n      ----------------------------------------------------------------------\n      Ran 1 test in 0.001s\n\n      FAILED (failures=1)\n\n\n\n\n\n\u53ef\u4ee5\u770b\u5230\u6d4b\u8bd5\u5931\u8d25.\u8fd9\u662f\u56e0\u4e3a\u6a21\u578b\u6ca1\u6709\u68c0\u6d4b\u8fd9\u4e2a\u503c\u662f\u5426\u5c0f\u4e8e0.\u4e3a\u4e86\u786e\u4fdd\u5c0f\u4e8e0\u6211\u4eec\u9700\u8981\u4fee\u6539\u6a21\u578b.\u6211\u4eec\u9700\u8981\u4fee\u6539\u76ee\u5f55\u6a21\u578b\u4e2d\nsave()\n\u65b9\u6cd5\u4e2d\u7684\u4ee3\u7801,\u5b83\u4f1a\u68c0\u67e5\u6d4f\u89c8\u6570\u5e76\u4e14\u4fee\u6b63\u5b83.\n\n\n\u4fee\u6539\u5b8c\u6bd5\u4f60\u53ef\u4ee5\u8fd0\u884c\u8bd5\u8bd5\u770b\u662f\u5426\u901a\u8fc7,\u5982\u679c\u6ca1\u6709\u518d\u8bd5\u8bd5\u770b.\n\n\n\u8ba9\u6211\u4eec\u6dfb\u52a0\u53e6\u4e00\u4e2a\u6d4b\u8bd5,\u786e\u4fdd\u5408\u9002\u7684slug\u884c\u88ab\u521b\u5efa.\u5728\nrango/tests.py\n\u6dfb\u52a0\u5982\u4e0b\u4ee3\u7801\n\n\ndef test_slug_line_creation(self):\n             \n\n             slug_line_creation checks to make sure that when we add a category an appropriate slug line is created\n             i.e. \nRandom Category String\n -\n \nrandom-category-string\n\n             \n\n\n             cat = cat('Random Category String')\n             cat.save()\n             self.assertEqual(cat.slug, 'random-category-string')\n\n\n\n\n\u4f60\u7684\u4ee3\u7801\u8fd8\u597d\u5417?\n\n\n20.3 \u6d4b\u8bd5\u89c6\u56fe\n\n\n\u5230\u76ee\u524d\u4e3a\u6b62\u6211\u4eec\u5df2\u7ecf\u7f16\u5199\u4e86\u786e\u4fdd\u6a21\u578b\u6570\u636e\u5b8c\u6574\u7684\u6d4b\u8bd5.Django\u8fd8\u63d0\u4f9b\u4e86\u6d4b\u8bd5\u89c6\u56fe\u7684\u6d4b\u8bd5\u673a\u5236.\u5b83\u4f1a\u6a21\u4eff\u4e00\u4e2a\u5185\u90e8\u7684\u5ba2\u6237\u7aef\u5e76\u901a\u8fc7url\u8bf7\u6c42Django\u89c6\u56fe.\u5728\u8fd9\u4e2a\u6d4b\u8bd5\u4e2d\u4f60\u53ef\u4ee5\u5f97\u5230\u54cd\u5e94(\u5305\u62echtml)\u548c\u4e0a\u4e0b\u6587\u5b57\u5178.\n\n\n\u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u6d4b\u8bd5\u5f53\u76ee\u5f55\u6a21\u578b\u4e3a\u7a7a\u65f6,\u9996\u9875\u4f1a\u4e0d\u4f1a\u51fa\u73b0\nThere are no categories present\n.\n\n\nfrom django.core.urlresolvers import reverse\n\n\nclass IndexViewTests(TestCase):\n\n    def test_index_view_with_no_categories(self):\n        \n\n        If no questions exist, an appropriate message should be displayed.\n        \n\n        response = self.client.get(reverse('index'))\n        self.assertEqual(response.status_code, 200)\n        self.assertContains(response, \nThere are no categories present.\n)\n        self.assertQuerysetEqual(response.context['categories'], [])\n\n\n\n\n\u9996\u5148,Django\nTestCase\n\u4f1a\u6d3b\u7684\u4e00\u4e2a\nclient\n\u5bf9\u8c61,\u5b83\u53ef\u4ee5\u53d1\u9001\u8bf7\u6c42.\u8fd9\u91cc\u5b83\u4f7f\u7528\nreverse\n\u51fd\u6570\u6765\u67e5\u627e\nindex\n\u9875.\u7136\u540e\u5b83\u4f1a\u83b7\u53d6\u9875\u9762\u75c5\u4fdd\u5b58\u5728\nresponse\n\u91cc.\u7136\u540e\u6d4b\u8bd5\u4f1a\u68c0\u67e5\u4e0b\u9762\u7684\u5185\u5bb9:\u9875\u9762\u52a0\u8f7d\u6210\u4e86\u5417?html\u91cc\u662f\u5426\u5305\u542b\"There are no categories present.\",\u4e0a\u4e0b\u6587\u5b57\u5178\u662f\u5426\u4e3a\u7a7a.\u91cd\u65b0\u8c03\u7528\u4f60\u7684\u6d4b\u8bd5\u5c1d\u8bd5\u4e00\u4e0b.\n\n\n\u73b0\u5728\u8ba9\u6211\u4eec\u68c0\u67e5\u4e00\u4e0b\u76ee\u5f55\u9875\u9762\u5f97\u5230\u7684\u7ed3\u679c.\n\n\nfrom rango.models import Category\n\ndef add_cat(name, views, likes):\n    c = Category.objects.get_or_create(name=name)[0]\n    c.views = views\n    c.likes = likes\n    c.save()\n    return c\n\n\n\n\n\u7136\u540e\u589e\u52a0\u53e6\u4e00\u4e2a\u65b9\u6cd5\nclass IndexViewTests(TestCase)\n:\n\n\ndef test_index_view_with_categories(self):\n    \n\n    If no questions exist, an appropriate message should be displayed.\n    \n\n\n    add_cat('test',1,1)\n    add_cat('temp',1,1)\n    add_cat('tmp',1,1)\n    add_cat('tmp test temp',1,1)\n\n    response = self.client.get(reverse('index'))\n    self.assertEqual(response.status_code, 200)\n    self.assertContains(response, \ntmp test temp\n)\n\n    num_cats =len(response.context['categories'])\n    self.assertEqual(num_cats , 4)\n\n\n\n\n\u5728\u8fd9\u4e2a\u6d4b\u8bd5\u91cc,\u6211\u4eec\u5728\u6570\u636e\u5e93\u91cc\u589e\u52a0\u4e864\u4e2a\u76ee\u5f55,\u5e76\u4e14\u68c0\u67e5\u9875\u9762\u662f\u5426\u52a0\u8f7d,\u6587\u672c\u5185\u5bb9\u662f\u5426\u5305\u542b\ntmp test temp\n,\u76ee\u5f55\u6570\u91cf\u662f\u5426\u7b49\u4e8e4.\n\n\n20.4 \u6d4b\u8bd5\u8fd4\u56de\u9875\u9762\n\n\nTODO\n\n\n20.5 \u8986\u76d6\u6d4b\u8bd5\n\n\n\u4ee3\u7801\u8986\u76d6\u6d4b\u8bd5\u5c06\u4f1a\u68c0\u67e5\u4f60\u7684\u4ee3\u7801\u6709\u591a\u5c11\u88ab\u6d4b\u8bd5\u5230\u4e86,\u5e76\u4e14\u5f97\u5230\u4f60\u7684\u4ee3\u7801\u6709\u591a\u5c11\u901a\u8fc7\u4e86\u6d4b\u8bd5.\u4f60\u53ef\u4ee5\u901a\u8fc7\npip install coverage\n\u4e0b\u8f7d\ncoverage\n\u5305,\u5b83\u53ef\u4ee5\u81ea\u52a8\u5206\u6790\u4ee3\u7801\u8986\u76d6\u4e86\u591a\u5c11.\u88c5\u5b8c\ncoverage\n\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4:\n\n\n$ coverage run --source='.' manage.py test rango\n\n\n\n\n\u5b83\u5c06\u4f1a\u8fd0\u884crango\u5e94\u7528\u6240\u6709\u7684\u6d4b\u8bd5\u5e76\u6536\u96c6\u8986\u76d6\u6570\u636e.\u67e5\u770b\u62a5\u544a\u4f60\u9700\u8981\u8f93\u5165:\n\n\n$ coverage report\n\nName                                       Stmts   Miss  Cover\n--------------------------------------------------------------\nmanage                                         6      0   100%\npopulate                                      33     33     0%\nrango/__init__                                 0      0   100%\nrango/admin                                    7      0   100%\nrango/forms                                   35     35     0%\nrango/migrations/0001_initial                  5      0   100%\nrango/migrations/0002_auto_20141015_1024       5      0   100%\nrango/migrations/0003_category_slug            5      0   100%\nrango/migrations/0004_auto_20141015_1046       5      0   100%\nrango/migrations/0005_userprofile              6      0   100%\nrango/migrations/__init__                      0      0   100%\nrango/models                                  28      3    89%\nrango/tests                                   12      0   100%\nrango/urls                                    12     12     0%\nrango/views                                  110    110     0%\ntango_with_django_project/__init__          0      0   100%\ntango_with_django_project/settings         28      0   100%\ntango_with_django_project/urls              9      9     0%\ntango_with_django_project/wsgi              4      4     0%\n--------------------------------------------------------------\nTOTAL                                        310    206    34%\n\n\n\n\n\u901a\u8fc7\u62a5\u544a\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u4e00\u4e9b\u4f8b\u5982\nrango/views\n\u5173\u952e\u90e8\u5206\u7684\u4ee3\u7801\u8fd8\u6ca1\u6709\u6d4b\u8bd5\u5230.\u67e5\u770b\ncoveragoe\n\u66f4\u8be6\u5c3d\u7684\u4f7f\u7528\u8bbf\u95ee: http://nedbatchelder.com/code/coverage/\n\n\n20.6 \u7ec3\u4e60\n\n\n\n\n\u6211\u4eec\u60f3\u8981\u5728\nPage\n\u9875\u9762\u6dfb\u52a0\u4e24\u4e2a\u5b57\u6bb5,\nlast_visit\n\u548c\nfirst_visit\n,\u5b57\u6bb5\u7c7b\u578b\u4e3a\ntimedate\n.\n\n\n\u4fee\u6539\u6a21\u578b\u52a0\u5165\u8fd9\u4e24\u4e2a\u5b57\u6bb5\n\n\n\u4fee\u6539add page\u529f\u80fd\u548cgoto\u529f\u80fd\n\n\n\u589e\u52a0\u6d4b\u8bd5\u786e\u4fdd\u6700\u540e\u8bbf\u95ee\u7684\u7b2c\u4e00\u6b21\u8bbf\u95ee\u4e0d\u5728\u672a\u6765\u7684\u65f6\u95f4\u91cc\n\n\n\u589e\u52a0\u6d4b\u8bd5\u786e\u4fdd\u4e0a\u6b21\u8bbf\u95ee\u7b49\u4e8e\u6216\u5927\u4e8e\u7b2c\u4e00\u6b21\u8bbf\u95ee.\n\n\n\u67e5\u770b\nPart Five of the official Django Tutorial\n\u6765\u5b8c\u6210\u8fd9\u4e9b\u6d4b\u8bd5.\n\n\n\n\n\n\n\u67e5\u770b\ntutorial on test driven development by Harry Percival\n\n\n\n\n21 \u90e8\u7f72\u9879\u76ee\n\n\n\u5728\u8fd9\u7ae0\u6211\u4eec\u5c06\u4e00\u6b65\u6b65\u77e5\u9053\u4f60\u5982\u4f55\u90e8\u7f72\u4f60\u7684Django\u5e94\u7528.\u6211\u4eec\u5c06\u4f1a\u628a\u5e94\u7528\u90e8\u7f72\u5728\nPythonAnywhere\n,\u5b83\u63d0\u4f9b\u4e00\u4e2a\u5728\u7ebf\u7684IDE\u548c\u7f51\u9875\u4e3b\u673a\u670d\u52a1.\u8fd9\u4e2a\u670d\u52a1\u63d0\u4f9b\u4e86\u7f51\u9875\u8bbf\u95ee\u548cBash\u547d\u4ee4\u884c\u4ea4\u4e92,\u610f\u5473\u7740\u4f60\u53ef\u4ee5\u50cf\u8bbf\u95ee\u4f7f\u7528\u81ea\u5df1\u7684\u7ec8\u7aef\u4e00\u6837\u6765\u4f7f\u7528PythonAnywhere\u7684\u670d\u52a1\u5668.\u73b0\u5728PythonAnywhere\u63d0\u4f9b\u4e86\u514d\u8d39\u7684\u5e10\u53f7,\u5b83\u63d0\u4f9b\u7684\u5185\u5b58\u548cCPU\u8db3\u591f\u6211\u4eec\u642d\u5efa\u4e00\u4e2aDjango\u5e94\u7528\u4e86.", 
            "title": "Home"
        }, 
        {
            "location": "/#1-twd17", 
            "text": "Warning  \u8fd9\u4e2a\u7248\u672c\u4ecd\u5728\u8349\u7a3f\u9636\u6bb5(\u4e00\u4e9b\u94fe\u63a5\u548c\u622a\u56fe\u9700\u8981\u66f4\u65b0).\u5982\u679c\u53d1\u73b0bug,\u95ee\u9898\u6216\u8005\u5176\u4ed6\u8bf7\u6c42\u8bf7\u901a\u8fc7github\u6765\u63d0\u4ea4:  https://github.com/leifos/tango_with_django_book/tree/master/17   \u5728\u8fd9\u4e2a\u7248\u672c\u4e2d,\u6211\u4eec\u52a0\u5165\u4e86\u4ee5\u4e0b\u7279\u6027:   \u4ee3\u7801\u66f4\u65b0\u9002\u914dDjango1.7\u7248\u672c  \u6570\u636e\u5e93\u4ea4\u4e92\u4ece syncdb \u66f4\u65b0\u4e3a migratesql \u548c migrate  Render\u54cd\u5e94\u4ece render_to_response \u66f4\u65b0\u4e3a render ,\u6240\u4ee5\u73b0\u5728\u4e0d\u7528\u4e3a\u6bcf\u4e2aview\u8bf7\u6c42\u5185\u5bb9.  url \u6a21\u677f\u6807\u7b7e\u73b0\u5728\u7528\u6a21\u677f\u4ee3\u66ff,\u5b83\u63d0\u4f9b\u4e86\u76f8\u5bf9\u5f15\u7528\u800c\u4e0d\u662f\u7edd\u5bf9\u5f15\u7528.  \u5728\u6a21\u677f\u4e2d\u8f7d\u5165\u9759\u6001\u6587\u4ef6\u73b0\u5728\u53ef\u4ee5\u7528{% load staticfiles %}  \u7528 slugify \u6765\u521b\u5efa\u7ec4\u7ec7\u597d\u7684URL\u5b57\u7b26\u4e32    \u589e\u52a0\u9a8c\u8bc1\u4e00\u7ae0  \u7528Django-Registration-Redux\u6765\u5904\u7406\u767b\u9646\u548c\u6ce8\u518c(\u53c2\u89c1 \u7b2c12\u7ae0 )    Bootstrap\u7ae0\u8282\u66f4\u65b0\u4e3aBootstrap 3.2.0(\u53c2\u89c1 \u7b2c13\u7ae0 )  \u540c\u65f6\u8bb2\u89e3\u4e00\u4e9b\u5982\u4f55\u4f7f\u7528Django-Bootstrap-Toolkit\u7684\u6280\u5de7    \u589e\u52a0\u4f7f\u7528\u6a21\u677f\u6807\u7b7e\u4e00\u7ae0(\u53c2\u89c1 \u7b2c14\u7ae0 )  \u589e\u52a0\u5728Django\u91cc\u4f7f\u7528JQuery\u4e00\u7ae0(\u53c2\u89c1 \u7b2c18\u7ae0 )  \u5173\u4e8e\u6d4b\u8bd5\u7684\u4e00\u7ae0\u6269\u5c55\u4e86\u4e00\u4e9b\u5185\u5bb9-\u4f46\u662f\u4ecd\u5728\u4fee\u6539\u4e2d(\u53c2\u89c1 \u7b2c20\u7ae0 )  \u5305\u62ec\u5982\u4f55\u7528 coverage \u5305\u53bb\u68c0\u6d4b\u6d4b\u8bd5\u8986\u76d6(\u53c2\u89c1 http://nedbatchelder.com/code/coverage/ )", 
            "title": "1. Twd1.7\u65b0\u7279\u6027"
        }, 
        {
            "location": "/#2", 
            "text": "\u8fd9\u672c\u4e66\u7684\u65e8\u5728\u901a\u8fc7\u4e00\u4e9b\u5b9e\u4f8b\u6559\u7ed9\u4f60\u5982\u4f55\u7528Django1.7\u6765\u5f00\u53d1\u7f51\u7ad9.\u8fd9\u672c\u4e66\u4e3b\u8981\u63d0\u4f9b\u7ed9Django\u7684\u521d\u5b66\u8005,\u5305\u62ec\u4ece\u5199\u51fa\u5e76\u8fd0\u884c\u7b2c\u4e00\u4e2a\u7f51\u9875\u5e94\u7528\u76f4\u5230\u5b8c\u6210\u7f51\u9875\u90e8\u7f72\u7684\u6bcf\u4e00\u6b65.  \u8fd9\u672c\u4e66\u5c06\u4f5c\u4e3a \u5b98\u65b9\u6559\u7a0b \u548c\u5176\u4ed6\u51fa\u8272\u6559\u7a0b\u7684\u8865\u5145.\u901a\u8fc7\u628a\u8bb8\u591a\u4e1c\u897f\u96c6\u5408\u5230\u4e00\u8d77,\u8fd9\u672c\u4e66\u586b\u8865\u4e86\u5b98\u65b9\u6587\u6863\u7684\u8bb8\u591a\u7a7a\u767d,\u800c\u4e14\u8fd9\u672c\u4e66\u8fd8\u63d0\u4f9b\u4e86\u8bb8\u591a\u5173\u4e8eweb\u5e94\u7528\u5f00\u53d1\u65b9\u9762\u7684\u5176\u4ed6\u5185\u5bb9.", 
            "title": "2. \u603b\u89c8"
        }, 
        {
            "location": "/#21", 
            "text": "\u8fd9\u672c\u4e66\u5c06\u8282\u7ea6\u4f60\u5927\u91cf\u7684\u65f6\u95f4. \u8bb8\u591a\u65f6\u5019\u6211\u770b\u5230\u6709\u4e9b\u806a\u660e\u7684\u5b66\u751f\u5728\u5b66\u4e60Django\u548c\u5176\u4ed6web\u5f00\u53d1\u65b9\u9762\u9047\u5230\u56f0\u96be,\u5e76\u4e14\u82b1\u8d39\u4e86\u5f88\u591a\u65f6\u95f4.\u8fd9\u5f80\u5f80\u662f\u56e0\u4e3a\u6ca1\u6709\u6293\u4f4f\u5173\u952e\u70b9\u6216\u662f\u4e00\u4e9b\u4e1c\u897f\u6ca1\u6709\u8bb2\u6e05\u695a.\u7136\u800c\u8fd9\u4e9b\u7410\u788e\u7684\u95ee\u9898\u5c06\u4f1a\u963b\u788d\u4f6010-15\u5206\u949f,\u751a\u81f3\u6709\u4e9b\u65f6\u5019\u4f60\u9700\u8981\u82b1\u8d39\u51e0\u4e2a\u5c0f\u65f6\u6765\u89e3\u51b3.\u6211\u4eec\u5728\u4e66\u91cc\u5c3d\u53ef\u80fd\u7684\u6e05\u9664\u4e86\u969c\u788d.\u8fd9\u610f\u5473\u7740\u4f60\u4eec\u53ef\u4ee5\u5f88\u8f7b\u677e\u7684\u5f00\u53d1\u4f60\u4eec\u7684\u5e94\u7528,\u800c\u4e0d\u7528\u5750\u5728\u90a3\u6478\u4e0d\u7740\u5934\u8111.  \u8fd9\u672c\u4e66\u5c06\u4f1a\u964d\u4f4e\u4f60\u7684\u5b66\u4e60\u66f2\u7ebf. web\u5e94\u7528\u6846\u67b6\u53ef\u4ee5\u89e3\u51b3\u4f60\u7684\u8bb8\u591a\u9ebb\u70e6\u5e76\u8282\u7701\u4e00\u5927\u5806\u65f6\u95f4.\u5f53\u7136,\u524d\u63d0\u662f\u4f60\u4e8b\u5148\u61c2\u5f97\u5982\u4f55\u53bb\u7528\u4ed6\u4eec!\u901a\u5e38\u5b66\u4e60\u66f2\u7ebf\u975e\u5e38\u9661\u5ced.\u8fd9\u672c\u4e66\u8bd5\u56fe\u8ba9\u4f60\u5feb\u901f\u5b66\u4e60.\u901a\u8fc7\u5411\u4f60\u5c55\u793a\u5728web\u5e94\u7528\u4e2d\u7684\u7ecf\u9a8c\u53ca\u6280\u5de7,\u8fd9\u672c\u4e66\u7f29\u77ed\u4e86\u5b66\u4e60\u7684\u66f2\u7ebf.  \u8fd9\u672c\u4e66\u5c06\u4f1a\u6539\u5584\u4f60\u7684\u5de5\u4f5c\u6d41. \u7528web\u5e94\u7528\u6846\u67b6\u8fdb\u884c\u5f00\u53d1\u9700\u8981\u4f60\u638c\u63e1\u5e76\u8fd0\u884c\u4e00\u4e2a\u7279\u6b8a\u7684\u8bbe\u8ba1\u6a21\u5f0f - \u6240\u4ee5\u4f60\u53ea\u80fd\u5728\u7279\u5b9a\u7684\u5730\u65b9\u586b\u5165\u7279\u5b9a\u7684\u4e1c\u897f.\u5728\u548c\u8bb8\u591a\u5b66\u751f\u4e00\u8d77\u5f00\u53d1\u7684\u65f6\u5019,\u6211\u4eec\u542c\u5230\u8bb8\u591a\u5173\u4e8eweb\u5e94\u7528\u6846\u67b6\u7684\u62b1\u6028\u6700\u591a\u7684\u5c31\u662f\u5982\u4f55\u6446\u8131\u5b83\u4eec\u7684\u63a7\u5236(i.e. \u53cd\u8fc7\u6765\u63a7\u5236\u5b83\u4eec).\u4e3a\u4e86\u5e2e\u52a9\u4f60\u638c\u63e1\u4ed6\u4eec,\u6211\u4eec\u521b\u5efa\u4e86\u4e00\u7cfb\u5217\u7684\u5de5\u4f5c\u6d41\u6765ch\u5f00\u53d1\u6d41\u9610\u660e\u7a0b,\u8ba9\u4f60\u91cd\u65b0\u627e\u5230\u638c\u63e1web\u5e94\u7528\u5f00\u53d1\u7684\u611f\u89c9.  \u8fd9\u672c\u4e66\u4e0d\u662f\u7528\u6765\u8bfb\u7684. \u4e0d\u7ba1\u600e\u4e48\u6837,\u4e0d\u8981\u8bfb\u8fd9\u672c\u4e66!\u8fd9\u662f\u4e00\u4e2a\u5f3a\u8c03\u52a8\u624b\u5b9e\u8df5\u53bb\u5f00\u53d1web\u5e94\u7528\u7684\u6559\u7a0b.\u8bfb\u548c\u505a\u662f\u4e0d\u4e00\u6837\u7684.\u4e3a\u4e86\u589e\u52a0\u8fd9\u4e2a\u6559\u7a0b\u7684\u4ef7\u503c,\u8bf7\u4eb2\u81ea\u52a8\u624b\u5b8c\u6210\u5e94\u7528\u7684\u5f00\u53d1.\u5f53\u4f60\u7801\u4ee3\u7801\u7684\u65f6\u5019,\u5343\u4e07\u522b\u7c98\u8d34\u548c\u590d\u5236.\u8981\u4e00\u4e2a\u4e2a\u8f93\u5165,\u60f3\u4e00\u60f3\u5b83\u662f\u4ec0\u4e48,\u6211\u4eec\u90fd\u4f1a\u5bf9\u5b83\u4e00\u4e00\u89e3\u91ca.\u5982\u679c\u4f60\u4ecd\u7136\u4e0d\u660e\u767d,\u90a3\u4e48\u5c31\u53bb\u67e5\u770bDjango\u6587\u6863,\u53bb StackOverflow \u6216\u8005\u5176\u4ed6\u6709\u5e2e\u52a9\u7684\u7f51\u7ad9,\u7528\u4f60\u81ea\u5df1\u7684\u65b9\u6cd5\u53bb\u4e86\u89e3\u5b83.\u5982\u679c\u4f60\u89c9\u5f97\u5f88\u6709\u5fc5\u8981\u7684\u8bdd,\u8bf7\u8054\u7cfb\u6211\u4eec\u6765\u6539\u5584\u8fd9\u672c\u4e66-\u6211\u4eec\u5df2\u7ecf\u6709\u8bb8\u591a\u7684\u8d21\u732e\u8005\u800c\u6211\u4eec\u4e5f\u975e\u5e38\u9ad8\u5174\u5f97\u5230\u4f60\u7684\u8d21\u732e.", 
            "title": "2.1 \u672c\u4e66\u7279\u70b9"
        }, 
        {
            "location": "/#22", 
            "text": "\u5728\u8fd9\u672c\u4e66\u91cc,\u6211\u4eec\u5c06\u4f1a\u901a\u8fc7\u4e00\u4e2a\u57fa\u672c\u7684\u4f8b\u5b50\u6765\u9010\u6e10\u5b66\u4e60(\u6216\u8005\u8bf4\u901a\u8fc7\u63d0\u95ee\u7684\u65b9\u5f0f).\u8fd9\u672c\u4e66\u5c06\u4f1a\u5c55\u793a\u7ed9\u4f60\u5982\u4f55\u8bbe\u8ba1\u4e00\u4e2a\u53eb\u505aRango\u7684web\u5e94\u7528(\u53c2\u89c1 2.4.1 \u7684\u7b80\u8981\u8bbe\u8ba1).\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f,\u6211\u4eec\u5c06\u4f1a\u5c55\u793a\u7ed9\u4f60\u5982\u4f55\u5b8c\u6210\u4e0b\u9762\u7684\u4efb\u52a1.   \u5efa\u7acb\u4e00\u4e2a\u5f00\u53d1\u73af\u5883 - \u5305\u62ec\u5982\u4f55\u4f7f\u7528\u7ec8\u7aef,\u5b89\u88c5Pip,\u5982\u4f55\u4f7f\u7528Git\u7b49\u7b49.  \u5efa\u7acb\u4e00\u4e2aDjango\u9879\u76ee,\u521b\u7acb\u4e00\u4e2a\u57fa\u672c\u7684Django\u5e94\u7528.  \u4e3aDjango\u9879\u76ee\u8bbe\u7acb\u9759\u6001\u6587\u4ef6\u548c\u5176\u4ed6\u6587\u4ef6  \u4f7f\u7528Django\u7684Model-View-Template(MVT)\u8bbe\u8ba1\u6a21\u5f0f  \u521b\u5efa\u6570\u636e\u5e93\u6a21\u578b,\u7528Django\u63d0\u4f9b\u7684\u5bf9\u8c61\u5173\u7cfb\u7ed1\u5b9a\u529f\u80fd  \u5229\u7528\u6570\u636e\u5e93\u6a21\u578b\u751f\u6210\u7684\u6570\u636e\u6765\u521b\u5efa\u52a8\u6001\u751f\u6210\u9875\u9762  \u4f7f\u7528Django\u63d0\u4f9b\u7684\u7528\u6237\u8ba4\u8bc1\u670d\u52a1  \u6574\u5408\u5e94\u7528\u7684\u5916\u90e8\u670d\u52a1  \u4e00\u4e2aweb\u5e94\u7528\u6240\u5305\u62ec\u7684CSS\u548cJavaScript  \u8bbe\u8ba1\u548c\u5e94\u7528CSS\u6765\u589e\u52a0web\u5e94\u7528\u7684\u754c\u9762\u4ea4\u4e92  \u4f7f\u7528Django\u7684cookies\u548csessions  \u5728\u5e94\u7528\u4e2d\u4f7f\u7528\u50cfAJAX\u8fd9\u6837\u7684\u9ad8\u7ea7\u529f\u80fd  \u7528PythonAnywhere\u90e8\u7f72\u4f60\u7684\u5e94\u7528\u5230web\u670d\u52a1\u5668   \u5728\u6bcf\u7ae0\u7684\u6700\u540e,\u6211\u4eec\u8bbe\u8ba1\u4e86\u8bb8\u591a\u7ec3\u4e60\u9898\u6765\u68c0\u9a8c\u4f60\u4eec\u6240\u5b66\u7684\u77e5\u8bc6.\u5728\u540e\u9762\u7684\u7ae0\u8282\u4e2d\u63d0\u4f9b\u4e86\u4e00\u4e9b\u7ec3\u4e60\u5e76\u7ed9\u51fa\u4e86\u4ee3\u7801\u548c\u89e3\u91ca.\u6700\u540e,\u8fd9\u4e9b\u4ee3\u7801\u90fd\u5728GitHub\u4e0a:  https://github.com/leifos/tango_with_django .  \u8981\u67e5\u770b\u7f51\u7ad9\u7684\u5b8c\u6574\u7248\u672c,\u4f60\u53ef\u4ee5\u8bbf\u95ee  How to Tango with Django  \u5728  http://www.tangowithdjango.com/rango/ .", 
            "title": "2.2 \u4f60\u5c06\u4f1a\u5b66\u5230"
        }, 
        {
            "location": "/#23", 
            "text": "\u901a\u8fc7\u8fd9\u672c\u4e66\u7684\u8bfe\u7a0b,\u6211\u4eec\u9700\u8981\u8fd0\u7528\u8bb8\u591a\u4e0d\u540c\u7684\u6280\u5de7\u548c\u5916\u90e8\u670d\u52a1,\u5305\u62ec:   Python, http://www.python.org  Pip, http://www.pip-installer.org  Django, https://www.djangoproject.com  Git, http://git-scm.com  GitHub, https://github.com  HTML, http://www.w3.org/html/  CSS, http://www.w3.org/Style/CSS/  Javascript  JQuery, http://jquery.com  Twitter Bootstrap, http://getbootstrap.com/  Bing Search API via Azure Datamarket, http://datamarket.azure.com  PythonAnywhere, https://www.pythonanywhere.com   \u4e0a\u9762\u662f\u6211\u4eec\u5b66\u4e60web\u5f00\u53d1\u9700\u8981\u638c\u63e1\u7684\u57fa\u672c\u6280\u80fd,\u5b83\u4eec\u53ef\u4ee5\u63d0\u4f9b\u6211\u4eec\u628aweb\u5e94\u7528\u96c6\u6210\u8fdbCSS\u5de5\u5177\u6216\u8005\u8ba9\u4f60\u7684\u5e94\u7528\u90e8\u7f72\u5feb\u901f\u4fbf\u6377.", 
            "title": "2.3 \u6280\u672f\u548c\u670d\u52a1"
        }, 
        {
            "location": "/#24-rango", 
            "text": "\u6211\u4eec\u5148\u524d\u63d0\u5230\u8fc7,\u8fd9\u672c\u4e66\u7684\u8981\u70b9\u662f\u5f00\u53d1\u4e00\u4e2a\u53eb\u505aRango\u7684\u5e94\u7528.\u4e3a\u4e86\u5f00\u53d1\u8fd9\u4e2a\u5e94\u7528,\u5b83\u5c06\u4f1a\u8986\u76d6\u6211\u4eec\u5236\u4f5cweb\u5e94\u7528\u5927\u90e8\u5206\u6838\u5fc3\u5185\u5bb9.  2.4.1 \u8bbe\u8ba1\u6982\u8981  \u4f60\u7684\u5ba2\u6237\u7aef\u9700\u8981\u5efa\u7acb\u4e00\u4e2a\u53eb\u505aRango\u7684\u7f51\u7ad9,\u5b83\u53ef\u4ee5\u8ba9\u7528\u6237\u6d4f\u89c8\u5b83\u4eec\u81ea\u5df1\u8ba2\u5236\u7684\u7f51\u9875.\u5728\u897f\u73ed\u7259\u8bed\u79cd,rango\u66fe\u7ecf\u610f\u5473\u7740\"\u901a\u8fc7\u8d28\u91cf\u6392\u5e8f\"\u6216\u8005\"\u5728\u793e\u4f1a\u7b49\u7ea7\u4e2d\u7684\u4f4d\u7f6e\"(\u67e5\u770b  https://www.vocabulary.com/dictionary/es/rango ).   \u5728\u7f51\u7ad9\u7684\u4e3b\u9875\u4e0a,\u8ba9\u6d4f\u89c8\u8005\u770b\u5230:  5\u4e2a\u67e5\u770b\u6700\u591a\u7684\u9875\u9762  5\u4e2a\u8d28\u91cf\u6700\u9ad8\u7684\u76ee\u5f55  \u8bbf\u5ba2\u6d4f\u89c8\u6216\u8005\u67e5\u627e\u76ee\u5f55\u7684\u65b9\u6cd5    \u5f53\u4e00\u4e2a\u7528\u6237\u67e5\u770b\u4e00\u4e2a\u76ee\u5f55\u9875,\u5c06\u4f1a\u5c55\u73b0:  \u76ee\u5f55\u540d\u79f0,\u8bbf\u95ee\u6570\u91cf,\u559c\u6b22\u6570\u91cf;  \u4e0e\u76ee\u5f55\u76f8\u8fd1\u7684\u9875\u9762(\u5c55\u793a\u9875\u9762\u6807\u9898\u548c\u5b83\u7684url);  \u4e00\u4e9b\u641c\u7d22\u529f\u80fd(\u901a\u8fc7Bing\u7684\u641c\u7d22API)\u7528\u6765\u67e5\u627e\u4e00\u4e9b\u5176\u4ed6\u80fd\u94fe\u63a5\u5230\u8fd9\u4e2a\u76ee\u5f55\u7684\u9875\u9762    \u4e00\u4e2a\u7279\u6b8a\u7684\u76ee\u5f55,\u5ba2\u6237\u7aef\u5e0c\u671b\u76ee\u5f55\u7684\u540d\u5b57,\u6bcf\u4e2a\u76ee\u5f55\u9875\u9762\u88ab\u8bbf\u95ee\u7684\u6b21\u6570\u548c\u591a\u5c11\u4e2a\u7528\u6237\u70b9\u51fb'like'\u6309\u94ae\u88ab\u8bb0\u5f55  \u6bcf\u4e2a\u76ee\u5f55\u90fd\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u53ef\u8bfb\u7684URL\u8bbf\u95ee - \u6bd4\u5982.  /rango/books-about-django/ .  \u53ea\u6709\u6ce8\u518c\u7684\u7528\u6237\u624d\u80fd\u4e3a\u76ee\u5f55\u641c\u7d22\u548c\u589e\u52a0\u9875\u9762.\u540c\u65f6,\u8bbf\u95ee\u8005\u53ef\u4ee5\u6ce8\u518c\u4e00\u4e2a\u8d26\u6237.   \u7b2c\u4e00\u773c\u770b\u4e0a\u53bb,\u8fd9\u4e2a\u5e94\u7528\u770b\u8d77\u6765\u5f88\u5947\u602a.\u4e8b\u5b9e\u4e0a,\u5b83\u5c31\u662f\u4e00\u4e2a\u76ee\u5f55\u5217\u8868,\u4ed6\u4eec\u53ef\u4ee5\u94fe\u63a5\u5230\u9875\u9762,\u5bf9\u5417?\u7136\u800c,\u8fd9\u91cc\u8fd8\u6709\u8bb8\u591a\u590d\u6742\u7684\u4e1c\u897f\u9700\u8981\u5904\u7406.\u9996\u5148,\u8ba9\u6211\u4eec\u8bd5\u7740\u753b\u4e00\u5f20\u56fe\u6765\u5c55\u793a\u6211\u4eec\u8981\u5f00\u53d1\u4ec0\u4e48\u4e1c\u897f.", 
            "title": "2.4 Rango:\u521d\u59cb\u8bbe\u8ba1\u548c\u89c4\u5212"
        }, 
        {
            "location": "/#25", 
            "text": "\u5728\u7ee7\u7eed\u63a5\u4e0b\u6765\u7684\u5185\u5bb9\u4e4b\u524d,\u8003\u8651\u4e0b\u9762\u7684\u8bf4\u660e,\u8bd5\u7740\u753b\u51fa\u8bbe\u8ba1\u56fe.   \u4e00\u4e2aN-\u5c42\u6216\u8005\u7cfb\u7edf\u67b6\u6784\u56fe  \u4e3b\u9875\u548c\u76ee\u5f55\u9875\u7684\u6846\u67b6  URL\u7ed1\u5b9a  \u6211\u4eec\u5c06\u8981\u5b9e\u73b0\u6570\u636e\u6a21\u578b\u7684\u5b9e\u4f53-\u5173\u7cfb\u56fe", 
            "title": "2.5 \u7ec3\u4e60"
        }, 
        {
            "location": "/#26-n-", 
            "text": "\u5927\u591a\u6570web\u5e94\u7528\u7684\u7ed3\u6784\u662f3-\u5c42\u7ed3\u6784.Rango\u5219\u662f\u8fd9\u4e2a\u7ed3\u6784\u7684\u53d8\u4f53,\u5b83\u9700\u8981\u548c\u4e00\u4e2a\u5916\u90e8\u670d\u52a1\u4ea4\u4e92.   \u5982\u679c\u6211\u4eec\u7528Django\u6765\u521b\u5efaweb\u5e94\u7528\u7684\u8bdd,\u6211\u4eec\u6bcf\u5c42\u9700\u8981\u5982\u4e0b\u6280\u672f.   client\u662f\u4e00\u4e2a\u6d4f\u89c8\u5668(i.e. Chrome, Firefox, Safari\u7b49\u7b49),\u5b83\u5c06\u8fd4\u56de HTML/CSS\u9875\u9762.  middleware\u662f\u4e00\u4e2aDjango\u5e94\u7528,\u5b83\u4f1a\u8d2f\u7a7f\u6211\u4eec\u5f00\u53d1Django\u5185\u5efaweb\u670d\u52a1\u7684\u59cb\u7ec8.  database\u5c06\u4f1a\u662f\u57fa\u4e8ePython\u7684SQLite3\u6570\u636e\u5e93\u5f15\u64ce  search API\u5c06\u4f1a\u662fBing\u7684\u641c\u7d22API   \u5c3d\u7ba1\u6211\u4eec\u9700\u8981\u5904\u7406\u4e0a\u56fe\u4e2d\u6240\u6709\u7684\u90e8\u5206,\u4f46\u8fd9\u672c\u4e66\u5927\u90e8\u5206\u7684\u7cbe\u529b\u90fd\u96c6\u4e2d\u5728\u5f00\u53d1\u4e2d\u95f4\u4ef6(middleware).", 
            "title": "2.6 N-\u5c42\u7ed3\u6784"
        }, 
        {
            "location": "/#27", 
            "text": "\u7f51\u7ad9\u7ebf\u6846\u56fe\u4e3a\u8bbe\u8ba1\u7f51\u7ad9\u754c\u9762\u63d0\u4f9b\u5f88\u5927\u7684\u5e2e\u52a9.\u5b83\u4eec\u53ef\u4ee5\u8282\u7701\u5f88\u591a\u65f6\u95f4,\u5b83\u4e0d\u540c\u4e8e\u4f9d\u8d56\u5de5\u5177\u7684\u624b\u5de5\u7ed8\u5236.\u5bf9\u4e8eRango,\u6211\u4eec\u5e0c\u671b\u5b83\u7684\u9996\u9875\u5982\u4e0b\u56fe\u6240\u793a.   \u76ee\u5f55\u9875\u5982\u4e0b\u56fe\u6240\u793a:", 
            "title": "2.7 \u7ebf\u6846"
        }, 
        {
            "location": "/#28-url", 
            "text": "\u901a\u8fc7\u89c4\u5219\u8bf4\u660e,\u6211\u4eec\u5df2\u7ecf\u786e\u8ba4\u5728\u4e0d\u540c\u7684\u65f6\u95f4\u6211\u4eec\u5c06\u4f1a\u7ed9\u7528\u6237\u5448\u73b0\u4e24\u4e2a\u9875\u9762.\u4e3a\u4e86\u8fdb\u5165\u4e0d\u540c\u7684\u9875\u9762\u6211\u4eec\u9700\u8981\u5bf9URL\u8fdb\u884c\u6620\u5c04.URL\u6620\u5c04\u5c31\u662f\u7528\u6237\u4e3a\u4e86\u8fdb\u5165\u7f51\u9875\u800c\u5728\u6d4f\u89c8\u5668\u8f93\u5165\u7684\u6587\u672c.Rango\u7684URL\u6620\u5c04\u5982\u4e0b.   /rango/ \u5c06\u4f1a\u6307\u5411\u4e3b\u9875\u89c6\u56fe.  /rango/about/ \u5c06\u4f1a\u6307\u5411about\u9875\u9762\u89c6\u56fe.  /rango/category/ category_name / \u5c06\u4f1a\u6307\u5411\u6bcf\u4e2a category_name \u7684\u76ee\u5f55\u9875\u89c6\u56fe,\u8fd9\u4e2a\u76ee\u5f55\u53ef\u80fd\u662f:  \u6e38\u620f;  python\u5c0f\u6280\u5de7  \u4ee3\u7801\u6216\u8005\u7f16\u8bd1\u7a0b\u5e8f    /rango/etc/ ,\u4e3a\u5c06\u6765\u7684\u529f\u80fd\u5b9e\u73b0\u7559\u51fa etc   \u5f53\u6211\u4eec\u521b\u5efa\u5e94\u7528\u65f6,\u6211\u4eec\u53ef\u80fd\u9700\u8981\u521b\u5efa\u4e00\u4e9b\u522b\u7684URL\u6620\u5c04.\u4f46\u662f\u4e0a\u9762\u90a3\u4e9b\u4f7f\u6211\u4eec\u9996\u5148\u8981\u5efa\u7acb\u7684.\u8fd8\u6709\u8981\u8003\u8651\u5230\u63d0\u4f9b\u7684\u76ee\u5f55\u540d\u5b57\u4e0d\u5b58\u5728\u65f6,\u6211\u4eec\u9700\u8981\u628a\u76ee\u5f55\u540d\u5b57\u8f6c\u6362\u4e3a\u4e00\u4e2a\u6709\u6548\u7684URL\u5b57\u7b26\u4e32.  \u968f\u7740\u5bf9\u8fd9\u672c\u4e66\u7684\u6df1\u5165,\u6211\u4eec\u4f1a\u9010\u6e10\u638c\u63e1\u7528Django\u6846\u67b6\u6765\u521b\u5efa\u7f51\u9875\u548c\u7528Model-View-Template\u8bbe\u8ba1\u6a21\u5f0f.\u73b0\u5728\u6211\u4eec\u53ea\u662f\u5bf9URL\u6620\u5c04\u548c\u7f51\u9875\u4ea4\u4e92\u754c\u9762\u6709\u4e2a\u5927\u6982\u7684\u5370\u8c61,\u6211\u4eec\u8fd8\u9700\u8981\u5b9a\u4e49\u6570\u636e\u6a21\u578b\u6765\u4e3a\u6211\u4eec\u7684\u5e94\u7528\u63d0\u4f9b\u6570\u636e.", 
            "title": "2.8 \u9875\u9762\u548cURL\u6620\u5c04"
        }, 
        {
            "location": "/#29-", 
            "text": "\u901a\u8fc7\u7ed9\u51fa\u7684\u89c4\u5219,\u6211\u4eec\u77e5\u9053\u81f3\u5c11\u6709\u4e24\u4e2a\u5b9e\u4f53:\u76ee\u5f55\u548c\u9875\u9762.\u540c\u65f6\u4e00\u4e2a\u76ee\u5f55\u53ef\u4ee5\u5bb9\u7eb3\u8bb8\u591a\u9875\u9762.\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0bER\u56fe\u6765\u63cf\u8ff0\u6211\u4eec\u7684\u6570\u636e\u6a21\u578b.   \u6ce8\u610f\u4e00\u70b9,\u4e00\u4e2a\u9875\u9762\u53ef\u4ee5\u5728\u4e00\u4e2a\u6216\u591a\u4e2a\u76ee\u5f55\u91cc.\u6240\u4ee5\u6211\u4eec\u9700\u8981\u5efa\u7acb\u591a-\u5bf9-\u591a\u7684\u5173\u7cfb.\u4e3a\u4e86\u5c06\u95ee\u9898\u4e0d\u90a3\u4e48\u590d\u6742\u5316,\u6211\u4eec\u505a\u4e2a\u7b80\u5355\u7684\u5047\u8bbe,\u4e00\u4e2a\u76ee\u5f55\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u9875\u9762,\u4f46\u662f\u4e00\u4e2a\u9875\u9762\u53ea\u80fd\u5c5e\u4e8e\u4e00\u4e2a\u76ee\u5f55.\u8fd9\u5e76\u4e0d\u80fd\u9632\u6b62\u4e86\u4e00\u4e2a\u9875\u9762\u51fa\u73b0\u5728\u4e24\u4e2a\u4e0d\u540c\u76ee\u5f55\u7684\u60c5\u51b5 - \u5728\u4e0d\u7406\u60f3\u7684\u60c5\u51b5\u4e0b,\u9875\u9762\u53ef\u80fd\u8fdb\u5165\u4e24\u6b21.  \u5199\u6280\u672f\u7b14\u8bb0\u662f\u4e2a\u597d\u7684\u559c\u6b22,\u5c24\u5176\u662f\u5f53\u4f60\u77e5\u9053\u5b83\u4f1a\u518d\u6b21\u51fa\u73b0\u7684\u65f6\u5019!\u901a\u8fc7\u8bb0\u4e0b\u5b83\u4eec,\u4f60\u53ef\u4ee5\u548c\u4f60\u7684\u5f00\u53d1\u56e2\u961f\u8fdb\u884c\u4ea4\u6d41\u786e\u4fdd\u76f8\u540c\u7684\u95ee\u9898\u53ef\u4ee5\u53ef\u4ee5\u5f88\u5feb\u89e3\u51b3.  \u5efa\u8868\u5982\u4e0b, Str \u8868\u793a\u4e00\u4e2a string \u6216\u8005 char , Int \u8868\u793a\u4e00\u4e2a integer , URL \u8868\u793a\u4e00\u4e2aURL\u800c FK \u8868\u793aForeign Key.   \u6211\u4eec\u540c\u6837\u6709\u4e00\u4e2a\u7528\u6237\u8868 - \u8fd9\u91cc\u6ca1\u6709\u5c55\u793a,\u5c06\u5728\u4ee5\u540e\u4ecb\u7ecd.\u5728\u63a5\u4e0b\u6765\u7684\u7ae0\u8282\u91cc\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u5728Django\u91cc\u5982\u4f55\u5b9e\u4f8b\u5316\u8fd9\u4e9b\u6570\u636e\u6a21\u578b,\u5e76\u4e14\u4e86\u89e3\u5982\u4f55\u7528Django\u7684ORM\u53bb\u8fde\u63a5\u6570\u636e\u5e93.", 
            "title": "2.9 \u5b9e\u4f53-\u5173\u7cfb\u56fe"
        }, 
        {
            "location": "/#210", 
            "text": "\u8fd9\u4e9b\u8bbe\u8ba1\u548c\u8bf4\u660e\u5c06\u4f1a\u5bf9\u6211\u4eec\u6784\u5efa\u6211\u4eec\u7684web\u5e94\u7528\u63d0\u4f9b\u5f88\u597d\u7684\u5e2e\u52a9.\u6211\u4eec\u8981\u7528\u5230\u7684\u6280\u672f\u548c\u6b65\u9aa4\u540c\u6837\u9002\u7528\u4e8e\u5927\u591a\u6570\u6570\u636e\u9a71\u52a8\u7684\u7f51\u7ad9.\u719f\u6089\u8fd9\u4e9b\u89c4\u8303\u548c\u8bbe\u8ba1\u5bf9\u6211\u4eec\u6709\u5f88\u5927\u7684\u597d\u5904.  \u5982\u679c\u4f60\u5df2\u7ecf\u5b89\u88c5\u4e86\u4e86Python2.7\u548cDjango1.7,\u4f60\u5bf9\u547d\u4ee4\u884c\u8bbe\u7f6e\u4f60\u7684\u8def\u5f84\u6709\u6240\u4e86\u89e3,\u90a3\u4e48\u4f60\u53ef\u4ee5\u76f4\u63a5\u8df3\u8fc7 Django\u57fa\u7840 \u8fd9\u4e00\u7ae0.\u5426\u5219,\u8ba9\u6211\u4eec\u4e00\u8d77\u6765\u770b \u7b2c\u4e09\u7ae0 .  2.10.1 \u548cDjango\u5b98\u65b9\u6559\u7a0b\u4e00\u8d77\u5b66\u4e60  \u6211\u4eec\u5efa\u8bae Django\u5b98\u65b9\u6559\u7a0b \u4f5c\u4e3a\u8fd9\u672c\u4e66\u6bcf\u4e2a\u7ae0\u8282\u7684\u7ec3\u4e60\u9898.\u4f60\u53ef\u4ee5\u5728\u4e0b\u8868\u4e2d\u627e\u5230\u8fd9\u4e24\u672c\u4e66\u7ae0\u8282\u4e4b\u95f4\u7684\u5bf9\u5e94\u5173\u7cfb.\u5b98\u65b9\u6559\u5b66\u7684\u7ec3\u4e60\u5c06\u4f1a\u5e2e\u52a9\u4f60\u6df1\u5165\u4e86\u89e3Django\u6846\u67b6,\u800c\u4e14\u4f1a\u63d0\u5347\u4f60\u7684\u6280\u5de7.     Tango woth Django  Django Tutorial      Chapter 3  Part 1 - Models    Chapter 5  Part 2 - The Admin Interface    Chapter 6  Part 3 - URLs and Views    Chapter 7  Part 4 - Templates    Chapter 18  Part 5 - Testing    Chapter 11  Part 6 - CSS", 
            "title": "2.10 \u603b\u7ed3"
        }, 
        {
            "location": "/#3-tango", 
            "text": "\u8ba9\u6211\u4eec\u4e00\u8d77\u51fa\u53d1!\u4e3a\u4e86\u548cDjango\u4e00\u8d77\u63a2\u6208,\u4f60\u9700\u8981\u786e\u4fdd\u4f60\u5df2\u7ecf\u5728\u4f60\u7684\u7535\u8111\u4e0a\u5b89\u88c5\u4e86\u6240\u6709\u9700\u8981\u7684\u4e1c\u897f,\u800c\u4e14\u4f60\u9700\u8981\u638c\u63e1\u4f60\u7684\u5f00\u53d1\u73af\u5883.\u672c\u7ae0\u8ba9\u4f60\u4e86\u89e3\u4f60\u9700\u8981\u4ec0\u4e48\u5e76\u4e14\u9700\u8981\u638c\u63e1\u54ea\u4e9b\u77e5\u8bc6.  \u5bf9\u4e8e\u672c\u6559\u7a0b,\u4f60\u9700\u8981\u4e0b\u9762\u4e24\u4e2a\u5173\u952e\u7684\u8f6f\u4ef6:   Python 2.7.5+  Django 1.7   \u4f5c\u4e3a\u7f16\u5199Django\u8fd9\u4e2aweb\u6846\u67b6\u7684\u7a0b\u5e8f\u8bed\u8a00,\u4f60\u9700\u8981\u4e86\u89e3Python\u7684\u4e00\u4e9b\u77e5\u8bc6.\u5982\u679c\u4f60\u4ece\u6765\u6ca1\u6709\u4f7f\u7528\u8fc7Python\u5e76\u4e14\u5e0c\u671b\u638c\u63e1\u8fd9\u95e8\u8bed\u8a00,\u6211\u4eec\u5f3a\u70c8\u63a8\u8350\u4f60\u5b66\u4e60\u4ee5\u4e0b\u81f3\u5c11\u4e00\u4e2a\u6559\u7a0b.   A quick tutorial - Learn Python in 10 Minutes by Stavros, http://www.korokithakis.net/tutorials/python/.  The Official Python Tutorial at http://docs.python.org/2/tutorial/.  A brilliant book: Think Python: How to Think like a Computer Scientist by Allen B. Downey, available online at http://www.greenteapress.com/thinkpython/.  An amazing online course: Learn to Program, by Jennifer Campbell and Paul Gries at https://www.coursera.org/course/programming1.", 
            "title": "3 \u51c6\u5907\u597dTango"
        }, 
        {
            "location": "/#31", 
            "text": "\u5b66\u4e60\u5982\u4f55\u4f7f\u7528\u4f60\u7684\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7684\u547d\u4ee4\u884c\u4ea4\u4e92\u5bf9\u8bbe\u7f6e\u4f60\u7684\u73af\u5883\u6765\u8bf4\u81f3\u5173\u91cd\u8981.\u5728\u672c\u6559\u7a0b\u4e2d,\u4f60\u5e94\u5f53\u4e60\u60ef\u7528\u547d\u4ee4\u884c\u8fdb\u884c\u4ea4\u4e92.\u5982\u679c\u4f60\u5df2\u7ecf\u719f\u6089\u4f7f\u7528\u547d\u4ee4\u884c\u90a3\u4e48\u4f60\u53ef\u4ee5\u76f4\u63a5\u8df3\u5230 \u5b89\u88c5\u8f6f\u4ef6 \u8fd9\u4e00\u7ae0\u8282.  \u7c7bUNIX\u7cfb\u7edf\u90fd\u6709\u4e00\u4e2a\u770b\u8d77\u6765\u76f8\u4f3c\u7684 \u7ec8\u7aef .UNIX\u6709\u8bb8\u591a\u6d3e\u751f\u6216\u8005\u884d\u751f\u7684\u540e\u4ee3,\u5305\u62ec\u82f9\u679c\u7684 OS X \u548c\u8bb8\u591a Linux\u53d1\u884c\u7248\u672c .\u6240\u6709\u7684\u8fd9\u4e9b\u64cd\u4f5c\u7cfb\u7edf\u90fd\u5305\u542b\u4e00\u7cfb\u5217\u547d\u4ee4\u884c\u754c\u9762\u53ef\u4ee5\u5e2e\u52a9\u4f60\u7ba1\u7406\u6587\u4ef6\u548c\u8fd0\u884c\u7a0b\u5e8f,\u4ed6\u4eec\u5e76\u4e0d\u9700\u8981\u56fe\u5f62\u754c\u9762.\u672c\u8282\u4ecb\u7ecd\u4f60\u5e94\u5f53\u638c\u63e1\u7684\u5173\u952e\u547d\u4ee4.   Note  \u8fd9\u4e2a\u6559\u7a0b\u9488\u5bf9\u7684\u662f\u7c7bUNIX\u7cfb\u7edf.\u867d\u7136Django\u548cPython\u53ef\u4ee5\u5728Windows\u7cfb\u7edf\u4e0b\u8fd0\u884c,\u4f46\u662f\u8fd9\u672c\u4e66\u4e2d\u7684\u5927\u90e8\u5206\u547d\u4ee4\u90fd\u662f\u9488\u5bf9\u7c7bUNIX\u7ec8\u7aef\u7684.\u5728Windows\u4e2d,\u53ef\u4ee5\u7528\u4e0e UNIX\u76f8\u8fd1\u7684\u547d\u4ee4 \u6216\u8005\u4f7f\u7528\u4effUNIX\u7ec8\u7aef\u7684 PowerShell \u6765\u8fd0\u884c\u8fd9\u4e9b\u547d\u4ee4.   \u5982\u679c\u8fdb\u5165\u4e00\u4e2a\u7ec8\u7aef\u91cc,\u4f60\u4f1a\u770b\u5230\u5982\u4e0b\u7684\u5f62\u5f0f:  sibu:~leif$  \u8fd9\u4e2a\u53eb\u505a\u63d0\u793a\u7b26,\u63d0\u793a\u4f60\u7cfb\u7edf\u6b63\u5728\u7b49\u5f85\u6267\u884c\u952e\u5165\u7684\u547d\u4ee4.\u8fd9\u4e2a\u63d0\u793a\u7b26\u53ef\u80fd\u56e0\u4e3a\u4f60\u7cfb\u7edf\u7684\u4e0d\u540c\u800c\u6709\u6240\u533a\u522b,\u4f46\u662f\u5927\u81f4\u4e0a\u770b\u8d77\u6765\u90fd\u8fd9\u6837.\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\u7ed9\u51fa\u4e863\u4e2a\u6709\u7528\u7684\u4fe1\u606f:   \u4f60\u7684\u7528\u6237\u540d\u548c\u7535\u8111\u540d( leif \u7528\u6237\u540d\u548c sibu \u7535\u8111\u540d)  \u4f60\u7684\u5f53\u524d\u76ee\u5f55(\u6ce2\u6d6a\u7ebf,\u6216\u8005 ~ )  \u4f60\u7528\u6237\u7684\u6743\u9650(\u7f8e\u5143\u7b26,\u6216\u8005 $ )   \u7f8e\u5143\u7b26( $ )\u4e00\u822c\u610f\u5473\u7740\u7528\u6237\u4f5c\u4e3a\u4e00\u4e2a\u6807\u51c6\u7684\u7528\u6237.\u76f8\u53cd,\u5982\u679c\u662f\u4e95\u5b57\u53f7( # )\u5219\u8868\u793a\u7528\u6237\u5177\u6709 root\u6743\u9650 .\u4e0d\u7ba1\u4ec0\u4e48\u7b26\u53f7\u90fd\u610f\u5473\u7740\u7535\u8111\u6b63\u5728\u7b49\u5f85\u4f60\u7684\u8f93\u5165.  \u6253\u5f00\u7ec8\u7aef\u7a97\u53e3,\u770b\u4e00\u770b\u4f60\u7684\u63d0\u793a\u7b26\u662f\u4ec0\u4e48.  \u5f53\u4f60\u4f7f\u7528\u7ec8\u7aef\u7684\u65f6\u5019,\u77e5\u9053\u4f60\u5904\u4e8e\u7cfb\u7edf\u6587\u4ef6\u7684\u4ec0\u4e48\u4f4d\u7f6e\u662f\u975e\u5e38\u91cd\u8981\u7684.\u4e3a\u4e86\u77e5\u9053\u4f60\u4f4d\u4e8e\u54ea\u91cc,\u4f60\u53ef\u4ee5\u952e\u5165 pwd \u547d\u4ee4.\u5b83\u4f1a\u663e\u793a\u51fa\u4f60\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55.\u4f8b\u5982:  Last login: Mon Sep 23 11:35:44 on ttys003\nsibu:~ leif$ pwd\n/Users/leif\nsibu:~ leif$  \u4f60\u53ef\u4ee5\u770b\u5230\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u662f: /Users/leif .  \u540c\u65f6\u4f60\u53ef\u4ee5\u6ce8\u610f\u5230\u6211\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e3a~.\u8fd9\u662f\u56e0\u4e3a\u6ce2\u6d6a\u7ebf( ~ )\u8868\u793a\u6211\u7684\u4e3b\u76ee\u5f55.\u6240\u6709\u7c7bUNIX\u6587\u4ef6\u7cfb\u7edf\u7684\u90fd\u662f\u6839\u76ee\u5f55\u4f5c\u4e3a\u8d77\u59cb\u57fa\u70b9\u7684.\u6839\u76ee\u5f55\u7528 / \u8868\u793a.  \u5982\u679c\u4f60\u4e0d\u5728\u4f60\u7684\u4e3b\u76ee\u5f55\u91cc,\u4f60\u53ef\u4ee5\u901a\u8fc7\u952e\u5165\u5982\u4e0b\u547d\u4ee4\u6539\u53d8\u76ee\u5f55( cd ).  $ cd ~  \u8ba9\u6211\u4eec\u5efa\u4e00\u4e2a\u540d\u53eb code \u7684\u6587\u4ef6\u5939.\u53ef\u4ee5\u952e\u5165\u5efa\u7acb\u6587\u4ef6\u5939\u547d\u4ee4( mkdir ),\u5982\u4e0b.  $ mkdir code  \u8fdb\u5165\u65b0\u5efa\u7684 code \u6587\u4ef6\u5939,\u952e\u5165 cd code .\u5982\u679c\u4f60\u68c0\u67e5\u4f60\u73b0\u5728\u7684\u5de5\u4f5c\u76ee\u5f55,\u4f60\u53ef\u4ee5\u770b\u5230\u4f60\u5904\u5728 ~/code/ \u76ee\u5f55\u4e2d.\u540c\u6837\u4f60\u53ef\u4ee5\u901a\u8fc7\u4f60\u7684\u63d0\u793a\u7b26\u770b\u51fa\u6765.\u770b\u4e0b\u9762\u7684\u4f8b\u5b50,\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u51fa\u73b0\u5728\u7535\u4e3b\u673a\u540d\u5b57 sibu \u540e\u9762.   Note  \u4ee5\u540e\u4e0d\u7ba1\u4ec0\u4e48\u65f6\u5019\u63d0\u5230\u5de5\u4f5c\u7a7a\u95f4( workspace ),\u6211\u4eec\u6307\u7684\u662f\u4f60\u7684 code \u76ee\u5f55   sibu:~ leif$ mkdir code\nsibu:~ leif$ cd code\nsibu:code leif$\nsibu:code leif$ pwd\n/Users/leif/code  \u5217\u51fa\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6,\u53ef\u4ee5\u7528 ls \u547d\u4ee4.\u5982\u679c\u4f60\u60f3\u67e5\u770b\u9690\u85cf\u6587\u4ef6\u6216\u76ee\u5f55\u53ea\u9700\u8981\u952e\u5165 ls -a \u547d\u4ee4,\u8fd9\u91cc a \u53c2\u6570\u6307\u4ee3\u5168\u90e8.\u5982\u679c cd \u56de\u5230\u4f60\u7684\u4e3b\u76ee\u5f55( cd ~ )\u7136\u540e\u952e\u5165 ls ,\u4f60\u5c31\u4f1a\u770b\u5230\u5728\u4f60\u7684\u4e3b\u76ee\u5f55\u91cc\u6709\u4e2a\u53eb code \u7684\u6587\u4ef6\u5939.  \u4e3a\u4e86\u67e5\u770b\u4f60\u76ee\u5f55\u91cc\u7684\u66f4\u591a\u4fe1\u606f,\u53ef\u4ee5\u8f93\u5165 ls -l .\u5b83\u4f1a\u5c55\u793a\u4f60\u6587\u4ef6\u7684\u8bb8\u591a\u8be6\u7ec6\u4fe1\u606f\u5305\u62ec\u4ed6\u662f\u5426\u662f\u76ee\u5f55(\u901a\u8fc7\u524d\u9762\u7684 d \u53ef\u4ee5\u770b\u51fa)  sibu:~ leif$ cd ~\nsibu:~ leif$ ls -l\n\ndrwxr-xr-x   36 leif  staff    1224 23 Sep 10:42 code  \u8f93\u51fa\u4fe1\u606f\u540c\u65f6\u5305\u542b \u76ee\u5f55\u6743\u9650\u7684\u4fe1\u606f ,\u8c01\u5efa\u7acb\u4e86\u8fd9\u4e2a\u6587\u4ef6\u5939( leif ),\u5b83\u7684\u7fa4\u7ec4( staff ),\u5927\u5c0f,\u8fd9\u4e2a\u6587\u4ef6\u4fee\u6539\u65f6\u95f4,\u5f53\u7136\u8fd8\u6709\u5b83\u7684\u540d\u5b57.  \u901a\u8fc7\u7ec8\u7aef\u4f60\u53ef\u4ee5\u53d1\u73b0\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u4fee\u6539\u6587\u4ef6.\u5728\u4f60\u7684\u7535\u8111\u4e0a\u53ef\u80fd\u5df2\u7ecf\u5b89\u88c5\u4e86\u8bb8\u591a\u51fa\u8272\u7684\u7f16\u8f91\u5668. nano \u7f16\u8f91\u5668\u662f\u4e00\u4e2a\u5f88\u7b80\u6d01\u7684\u7f16\u8f91\u5668,\u5b83\u4e0d\u50cf vi \u9700\u8981\u82b1\u5f88\u591a\u65f6\u95f4\u6765\u5b66\u4e60.\u4e0b\u9762\u5c06\u4ecb\u7ecd\u4e00\u4e9b\u5341\u5206\u6709\u7528\u7684UNIX\u547d\u4ee4.  3.1.1 \u5e38\u7528\u547d\u4ee4  \u6240\u6709\u7684\u7c7bUNIX\u64cd\u4f5c\u7cfb\u7edf\u90fd\u6709\u4e00\u7cfb\u5217\u7684\u9488\u5bf9\u6587\u4ef6\u7ba1\u7406\u7684\u5185\u5efa\u547d\u4ee4.\u4e0b\u9762\u5c06\u5217\u51fa\u4e00\u4e9b\u4f7f\u7528\u9891\u7387\u975e\u5e38\u9ad8\u7684\u547d\u4ee4,\u6211\u4eec\u5c06\u4f1a\u7b80\u5355\u4ecb\u7ecd\u5b83\u4eec\u662f\u5e72\u4ec0\u4e48\u7684\u548c\u5982\u4f55\u53bb\u4f7f\u7528\u5b83\u4eec.   pwd :\u5728\u7ec8\u7aef\u6253\u5370\u51fa\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55.\u5c55\u793a\u51fa\u5f53\u524d\u6240\u5728\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84.  ls :\u5728\u7ec8\u7aef\u6253\u5370\u51fa\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e2d\u6587\u4ef6\u5217\u8868.\u9ed8\u8ba4\u60c5\u51b5\u4e0b,\u4f60\u4e0d\u4f1a\u770b\u5230\u6587\u4ef6\u5927\u5c0f - \u53ef\u4ee5\u901a\u8fc7 ls -lh \u547d\u4ee4\u8fdb\u884c\u67e5\u770b.  cd :\u540e\u8fb9\u8fde\u63a5\u8def\u5f84,\u53ef\u4ee5\u5141\u8bb8\u4f60\u6539\u53d8\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55.\u4f8b\u5982, cd /home/leif/ \u6539\u53d8\u5de5\u4f5c\u76ee\u5f55\u5230 /home/leif/ .\u4f60\u8fd8\u53ef\u4ee5\u901a\u8fc7\u952e\u5165\u4e24\u4e2a\u70b9( cd .. )\u8f6c\u79fb\u5230\u4e0a\u4e00\u7ea7\u76ee\u5f55\u800c\u4e0d\u7528\u8f93\u5165 \u7edd\u5bf9\u8def\u5f84 .  cp :\u590d\u5236\u6587\u4ef6\u6216\u8005\u76ee\u5f55.\u4f60\u5fc5\u987b\u63d0\u4f9b\u6e90\u548c\u76ee\u6807.\u4f8b\u5982,\u5982\u679c\u8981\u5728\u540c\u4e00\u6587\u4ef6\u5939\u91cc\u590d\u5236 input.py ,\u90a3\u4f60\u53ef\u4ee5\u8fd9\u6837\u8f93\u5165 cp input.py input_backup.py  mv \u79fb\u52a8\u6587\u4ef6\u6216\u8005\u76ee\u5f55.\u50cf cp \u4e00\u6837,\u5fc5\u987b\u63d0\u4f9b\u6e90\u548c\u76ee\u6807.\u8fd9\u4e2a\u547d\u4ee4\u8fd8\u53ef\u4ee5\u91cd\u547d\u540d\u6587\u4ef6.\u4f8b\u5982,\u628a numbers.txt \u91cd\u547d\u540d\u4e3a letters.txt \u53ea\u9700\u952e\u5165 mv numbers.txt letters.txt .\u628a\u4e00\u4e2a\u6587\u4ef6\u79fb\u52a8\u5230\u53e6\u4e00\u4e2a\u76ee\u5f55,\u4f60\u53ef\u4ee5\u4f7f\u7528\u7edd\u5bf9\u6216\u8005\u76f8\u5bf9\u8def\u5f84\u4f5c\u4e3a\u76ee\u7684\u5730\u5740 - \u6bd4\u5982 mv numbers.txt /home/david/numbers.txt .  mkdir :\u5728\u5f53\u524d\u76ee\u5f55\u521b\u89c1\u6587\u4ef6\u5939.\u4f60\u9700\u8981\u63d0\u4f9b\u4e00\u4e2a\u65b0\u6587\u4ef6\u5939\u7684\u540d\u5b57\u5728 mkdir \u547d\u4ee4\u540e\u9762.\u4f8b\u5982,\u5f53\u524d\u76ee\u5f55\u662f /home/david/ ,\u8fd0\u884c mkdir music ,\u4f60\u5c06\u4f1a\u5f97\u5230\u4e00\u4e2a\u6587\u4ef6\u5939 /home/david/music/ .\u4f60\u9700\u8981\u952e\u5165 cd \u6765\u8fdb\u5165\u8fd9\u4e2a\u6587\u4ef6\u5939.  rm :remove\u7684\u7b80\u5199,\u8fd9\u4e2a\u547d\u4ee4\u4f1a\u5220\u9664\u4f60\u7684\u6587\u4ef6.\u4f60\u5fc5\u987b\u63d0\u4f9b\u4f60\u8981\u5220\u9664\u6587\u4ef6\u7684\u540d\u5b57.\u5982\u679c\u4f60\u8f93\u5165 rm \u547d\u4ee4,\u5b83\u4f1a\u63d0\u793a\u4f60\u662f\u5426\u5e0c\u671b\u5220\u9664\u8fd9\u4e2a\u6587\u4ef6\u7684\u9009\u9879.\u4f60\u4e5f\u53ef\u4ee5\u7528 \u9012\u5f52\u5220\u9664 \u6765\u5220\u9664\u6587\u4ef6\u5939.\u7528\u8fd9\u4e2a\u547d\u4ee4\u4e00\u5b9a\u8981\u5c0f\u5fc3,\u8981\u6062\u590d\u5220\u9664\u7684\u6587\u4ef6\u51e0\u4e4e\u4e0d\u53ef\u80fd.  rmdir :\u5220\u9664\u76ee\u5f55\u7684\u4f20\u7edf\u65b9\u6cd5.\u5728\u540e\u9762\u63d0\u4f9b\u4f60\u8981\u5220\u9664\u7684\u76ee\u5f55.\u9700\u8981\u6ce8\u610f\u7684\u662f:\u8fd9\u4e2a\u547d\u4ee4\u6ca1\u6709\u63d0\u793a\u662f\u5426\u8981\u5220\u9664\u8fd9\u4e2a\u76ee\u5f55.  sudo :\u5141\u8bb8\u4f60\u7528\u5176\u4ed6\u7528\u6237\u6743\u9650\u6765\u8fd0\u884c\u8fd9\u4e2a\u7a0b\u5e8f.\u4e00\u822c,\u7528 root (\u7c7bUNIX\u6216\u8005UNIX\u884d\u751f\u7cfb\u7edf\u7684 \u8d85\u7ea7\u7528\u6237 )\u8eab\u4efd\u6765\u8fd0\u884c\u8fd9\u4e2a\u7a0b\u5e8f.    Note  \u8fd9\u91cc\u53ea\u5217\u51fa\u4e86\u4e00\u5c0f\u90e8\u5206\u547d\u4ee4\u5217\u8868.\u5982\u679c\u60f3\u4e86\u89e3\u66f4\u591a\u8bf7\u67e5\u770bubuntu\u7684\u5173\u4e8e \u4f7f\u7528\u7ec8\u7aef \u7684\u6587\u6863,\u6216\u8005FOSSwire\u5199\u7684 Cheat Sheet .", 
            "title": "3.1 \u4f7f\u7528\u7ec8\u7aef"
        }, 
        {
            "location": "/#32", 
            "text": "\u73b0\u5728\u4f60\u5df2\u7ecf\u77e5\u9053\u600e\u4e48\u548c\u7ec8\u7aef\u6253\u4ea4\u9053\u4e86,\u4f60\u53ef\u4ee5\u6309\u7740\u8fd9\u4e2a\u6559\u7a0b\u7684\u8981\u6c42\u5b89\u88c5\u8f6f\u4ef6\u4e86.  3.2.1 \u5b89\u88c5Python  Python2.7.5\u5df2\u7ecf\u5b89\u5230\u4f60\u7684\u7535\u8111\u4e0a\u4e86\u5417?\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662flinux\u53d1\u884c\u7248\u6216\u8005OS X\u7cfb\u7edf,\u90a3\u4e48\u4f60\u7684Python\u5df2\u7ecf\u5b89\u88c5\u597d\u4e86.\u56e0\u4e3a\u8bb8\u591a\u7cfb\u7edf\u7684\u529f\u80fd\u90fd\u662f\u6709Python\u5b9e\u73b0\u7684,\u6240\u4ee5\u4ed6\u4eec\u672c\u8eab\u81ea\u5e26 Python\u89e3\u6790\u5668 !  \u5f88\u4e0d\u5e78,\u51e0\u4e4e\u6240\u6709\u7684\u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\u7684Python\u7248\u672c\u90fd\u6bd4\u6211\u4eec\u5728\u8fd9\u4e2a\u6559\u7a0b\u91cc\u9700\u8981\u7684\u8981\u8001.\u6709\u8bb8\u591a\u65b9\u6cd5\u53ef\u4ee5\u5b89\u88c5Python,\u8bb8\u591a\u65b9\u6cd5\u90fd\u975e\u5e38\u82e6\u96be.\u6211\u4eec\u63d0\u4f9b\u4e86\u6700\u5e38\u7528\u7684\u65b9\u6cd5,\u5e76\u4e14\u63d0\u4f9b\u83b7\u53d6\u66f4\u591a\u4fe1\u606f\u7684\u94fe\u63a5.   Warning  \u8fd9\u4e2a\u6bb5\u843d\u5c06\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\u5982\u4f55\u5b89\u88c5Python2.7.5.\u4f46\u662f\u5343\u4e07\u4e0d\u8981\u79fb\u9664\u7cfb\u7edf\u9ed8\u8ba4\u7684Python.\u8fd9\u6837\u505a\u53ef\u80fd\u635f\u574f\u4f60\u7684\u7cfb\u7edf.   3.2.1.1 \u82f9\u679cOS X  \u8fd9\u4e2a\u65b9\u6cd5\u6700\u7b80\u5355,\u4f60\u53ea\u9700\u8981\u4e0b\u8f7d\u5e76\u8fd0\u884c\u5b98\u65b9\u7684\u4e0b\u8f7d\u5668\u5373\u53ef.\u7f51\u5740\u5728 http://www.python.org/getit/releases/2.7.5/.   Warning  \u5728\u4e0b\u8f7d\u524d\u786e\u4fdd .dmg \u6587\u4ef6\u7684\u7248\u672c\u548c\u4f60\u7684OS X\u7cfb\u7edf\u7684\u7248\u672c\u76f8\u7b26!    \u4e0b\u8f7d\u5b8c .dmg \u6587\u4ef6,\u5728\u76ee\u5f55\u91cc\u53cc\u51fb.  \u6587\u4ef6\u4f1a\u4ee5\u78c1\u76d8\u65b9\u5f0f\u6302\u8f7d,\u5e76\u4f1a\u51fa\u73b0\u4e00\u4e2a\u65b0\u7684Finder\u7a97\u53e3.  \u53cc\u51fb Python.mpkg \u6587\u4ef6.\u5c06\u4f1a\u8fd0\u884cPython\u5b89\u88c5\u5668.  \u4f60\u5fc5\u987b\u8f93\u5165\u5bc6\u7801\u786e\u8ba4\u4f60\u8981\u5b89\u88c5\u8fd9\u4e2a\u8f6f\u4ef6.  \u6240\u6709\u4ee5\u4e0a\u90fd\u5b8c\u6210\u4e86,\u5173\u95ed\u5b89\u88c5\u5668\u5e76\u5f39\u51faPython\u78c1\u76d8.\u73b0\u5728\u53ef\u4ee5\u5220\u9664 .dmg \u6587\u4ef6.   \u4f60\u73b0\u5728\u5c31\u5df2\u7ecf\u5b89\u88c5\u4e86\u5347\u7ea7\u8fc7\u540e\u7684Python\u4e86,\u4e3aDjango\u505a\u597d\u51c6\u5907!\u662f\u4e0d\u662f\u7070\u5e38\u7b80\u5355?  3.2.1.2 Linux\u53d1\u884c\u7248  \u4e0d\u5e78\u7684\u662f,\u5728Linux\u53d1\u884c\u7248\u4e0a\u4e0b\u8f7d\u66f4\u65b0Python\u6709\u8bb8\u591a\u4e0d\u540c\u7684\u65b9\u6cd5.\u66f4\u7cdf\u7cd5\u7684\u662f\u6bcf\u4e2a\u53d1\u884c\u7248\u7684\u65b9\u6cd5\u90fd\u4e0d\u4e00\u6837.\u4f8b\u5982, Fedora \u5b89\u88c5Python\u7684\u65b9\u6cd5\u5c31\u548c Ubuntu \u4e0d\u4e00\u6837.  \u7136\u800c\u5e76\u4e0d\u662f\u4e00\u70b9\u65b9\u6cd5\u90fd\u6ca1\u6709.\u4e00\u4e2a\u975e\u5e38\u725bB\u7684\u53eb\u505a Pythonbrew \u5de5\u5177(\u6216\u8005\u8bf4\u662fPython\u73af\u5883\u7ba1\u7406\u5668)\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u89e3\u51b3\u8fd9\u4e00\u96be\u9898.\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u5b89\u88c5\u548c\u7ba1\u7406\u4e0d\u540c\u7248\u672cPython\u7684\u65b9\u6cd5.\u8fd9\u610f\u5473\u7740\u4f60\u53ef\u4ee5\u4e0d\u7528\u7ba1\u7cfb\u7edf\u5df2\u7ecf\u9ed8\u8ba4\u5b89\u88c5\u7684Python\u4e86.  \u53ef\u4ece pythonbrew \u7684\u4e3b\u9875\u548c stackOverflow \u4e86\u89e3\u5230,\u5b89\u88c5Python2.7.5\u9700\u8981\u4ee5\u4e0b\u6b65\u9aa4.   \u6253\u5f00\u4e00\u4e2a\u7ec8\u7aef  \u8fd0\u884c\u547d\u4ee4 curl -kL http://xrl.us/pythonbrewinstall | bash .\u4f60\u5c06\u4f1a\u4e0b\u8f7d\u4e00\u4e2a\u5b89\u88c5\u5668,\u7136\u540e\u5728\u7ec8\u7aef\u91cc\u8fd0\u884c\u5b83.pythonbrew\u5c06\u4f1a\u5b89\u88c5\u5728 ~/.pythonbrew \u76ee\u5f55.\u8bb0\u4f4f ~ \u7b26\u53f7\u8868\u793a\u4f60\u7684\u4e3b\u76ee\u5f55.  \u4f60\u9700\u8981\u7f16\u8f91 ~/.bashrc \u6587\u4ef6.\u901a\u8fc7\u7f16\u8f91\u5668(\u6bd4\u5982 gedit , nano , vi \u6216\u8005 emacs )\u6253\u5f00,\u5728\u6587\u4ef6\u6700\u540e\u52a0\u5165\u4e0b\u9762 [[ -s $HOME/.pythonbrew/etc/bashrc ]]   source $HOME/.pythonbrew/etc/bashrc  \u4fdd\u5b58 ~/.bashrc \u6587\u4ef6,\u5173\u95ed\u7ec8\u7aef\u5e76\u91cd\u65b0\u6253\u5f00\u4e00\u4e2a\u65b0\u7684.\u8fd9\u6837\u505a\u4f60\u7684\u6539\u53d8\u5c31\u53ef\u4ee5\u751f\u6548\u4e86.  \u8fd0\u884c pythonbrew install 2.7.5 \u6765\u5b89\u88c5Python 2.7.5.  \u73b0\u5728\u4f60\u9700\u8981\u5207\u6362Python2.7.5\u6765\u6fc0\u6d3bPython\u7684\u5b89\u88c5.\u53ea\u9700\u8981\u952e\u5165 pythonbrew switch 2.7.5 .  Python 2.7.5\u5c31\u5df2\u7ecf\u5b89\u88c5\u597d\u4e86.    Note  \u4ee5\u70b9\u53f7\u5f00\u5934\u7684\u6587\u4ef6\u6216\u8005\u76ee\u5f55\u540cwindows\u91cc\u7684\u9690\u85cf\u6587\u4ef6\u662f\u4e00\u6837\u7684. Dot file \u6b63\u5e38\u60c5\u51b5\u4e0b\u662f\u770b\u4e0d\u89c1\u7684,\u4ed6\u4eec\u901a\u5e38\u7528\u4f5c\u914d\u7f6e\u6587\u4ef6.\u5982\u679c\u8981\u67e5\u770b\u9690\u85cf\u7684\u6587\u4ef6\u53ea\u9700\u8981\u952e\u5165 ls -a .   3.2.1.3 Windows  Windows\u5e76\u6ca1\u6709\u9ed8\u8ba4\u5b89\u88c5Python.\u4e5f\u5c31\u662f\u8bf4\u4e0d\u5fc5\u8003\u8651\u9057\u7559\u7248\u672c\u7684\u95ee\u9898,\u53ea\u9700\u4e0b\u8f7d\u5b89\u88c5\u5373\u53ef.\u53ef\u4ee5\u4ece Python\u5b98\u65b9\u7f51\u7ad9 \u4e0b\u8f7d64\u4f4d\u6216\u800532\u4f4d\u7684\u7248\u672c.\u5982\u679c\u4f60\u4e0d\u786e\u5b9a\u8981\u4e0b\u8f7d\u54ea\u4e00\u4e2a,\u4f60\u53ef\u4ee5\u901a\u8fc7\u8bbf\u95ee the Microsoft website \u6765\u786e\u5b9a\u4f60\u7684\u7535\u8111\u662f64\u4f4d\u8fd8\u662f32\u4f4d.   \u5f53\u5b89\u88c5\u5668\u4e0b\u597d\u4ee5\u540e,\u6253\u5f00\u5b83.  \u6839\u636e\u63d0\u793a\u5b89\u88c5Python  \u5b8c\u6210\u540e\u5173\u95ed\u5b89\u88c5\u5668,\u5220\u9664\u4e0b\u8f7d\u7684\u6587\u4ef6.   \u5f53\u5b89\u88c5\u5668\u5b8c\u6210\u4ee5\u540e,\u4f60\u7684Python\u5c31\u80fd\u5b89\u88c5\u597d\u5e76\u4e14\u80fd\u7528\u4e86.Python2.7.5\u9ed8\u8ba4\u5b89\u88c5\u5728 C:\\Python27 \u6587\u4ef6\u5939\u5185.\u6211\u4eec\u5efa\u8bae\u4f60\u4f7f\u7528\u8fd9\u4e2a\u9ed8\u8ba4\u7684\u8def\u5f84.  \u5b89\u88c5\u5b8c\u6bd5\u540e,\u6253\u5f00\u547d\u4ee4\u63d0\u793a\u7b26\u8f93\u5165 python .\u5982\u679c\u770b\u5230Python\u7684\u63d0\u793a\u7b26,\u8868\u793a\u5b89\u88c5\u6210\u529f.\u7136\u800c\u6709\u4e9b\u65f6\u5019\u5b89\u88c5\u5668\u4e0d\u80fd\u6b63\u786e\u7684\u8bbe\u7f6eWindows\u7684 PATH \u53d8\u91cf.\u5c06\u5bfc\u81f4 python \u547d\u4ee4\u4e0d\u80fd\u88ab\u627e\u5230.\u5728Windows7\u91cc\u53ef\u4ee5\u6309\u7167\u5982\u4e0b:   \u70b9\u51fb\u5f00\u59cb\u6309\u94ae,\u53f3\u952e\u70b9\u51fb\u6211\u7684\u7535\u8111\u9009\u62e9\u5c5e\u6027.  \u70b9\u51fb\u9ad8\u7ea7\u9009\u9879\u5361.  \u7535\u673a\u73af\u5883\u53d8\u91cf\u6309\u94ae.  \u5728\u7cfb\u7edf\u53d8\u91cf\u5217\u8868\u91cc,\u67e5\u627e\u540d\u5b57\u53ebPath\u7684\u53d8\u91cf,\u70b9\u51fb\u5e76\u9009\u62e9\u7f16\u8f91\u6309\u94ae  \u5728\u884c\u672b\u6dfb\u52a0 ;C:\\python27;C:\\python27\\scripts .\u4e0d\u8981\u5ffd\u7565\u5206\u53f7 - \u8fd8\u6709\u4e0d\u8981\u6dfb\u52a0\u7a7a\u683c.  \u70b9\u51fb\u786e\u5b9a\u4fdd\u5b58\u914d\u7f6e.  \u5173\u95ed\u6240\u6709\u7684\u547d\u4ee4\u884c,\u91cd\u65b0\u6253\u5f00,\u8bd5\u8bd5\u770b\u952e\u5165 python .   \u5982\u679c\u4e00\u6b65\u6b65\u505a\u4e0b\u6765Python\u5e94\u5f53\u5c31\u80fd\u5b89\u88c5\u6210\u529f\u4e86.\u5bf9\u4e8eWindows XP\u6765\u8bf4,\u6709 \u4e00\u4e9b\u4e0d\u540c ,\u5bf9\u4e8e Windows 8 \u7684\u60c5\u51b5\u4e5f\u662f.  3.2.2 \u8bbe\u7acbPYTHONPATH  \u5f53Python\u5b89\u88c5\u5b8c\u6bd5,\u6211\u4eec\u9700\u8981\u68c0\u67e5\u4e00\u4e0b\u5b89\u88c5\u662f\u5426\u6210\u529f.\u4e3a\u4e86\u786e\u5b9a\u5b89\u88c5\u6210\u529f\u6211\u4eec\u9700\u8981\u68c0\u67e5 PYTHONPATH \u73af\u5883\u53d8\u91cf \u6210\u529f\u88ab\u8bbe\u5b9a. PYTHONPATH \u4e3aPython\u89e3\u6790\u5668\u63d0\u4f9b\u4e86 \u5305\u548c\u6a21\u5757 \u7684\u4f4d\u7f6e.\u5982\u679c PYTHONPATH \u8bbe\u7f6e\u9519\u8bef,\u6211\u4eec\u5c06\u4e0d\u80fd\u5b89\u88c5\u548c\u4f7f\u7528Django!  \u9996\u5148,\u8ba9\u6211\u4eec\u9a8c\u8bc1 PYTHONPATH \u53d8\u91cf\u5b58\u5728.\u5728\u7c7bUNIX\u7cfb\u7edf\u4e2d,\u952e\u5165\u5982\u4e0b\u547d\u4ee4.  $ echo $PYTHONPATH  \u5728Windows\u7cfb\u7edf\u4e2d.  $ echo %PYTHONPATH%  \u5982\u679c\u6210\u529f\u8fd0\u884c,\u4f60\u5c06\u4f1a\u770b\u5230\u5982\u4e0b\u76f8\u4f3c\u7684\u8f93\u51fa.\u5728Windows\u7cfb\u7edf\u4e2d\u4f60\u5c06\u4f1a\u770b\u89c1\u4e00\u4e2aWindows\u8def\u5f84,\u5927\u591a\u6570\u5b83\u4eec\u662f\u4ee5C\u76d8\u4f5c\u4e3a\u6839\u76ee\u5f55.  /opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages:  \u8fd9\u4e2a\u8def\u5f84\u5c31\u662fPython\u5305\u548c\u6a21\u5757\u5b58\u653e\u7684\u8def\u5f84.\u5982\u679c\u4f60\u5f97\u5230\u4e86\u8fd9\u4e2a\u8def\u5f84,\u4f60\u53ef\u4ee5\u7ee7\u7eed\u63a5\u4e0b\u6765\u7684\u6559\u7a0b\u4e86.\u5982\u679c\u4f60\u4ec0\u4e48\u90fd\u6ca1\u6709\u5f97\u5230,\u4f60\u9700\u8981\u505a\u4e00\u4e9b\u989d\u5916\u7684\u5de5\u4f5c\u53bb\u627e\u5230\u8fd9\u4e2a\u8def\u5f84.\u5982\u679c\u5728Windows\u7cfb\u7edf\u91cc site-packages \u4e00\u822c\u4f4d\u4e8e\u5b89\u88c5Python\u76ee\u5f55\u7684 lib \u6587\u4ef6\u5939\u91cc.\u4f8b\u5982,\u5982\u679c\u4f60\u5728 C:\\Python27 \u5b89\u88c5\u4e86Python,\u90a3\u4e48 site-packages \u4e00\u822c\u5c31\u4f1a\u5728 C:\\Python27\\Lib\\site-packages\\ .  \u5bf9\u4e8e\u7c7bUNIX\u7cfb\u7edf,\u5148\u6253\u5f00Python\u89e3\u6790\u5668.\u8f93\u5165\u5982\u4e0b\u7684\u547d\u4ee4.  $ python\n\nPython 2.7.5 (v2.7.5:ab05e7dd2788, May 13 2013, 13:18:45)\n[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin\nType  help ,  copyright ,  credits  or  license  for more information.  import site  print site.getsitepackages()[0]\n\n'/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages'  quit()  \u8c03\u7528 site.getsitepackages() \u5c06\u4f1a\u8fd4\u56dePython\u5b58\u50a8\u5305\u548c\u6a21\u5757\u7684\u5730\u5740\u5217\u8868.\u5982\u679c\u8c03\u7528 getsitepackages() \u51fd\u6570\u7684\u65f6\u5019\u8fd4\u56de\u9519\u8bef,\u90a3\u4e48\u9700\u8981\u68c0\u67e5\u4e00\u4e0bPython\u7684\u7248\u672c.\u53ea\u67092.7.5\u53ca\u4ee5\u4e0a\u7248\u672c\u624d\u5305\u542b\u8fd9\u4e2a\u51fd\u6570.  print site.getsitepackages()[0] \u8bed\u53e5\u8fd0\u884c\u7684\u7ed3\u679c\u4f1a\u8fd4\u56de\u5b89\u88c5\u7684 site-packages \u76ee\u5f55.\u5f97\u5230\u8fd9\u4e2a\u8def\u5f84,\u6211\u4eec\u9700\u8981\u628a\u5b83\u6dfb\u52a0\u8fdb\u4f60\u7684\u8bbe\u7f6e.\u5728\u7c7bUNIX\u7cfb\u7edf\u91cc,\u518d\u6b21\u7f16\u8f91 .bashrc \u6587\u4ef6,\u628a\u4e0b\u9762\u8fd9\u53e5\u52a0\u5165\u6587\u4ef6\u91cc.  export PYTHONPATH=$PYTHONPATH: PATH_TO_SITE-PACKAGES   \u628a PATH_TO_SITE-PACKAGES \u66f4\u6362\u4e3a\u4f60\u7684 site-packages \u76ee\u5f55\u5730\u5740.\u4fdd\u5b58\u6587\u4ef6,\u9000\u51fa\u5e76\u91cd\u65b0\u6253\u5f00\u7ec8\u7aef.  \u5728Windows\u673a\u5668\u4e0a,\u5982\u524d\u9762\u7684\u65b9\u6cd5\u4e00\u6837,\u8bbe\u7f6e\u4e00\u4e2a PYTHONPATH \u53d8\u91cf\u5e76\u628a\u5b83\u7684\u5730\u5740\u8bbe\u7f6e\u4e3a C:\\Python27\\Lib\\site-package .  3.2.3 \u4f7f\u7528Setuptools\u548cPip  \u5bf9\u4e8e\u4efb\u4f55\u4e00\u4e2a\u9879\u76ee\u6765\u8bf4\u5b89\u88c5\u548c\u8bbe\u7f6e\u5f00\u53d1\u73af\u5883\u90fd\u6781\u4e3a\u91cd\u8981.\u7531\u4e8e\u50cfDjango\u8fd9\u6837\u7684\u5305\u5b89\u88c5\u90fd\u662f\u5206\u522b\u5b89\u88c5\u7684,\u8fd9\u5c06\u4f1a\u5bfc\u81f4\u8bb8\u591a\u95ee\u9898\u548c\u9ebb\u70e6.\u6bd4\u5982\u8bf4,\u4f60\u5982\u4f55\u548c\u5176\u4ed6\u7684\u5f00\u53d1\u4eba\u5458\u5206\u4eab\u4f60\u7684\u8bbe\u7f6e?\u5982\u4f55\u5728\u4e00\u53f0\u65b0\u7684\u673a\u5668\u4e0a\u90e8\u7f72\u540c\u6837\u7684\u73af\u5883?\u5982\u4f55\u628a\u5305\u5347\u7ea7\u5230\u6700\u65b0\u7248\u672c?\u4f7f\u7528\u5305\u7ba1\u7406\u5de5\u5177\u53ef\u4ee5\u89e3\u51b3\u5927\u90e8\u5206\u5b89\u88c5\u548c\u8bbe\u7f6e\u73af\u5883\u7684\u95ee\u9898.\u5b83\u53ef\u4ee5\u786e\u4fdd\u5b89\u88c5\u7684\u5305\u9002\u5408\u4f60\u7684Python\u7248\u672c,\u540c\u65f6\u5b83\u4e5f\u53ef\u4ee5\u81ea\u52a8\u5b89\u88c5\u5176\u4ed6\u9700\u8981\u4f9d\u8d56\u7684\u5305\u6587\u4ef6.  \u5728\u8fd9\u672c\u4e66\u91cc\u6211\u4eec\u5c06\u4f7f\u7528Pip.Pip\u662f\u4e00\u4e2a\u5bf9\u7528\u6237\u66f4\u53cb\u597d\u7684Python\u5305\u7ba1\u7406\u5de5\u5177.\u56e0\u4e3aPip\u4f9d\u8d56\u4e8eSetuptools,\u6240\u4ee5\u6211\u4eec\u5fc5\u987b\u4fdd\u8bc1\u4e24\u4e2a\u7a0b\u5e8f\u90fd\u5b89\u88c5\u5728\u4f60\u7684\u7535\u8111\u4e0a.  \u4e00\u5f00\u59cb\u6211\u4eec\u9700\u8981\u5728 Python package website \u4e0b\u8f7dSetuptools.\u4f60\u53ef\u4ee5\u4e0b\u8f7d .tar.gz \u6587\u4ef6.\u7528\u4f60\u559c\u6b22\u7684\u89e3\u538b\u8f6f\u4ef6\u89e3\u538b\u5b83.\u5b83\u4eec\u5e94\u5f53\u88ab\u89e3\u538b\u5230 setuptools-1.1.6 \u76ee\u5f55\u91cc - \u8fd9\u91cc 1.1.6 \u4ee3\u8868Setuptools\u7248\u672c\u53f7.\u5728\u7ec8\u7aef\u91cc\u8fdb\u5165\u76ee\u5f55\u6267\u884c ez_setup.py \u811a\u672c,\u5982\u4e0b.  $ cd setuptools-1.1.6\n$ sudo python ez_setup.py  \u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d,\u6211\u4eec\u7528 sudo \u6765\u5141\u8bb8\u5728\u7cfb\u7edf\u8303\u56f4\u5185\u7684\u66f4\u6539.\u7b2c\u4e8c\u4e2a\u547d\u4ee4\u5c06\u4f1a\u4e3a\u4f60\u5b89\u88c5Setuptools.\u5982\u679c\u8f93\u51fa\u5982\u4e0b\u5c31\u53ef\u4ee5\u9a8c\u8bc1\u5b89\u88c5\u6210\u529f.  Finished processing dependencies for setuptools==1.1.6  \u5f53\u7136\u8fd9\u91cc\u7684 1.1.6 \u4f1a\u7528\u4f60\u4e0b\u7684\u7248\u672c\u53f7\u4ee3\u66ff.\u5982\u679c\u4f60\u770b\u5230\u4e0a\u9762\u7684\u8f93\u51fa,\u90a3\u4e48\u5c31\u53ef\u4ee5\u63a5\u4e0b\u6765\u5b89\u88c5Pip\u4e86.\u8fd9\u4e2a\u6b65\u9aa4\u975e\u5e38\u7684\u7b80\u5355,\u5728\u7ec8\u7aef\u4e2d\u952e\u5165\u5982\u4e0b.  $ sudo easy_install pip  \u8fd9\u4e2a\u547d\u4ee4\u540c\u6837\u4f1a\u5728\u7cfb\u7edf\u91cc\u4e0b\u8f7d\u548c\u5b89\u88c5Pip.\u5982\u679c\u8f93\u51fa\u5982\u4e0b\u5219\u5b89\u88c5\u6210\u529f.  Finished processing dependencies for pip  \u5982\u679c\u770b\u5230\u4e0a\u9762\u7684\u8f93\u51fa,\u4f60\u5c31\u53ef\u4ee5\u5728\u7ec8\u7aef\u91cc\u76f4\u63a5\u8f93\u5165 pip \u6765\u542f\u52a8Pip\u4e86.\u5982\u679c\u6ca1\u6709\u9047\u5230\u4ec0\u4e48\u9519\u8bef\u7684\u8bdd,\u4f60\u5c06\u4f1a\u770b\u5230\u4e00\u4e2aPip\u63d0\u4f9b\u7684\u547d\u4ee4\u5217\u8868.\u5982\u679c\u4f60\u770b\u5230\u4e86\u8fd9\u4e2a\u5217\u8868,\u90a3\u4e48\u606d\u559c\u4f60!   Note  \u5728Windows\u4e3b\u673a\u91cc,\u64cd\u4f5c\u90fd\u4e00\u6837.\u4f46\u662f\u5728\u8f93\u5165\u547d\u4ee4\u7684\u65f6\u5019\u4e0d\u7528\u8f93\u5165 sudo .   3.2.4 \u5b89\u88c5Django  \u5982\u679c\u5b89\u88c5Pip\u6210\u529f\u7684\u8bdd,Django\u5c31\u5bb9\u6613\u5b89\u88c5\u4e86.\u6253\u5f00\u7ec8\u7aef\u8ba9\u6211\u4eec\u6765\u8f93\u5165.  $ pip install -U django==1.7  \u5982\u679c\u4f60\u4f7f\u7528\u7c7bUNIX\u7cfb\u7edf\u7684\u8bdd\u4f60\u9700\u8981\u5728\u547d\u4ee4\u524d\u52a0 sudo .  $ sudo pip install -U django==1.7  \u5305\u7ba1\u7406\u5668\u5c06\u4f1a\u4e0b\u8f7dDjango\u5230\u6b63\u786e\u7684\u4f4d\u7f6e.\u4ee5\u4e0a\u505a\u5b8c\u540e,Django\u5c31\u5b89\u88c5\u6210\u529f\u4e86.\u6ce8\u610f,\u5982\u679c\u6ca1\u6709\u5199 ==1.7 ,\u90a3\u4e48\u4f60\u5c06\u6709\u53ef\u80fd\u5b89\u88c5\u5176\u4ed6\u7248\u672c\u7684Django.  3.2.5 \u5b89\u88c5Python\u56fe\u50cf\u5e93  \u5728\u5efa\u9020Rango\u8fd9\u4e2a\u5e94\u7528\u7684\u65f6\u5019,\u6211\u4eec\u9700\u8981\u5904\u7406\u548c\u4e0a\u4f20\u56fe\u7247.\u6240\u4ee5\u6211\u4eec\u9700\u8981 Pillow \u8fd9\u4e2a\u56fe\u5f62\u5e93.\u6253\u5f00\u7ec8\u7aef\u8f93\u5165\u5982\u4e0b.  $ pip install pillow  \u5982\u679c\u9700\u8981\u524d\u9762\u52a0 sudo .  3.2.6 \u5b89\u88c5\u5176\u4ed6Python\u5305  \u503c\u5f97\u6ce8\u610f\u7684\u662f,\u5176\u4ed6\u5305\u4e5f\u53ef\u4ee5\u7528\u8fd9\u79cd\u65b9\u6cd5\u5f88\u65b9\u4fbf\u7684\u4e0b\u8f7d\u4e0b\u6765.The Python Package Index\u63d0\u4f9b\u4e86Pip\u53ef\u4ee5\u5b89\u88c5\u5305\u7684\u5217\u8868.  \u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u547d\u4ee4\u67e5\u770b\u5df2\u7ecf\u5b89\u88c5\u5305\u7684\u5217\u8868.  $ pip list  3.2.7 \u5206\u4eab\u4f60\u7684\u5305\u5217\u8868  \u4f60\u53ef\u4ee5\u5c06\u4f60\u7684\u5df2\u5b89\u88c5\u5305\u5217\u8868\u5206\u4eab\u7ed9\u5176\u4ed6\u7684\u5f00\u53d1\u8005.  $ pip freeze   requirements.txt  \u5982\u679c\u4f60\u7528 more , less \u6216\u8005 cat \u6765\u68c0\u67e5 requirements.txt \u6587\u4ef6,\u4f60\u5c06\u4f1a\u770b\u89c1\u5dee\u4e0d\u591a\u4e00\u6837\u7684\u5217\u8868.\u8fd9\u4e2a requirements.txt \u6587\u4ef6\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u5b89\u88c5.\u5982\u679c\u4f60\u8981\u5728\u53e6\u4e00\u53f0\u7535\u8111\u4e0a\u914d\u7f6e\u73af\u5883\u5c06\u53d8\u5f97\u975e\u5e38\u65b9\u4fbf.  $ pip install -r requirements.txt", 
            "title": "3.2 \u5b89\u88c5\u8f6f\u4ef6"
        }, 
        {
            "location": "/#33", 
            "text": "\u5c3d\u7ba1\u4e0d\u662f\u5fc5\u987b\u7684,\u4f46\u662f\u4e00\u4e2a\u597d\u7684\u96c6\u6210\u5f00\u53d1\u73af\u5883(IDE)\u5c06\u4f1a\u5bf9\u6211\u4eec\u7684\u5f00\u53d1\u7070\u5e38\u6709\u5e2e\u52a9.\u50cfJetBrain\u7cfb\u5217\u7684 PyCharm \u548cPyDev( Eclipse \u7684\u4e00\u4e2a\u63d2\u4ef6)\u90fd\u662f\u6bd4\u8f83\u6d41\u884c\u7684IDE. Python Wiki \u4f1a\u63d0\u4f9b\u4e00\u4e2a\u5b9e\u65f6\u66f4\u65b0\u7684Python IDE\u5217\u8868.  \u53ef\u4ee5\u8bd5\u8bd5\u5230\u5e95\u54ea\u4e2a\u9002\u5408\u4f60,\u540c\u65f6\u8981\u77e5\u9053\u5176\u4e2d\u4e00\u4e9b\u9700\u8981\u8d2d\u4e70\u8ba4\u8bc1.\u7406\u60f3\u60c5\u51b5\u4e0b,\u4f60\u4f1a\u9009\u62e9\u4e00\u4e2a\u96c6\u6210Django\u7684IDE.PyCharm\u548cPyDev\u90fd\u63d0\u4f9b\u4e86Django\u7684\u96c6\u6210 - \u5c3d\u7ba1\u4f60\u9700\u8981\u544a\u8bc9IDE\u4f60\u4f7f\u7528\u7684\u662f\u54ea\u4e2a\u7248\u672c\u7684Python.  3.3.1 \u865a\u62df\u73af\u5883  \u6211\u4eec\u9a6c\u4e0a\u5c31\u5feb\u8bbe\u7f6e\u5b8c\u6bd5\u4e86!\u5728\u6211\u4eec\u7ee7\u7eed\u4e4b\u524d,\u503c\u5f97\u6ce8\u610f\u7684\u662f\u5982\u679c\u6211\u4eec\u5c31\u8fd9\u4e48\u5b89\u88c5\u7684\u8bdd\u4f1a\u6709\u5f88\u591a\u7f3a\u70b9.\u52a0\u5165\u6211\u4eec\u6709\u5176\u4ed6\u7684Python\u5e94\u7528,\u9700\u8981\u53e6\u4e00\u4e2a\u7248\u672c\u624d\u80fd\u8fd0\u884c?\u6216\u8005\u4f60\u60f3\u8f6c\u5230\u65b0\u7684\u7248\u672c\u7684Django,\u4f46\u4ecd\u7136\u50cf\u7ef4\u6301Django1.7\u9879\u76ee?  \u89e3\u51b3\u7684\u65b9\u6cd5\u5c31\u662f virtual environment .\u865a\u62df\u73af\u5883\u53ef\u4ee5\u5141\u8bb8\u6211\u4eec\u540c\u65f6\u5b89\u88c5\u4e0d\u540c\u7248\u672c\u7684Python\u548c\u4ed6\u4eec\u7684\u5305.\u73b0\u5728,\u8fd9\u5df2\u7ecf\u6210\u4e3a\u4e00\u4e2a\u666e\u904d\u7684\u65b9\u6cd5.  \u5b89\u88c5\u7684\u8bdd\u4e5f\u975e\u5e38\u597d\u5b89\u88c5.  $ pip install virtualenv\n$ pip install virtualenvwrapper  \u7b2c\u4e00\u4e2a\u5305\u63d0\u4f9b\u4e86\u521b\u5efa\u865a\u62df\u73af\u5883\u7684\u57fa\u7840.\u5982\u9700\u66f4\u591a\u7ec6\u8282\u53ef\u4ee5\u53c2\u770bJamie Matthews\u7684a non-magical introduction to Pip and Virtualenv for Python Beginners.\u5982\u679c\u4ec5\u4ec5\u4f7f\u7528virtualenv\u5c06\u4f1a\u53d8\u5f97\u5f88\u590d\u6742.\u5b89\u88c5\u7684\u7b2c\u4e8c\u4e2a\u5305\u5c31\u662f\u4f7f\u8fd9\u4e2a\u8fc7\u7a0b\u7b80\u5316.  \u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f\u7c7bUNIX\u7cfb\u7edf,\u90a3\u4e48\u4f60\u9700\u8981\u5728\u547d\u4ee4\u884c\u4e2d\u542f\u52a8\u8fd9\u4e2a\u811a\u672c:  $ source virtualenvwrapper.sh  \u4e3a\u4e86\u4e0d\u5fc5\u6bcf\u6b21\u4f7f\u7528\u65f6\u90fd\u8f93\u5165\u8fd9\u4e2a\u547d\u4ee4\u53ef\u4ee5\u5728profile\u91cc\u8bbe\u5b9a.  \u5982\u679c\u4f60\u4f7f\u7528\u7684\u662fWindows\u73af\u5883,\u90a3\u4e48\u9700\u8981\u4e0b\u8f7d virtualenvwrapper-win \u5305:  $ pip install virtualenvwrapper-win  \u73b0\u5728\u4f60\u53ef\u4ee5\u521b\u89c1\u865a\u62df\u73af\u5883\u4e86:  $ mkvirtualenv rango  \u4f60\u53ef\u4ee5\u7528 lsvirtualenv \u547d\u4ee4\u5217\u51fa\u521b\u5efa\u7684\u865a\u62df\u73af\u5883,\u5982\u679c\u4f60\u8981\u6fc0\u6d3b\u8f93\u5165\u5982\u4e0b:  $ workon rango\n(rango)$  \u4f60\u7684\u547d\u4ee4\u63d0\u793a\u7b26\u4f1a\u6539\u53d8\u800c\u4e14\u4f1a\u663e\u793a\u5f53\u524d\u865a\u62df\u73af\u5883,\u50cf\u4e0a\u9762\u7684rango.\u73b0\u5728\u4f60\u53ef\u4ee5\u5728\u73af\u5883\u91cc\u5b89\u88c5\u4f60\u60f3\u8981\u5b89\u88c5\u7684\u4efb\u4f55\u5305\u4e86,\u5e76\u4e14\u4ed6\u4eec\u4e0d\u4f1a\u5e72\u6d89\u5176\u4ed6\u7684\u73af\u5883.\u952e\u5165 pip list \u53bb\u68c0\u67e5\u662f\u5426\u5b89\u88c5\u4e86Django\u6216\u8005Pillow\u5305.\u4f60\u53ef\u4ee5\u7528pip\u6765\u5b89\u88c5\u4ed6\u4eec,\u4f46\u662f\u4ed6\u4eec\u53ea\u662f\u5b58\u5728\u4e8e\u865a\u62df\u73af\u5883\u91cc.  \u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u8981\u5f00\u53d1\u5e94\u7528\u5e76\u4e14\u8bbe\u7f6e\u4e00\u4e2a\u865a\u62df\u73af\u5883,\u53c2\u770b\u4e0b\u4e00\u7ae0 \u5f00\u53d1\u4f60\u7684\u5e94\u7528.  3.3.2 \u4ee3\u7801\u5e93  \u5f53\u4f60\u8fdb\u884c\u5f00\u53d1\u65f6,\u53ef\u4ee5\u4f7f\u7528 SVN \u6216\u8005 GIT \u6765\u8fdb\u884c\u7248\u672c\u63a7\u5236.\u5728\u6211\u4eec\u7684\u6559\u7a0b\u91cc\u4e0d\u4f1a\u4f7f\u7528\u7248\u672c\u63a7\u5236.\u4f46\u662f\u6211\u4eec\u63d0\u4f9b\u4e86 crash course on GIT .\u6211\u4eec\u5f3a\u70c8\u5efa\u8bae\u4f60\u5728\u81ea\u5df1\u7684\u9879\u76ee\u91cc\u5efa\u7acb\u7248\u672c\u63a7\u5236.\u4ed6\u5f80\u5f80\u80fd\u7ec8\u7a76\u4f60\u4e0e\u6c34\u706b.", 
            "title": "3.3 \u96c6\u6210\u5f00\u53d1\u73af\u5883"
        }, 
        {
            "location": "/#34", 
            "text": "\u4e3a\u4e86\u66f4\u597d\u7684\u8bbe\u7f6e\u4f60\u7684\u73af\u5883,\u8bd5\u7740\u5b8c\u6210\u4e0b\u5217\u7ec3\u4e60.   \u5b89\u88c5Python2.7.5+\u548cPip  \u7ec3\u4e60CLI,\u521b\u5efa\u540d\u5b57\u53eb code \u76ee\u5f55\u5e76\u628a\u6211\u4eec\u7684\u9879\u76ee\u653e\u8fdb\u53bb.  \u5b89\u88c5Django\u548cPillow\u5305  \u8bbe\u7f6e\u865a\u62df\u73af\u5883  \u8bbe\u7f6e\u4f60\u7684GitHub\u8d26\u53f7  \u4e0b\u8f7d\u5e76\u8bbe\u7f6eIDE(\u6bd4\u5982PyCharm)  \u6211\u4eec\u5c06\u4e66\u4e2d\u7684\u4ee3\u7801\u653e\u5728\u4e86GitHub,\u53c2\u89c1 Tango With Django Book \u548c Rango Application  \u5982\u679c\u4f60\u5bf9\u8fd9\u672c\u4e66\u9047\u5230\u9519\u8bef\u548c\u95ee\u9898,\u4f60\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2arequest!  \u5982\u679c\u5bf9\u7ec3\u4e60\u9898\u6709\u95ee\u9898,\u4f60\u53ef\u4ee5\u68c0\u67e5\u4ee3\u7801\u5e93\u770b\u770b\u6211\u4eec\u662f\u5982\u4f55\u5b8c\u6210\u7684.", 
            "title": "3.4 \u7ec3\u4e60"
        }, 
        {
            "location": "/#4-django", 
            "text": "\u8ba9\u6211\u4eec\u5f00\u59cbDjango\u4e4b\u65c5\u5427!\u5728\u672c\u7ae0,\u6211\u4eec\u5c06\u6982\u8ff0\u5982\u4f55\u4f7f\u7528Django.\u4f60\u53ef\u4ee5\u5efa\u7acb\u4e00\u4e2a\u65b0\u7684\u9879\u76ee\u548cweb\u5e94\u7528.\u5728\u672c\u7ae0\u7684\u6700\u540e,\u4f60\u5c06\u80fd\u591f\u5efa\u7acb\u4e00\u4e2aDjango\u9875\u9762\u5e76\u4e14\u8fd0\u884c\u5b83.", 
            "title": "4 Django\u57fa\u7840"
        }, 
        {
            "location": "/#41", 
            "text": "\u8ba9\u6211\u4eec\u68c0\u6d4b\u4e00\u4e0bPython\u548cDjango\u662f\u5426\u662f\u6211\u4eec\u6559\u7a0b\u91cc\u9700\u8981\u7684\u7248\u672c.  $ python --version\n2.7.5  \u4e0a\u9762\u7684\u547d\u4ee4\u5c06\u4f1a\u8fd0\u884cPython\u89e3\u6790\u5668,\u5982\u679c\u6709 -c \u9009\u9879\u5219\u53ef\u4ee5\u6267\u884c\u5b83\u540e\u9762\u7684\u4ee3\u7801.\u4f60\u53ef\u4ee5\u67e5\u770b\u8f93\u51fa\u4ee5\u68c0\u67e5Python\u7248\u672c\u662f\u5426\u662f\u4f60\u9700\u8981\u7684.\u5982\u679c\u7248\u672c\u4e0d\u662f 2.7.5 ,\u4f60\u53ef\u80fd\u9700\u8981\u8fd4\u56de 3.2 \u7ae0\u8282\u53bb\u68c0\u67e5\u4e00\u4e0b\u5b89\u88c5\u65f6\u662f\u5426\u62c9\u4e0b\u4e86\u67d0\u4e9b\u6b65\u9aa4.  \u5728\u68c0\u9a8c\u4e86\u5b89\u88c5\u7684python\u540e,\u8ba9\u6211\u4eec\u68c0\u9a8c\u4e00\u4e0bDjango.  $ python -c  import django; print(django.get_version()) \n1.7  \u901a\u8fc7\u8c03\u7528Django\u6a21\u5757,\u53ef\u4ee5\u770b\u5230\u4e0b\u65b9\u8f93\u51fa 1.7 .\u5982\u679c\u4f60\u5f97\u5230\u7684\u662f\u5176\u4ed6\u7248\u672c,\u6216\u8005\u51fa\u73b0 ImportError ,\u90a3\u4e48\u8fd4\u56de 3.2 \u7ae0\u8282\u6216\u8005\u53c2\u770b Django Documentation on Installing Django .\u5982\u679c\u4f60\u53d1\u73b0\u4f60\u7684Django\u7248\u672c\u4e0d\u662f1.7,\u90a3\u4e48\u4ee5\u540e\u53ef\u80fd\u4f1a\u9047\u5230\u4e00\u4e9b\u95ee\u9898.\u6240\u4ee5\u8fd8\u662f\u786e\u4fddDjango\u7684\u7248\u672c\u662f1.7\u5427.", 
            "title": "4.1 \u6d4b\u8bd5\u4f60\u7684\u5b89\u88c5"
        }, 
        {
            "location": "/#42-django", 
            "text": "\u5728\u4f60\u7684 code \u76ee\u5f55\u91cc\u521b\u5efa\u4f60\u7684\u9879\u76ee.  $ django-admin.py startproject tango_with_django_project   Note  \u6839\u636e stackoverflow \u5728Windows\u673a\u5668\u4e0a\u4f60\u9700\u8981\u5168\u8def\u5f84\u8fd0\u884cdjango-admin.py\u811a\u672c.\u6bd4\u5982 python c:\\python27\\scripys\\django-admin.py startproject tango_with_django_project   \u8fd9\u4e2a\u547d\u4ee4\u7adf\u4f1a\u8fd0\u884c django-admin.py \u811a\u672c,\u5b83\u5c06\u4f1a\u4e3a\u4f60\u521b\u5efa\u4e00\u4e2a\u540d\u53eb tango_with_django_project \u7684Django\u65b0\u9879\u76ee.\u8fd9\u4e2a\u540d\u5b57\u968f\u4fbf\u4f60\u53d6\u7684.  \u4f60\u53ef\u80fd\u6ce8\u610f\u5230\u4e86\u5728\u4f60\u65b0\u521b\u5efa\u7684 tang_with_django_project \u9879\u76ee\u91cc\u81ea\u52a8\u521b\u5efa\u4e86\u4e24\u4e2a\u9879\u76ee:   \u53e6\u4e00\u4e2a\u548c tango_with_django_project \u540c\u540d\u7684\u76ee\u5f55.  \u4e00\u4e2a\u53eb manage.py \u7684Python\u811a\u672c   \u5728\u8fd9\u7bc7\u6559\u7a0b\u91cc\u6211\u4eec\u628a\u8fd9\u4e2a tango_with_django_project \u76ee\u5f55\u53eb\u505a\u9879\u76ee\u8bbe\u7f6e\u76ee\u5f55,\u5728\u8fd9\u4e2a\u76ee\u5f55\u91cc\u6211\u4eec\u4f1a\u53d1\u73b0\u67094\u4e2aPython\u811a\u672c.\u6211\u4eec\u7a0d\u540e\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\u4e0b\u8fd9\u51e0\u4e2a\u811a\u672c.   __init__.py :\u8fd9\u662f\u4e00\u4e2a\u7a7a\u7684\u811a\u672c,\u7528\u6765\u544a\u8bc9Python\u7f16\u8bd1\u5668\u8fd9\u4e2a\u76ee\u5f55\u662f\u4e00\u4e2aPython\u5305.  settings.py :\u7528\u6765\u5b58\u50a8Django\u9879\u76ee\u8bbe\u7f6e\u7684\u6587\u4ef6.  urls.py :\u7528\u6765\u5b58\u50a8\u9879\u76ee\u91cc\u7684URL\u6a21\u5f0f.  wsgi.py :\u7528\u6765\u5e2e\u52a9\u4f60\u8fd0\u884c\u5f00\u53d1\u670d\u52a1,\u540c\u65f6\u53ef\u4ee5\u5e2e\u52a9\u90e8\u7f72\u4f60\u7684\u751f\u4ea7\u73af\u5883.    Note  \u8fd9\u4e2a\u9879\u76ee\u6587\u4ef6\u662f\u81ea\u4ece1.4\u7248\u672c\u540e\u624d\u521b\u7acb\u7684.\u867d\u7136\u548c\u9879\u76ee\u540c\u540d\u7684\u76ee\u5f55\u770b\u8d77\u6765\u5f88\u602a,\u4f46\u8fd9\u6837\u505a\u8fd8\u662f\u6709\u9053\u7406\u7684,\u5b83\u53ef\u4ee5\u548c\u5176\u4ed6\u5e94\u7528\u8fdb\u884c\u533a\u5206.   \u5728\u9879\u76ee\u91cc\u8fd8\u6709\u4e00\u4e2a\u53eb\u505a manage.py \u7684\u6587\u4ef6.\u8fd9\u4e2a\u6587\u4ef6\u662f\u6211\u4eec\u5f00\u53d1\u9879\u76ee\u65f6\u7ecf\u5e38\u4f7f\u7528\u7684\u6587\u4ef6,\u5b83\u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u7684Django\u547d\u4ee4.\u4f8b\u5982, manage.py \u5141\u8bb8\u4f60\u8fd0\u884c\u5185\u5efa\u7684Django\u670d\u52a1\u6765\u6d4b\u8bd5\u548c\u8fd0\u884c\u6570\u636e\u5e93\u547d\u4ee4.\u771f\u7684,\u8fd9\u4e2a\u811a\u672c\u662f\u4f60\u6700\u5e38\u7528\u7684\u811a\u672c\u4e86.   Note  \u53ef\u4ee5\u53c2\u89c1 Admin and Manage scripts \u6765\u4e86\u89e3\u66f4\u591a.   \u73b0\u5728\u53ef\u4ee5\u8fd0\u884c manage.py \u811a\u672c\u4e86.  $ python manage.py runserver  \u6267\u884c\u4e0a\u9762\u7684\u547d\u4ee4\u5c06\u4f1a\u521d\u59cb\u5316\u8fd0\u884c\u4e00\u4e2a\u8f7b\u91cf\u7684\u670d\u52a1\u5668.\u53ef\u4ee5\u5728\u7ec8\u7aef\u91cc\u770b\u5230\u8f93\u51fa\u5982\u4e0b.  $ python manage.py runserver\n\nSystem check identified no issues (0 silenced).\n\nYou have unapplied migrations; your app may not work properly until they are applied.\nRun 'python manage.py migrate' to apply them.\n\nOctober 01, 2014 - 19:49:05\nDjango version 1.7c2, using settings 'tango_with_django_project.settings'\nStarting development server at http://127.0.0.1:8000/\nQuit the server with CONTROL-C.  $ python manage.py migrate\n\nOperations to perform:\n  Apply all migrations: admin, contenttypes, auth, sessions\nRunning migrations:\n  Applying contenttypes.0001_initial... OK\n  Applying auth.0001_initial... OK\n  Applying admin.0001_initial... OK\n  Applying sessions.0001_initial... OK  migrate \u547d\u4ee4\u4f1a\u68c0\u67e5\u4f60\u7684INSTALLED_APPS\u8bbe\u7f6e,\u540c\u65f6\u4f1a\u521b\u5efa\u4f60\u7684mysite/settings.py\u6587\u4ef6\u4e2d\u76f8\u5173\u7684app\u7684\u6570\u636e\u5e93\u56fe\u8868(\u6211\u4eec\u7a0d\u540e\u4f1a\u4ecb\u7ecd).\u4f60\u5c06\u4f1a\u770b\u5230\u6240\u6709\u521d\u59cb\u5316\u7684\u4fe1\u606f.\u5982\u679c\u4f60\u611f\u5174\u8da3,\u4f60\u53ef\u4ee5\u7528\u76f8\u5e94\u6570\u636e\u5e93\u7684\u547d\u4ee4\u67e5\u770bDjango\u521b\u5efa\u7684\u6570\u636e\u5e93,\u4f8b\u5982dt(PostgreSQL),SHOW TABLES(MySQL)\u6216\u8005 .schema(SQLite).  \u73b0\u5728\u6253\u5f00\u6d4f\u89c8\u5668\u8f93\u5165 http://127.0.0.1:8000/ .\u4f60\u5c06\u4f1a\u770b\u5230\u4e0b\u56fe\u6240\u793a.   \u5728\u7ec8\u7aef\u91cc\u8f93\u5165 CTRL + C \u5c31\u53ef\u4ee5\u5173\u6389\u670d\u52a1\u5668.\u5982\u679c\u4f60\u5e0c\u671b\u670d\u52a1\u5668\u5f00\u5728\u522b\u7684\u7aef\u53e3,\u6216\u8005\u4f60\u5e0c\u671b\u5176\u4ed6\u4e3b\u673a\u53ef\u4ee5\u8bbf\u95ee,\u4f60\u53ef\u4ee5\u5728\u547d\u4ee4\u540e\u9762\u52a0\u5165\u53c2\u6570.  $ python manage.py runserver  your_machines_ip_address :5555  \u6267\u884c\u4e0a\u9762\u7684\u547d\u4ee4\u5c06\u4f1a\u628a\u670d\u52a1\u8f6c\u6362\u5230TCP\u76845555\u7aef\u53e3.\u4f60\u9700\u8981\u628a\u4e0a\u9762\u7684 $ python manage.py runserver  your_machines_ip_address :5555 \u6362\u6210\u4f60\u81ea\u5df1\u4e3b\u673a\u7684IP\u5730\u5740.  \u5728\u8bbe\u7f6e\u7aef\u53e3\u7684\u65f6\u5019,\u4f60\u4e0d\u80fd\u8bbe\u7f6e1024\u4ee5\u4e0b\u7684\u7aef\u53e3,\u56e0\u4e3a\u5b83\u4eec\u90fd\u662f\u7cfb\u7edf\u7684\u9884\u7559\u7aef\u53e3.  \u7528\u4e0a\u9762\u90a3\u4e2a\u547d\u4ee4\u5c31\u53ef\u4ee5\u8f7b\u677e\u7684\u5411\u540c\u4e8b\u4eec\u5c55\u793a\u4f60\u7684\u7f51\u9875\u4e86.\u5f53\u4f60\u8fd0\u884c\u4f60\u7684web\u670d\u52a1\u65f6,\u5176\u4ed6\u4eba\u53ef\u4ee5\u901a\u8fc7\u952e\u5165 http:// your_machines_ip_address : port / \u6765\u8fdb\u5165\u4f60\u7684web\u5e94\u7528.\u5f53\u7136\u8fd9\u4e5f\u8981\u53d6\u51b3\u4e8e\u4f60\u7684\u7f51\u7edc\u8bbe\u7f6e.\u5728\u8054\u901a\u4e4b\u524d\u4f60\u6216\u8bb8\u8981\u8bbe\u7f6e\u4ee5\u4e0b\u9632\u706b\u5899\u6216\u8005\u4ee3\u7406.\u5982\u679c\u4f60\u4e0d\u80fd\u8fdc\u7a0b\u8fde\u63a5\u4f60\u7684\u7f51\u7ad9,\u90a3\u4e48\u8bf7\u68c0\u67e5\u4ee5\u4e0b\u4f60\u7684\u7f51\u7edc.   Note  django-admin.py \u548c manage.py \u63d0\u4f9b\u4e86\u8bb8\u591a\u6709\u7528\u7684\u8282\u7701\u65f6\u95f4\u7684\u529f\u80fd. django-admin.py \u53ef\u4ee5\u521b\u5efa\u9879\u76ee\u548c\u5e94\u7528\u4ee5\u53ca\u4e00\u4e9b\u5176\u4ed6\u7684\u547d\u4ee4.\u4e0d\u5e26\u53c2\u6570\u7684\u6267\u884c\u811a\u672c\u53ef\u4ee5\u53c2\u770b\u5404\u81ea\u7684\u8bf4\u660e. official Django documentation provides a detailed list and explanation of each possible command  \u6709\u8be6\u7ec6\u7684\u4ecb\u7ecd.   \u5982\u679c\u4f60\u6b63\u5728\u4f7f\u7528\u7248\u672c\u63a7\u5236,\u90a3\u4e48\u73b0\u5728\u53ef\u4ee5\u63d0\u4ea4\u4f60\u7684\u66f4\u6539\u5230\u5de5\u4f5c\u7a7a\u95f4\u4e86.\u5982\u679c\u4f60\u5fd8\u8bb0\u8be5\u7528\u4ec0\u4e48\u547d\u4ee4,\u53ef\u4ee5\u770b\u770b[crash course on GIT][23].", 
            "title": "4.2 \u521b\u5efa\u4f60\u7684Django\u9879\u76ee"
        }, 
        {
            "location": "/#43-django", 
            "text": "\u901a\u8fc7\u4e00\u7cfb\u5217\u7684\u8bbe\u7f6e\u548c\u5404\u79cd\u5e94\u7528\u5c31\u53ef\u4ee5\u7ec4\u6210\u4e00\u4e2aweb\u5e94\u7528\u548c\u7f51\u7ad9,\u8fd9\u5c31\u662fDjango.\u719f\u7ec3\u7684\u4f7f\u7528\u5b83\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u8f6f\u4ef6\u5de5\u7a0b\u5b9e\u8df5.\u5982\u679c\u4f60\u5f00\u53d1\u4e86\u8bb8\u591a\u7684\u5c0f\u578b\u5e94\u7528,\u7406\u8bba\u4e0a\u8bb2\u4f60\u53ef\u4ee5\u975e\u5e38\u5bb9\u6613\u7684\u628a\u5e94\u7528\u653e\u5165\u5176\u4ed6\u7684Django\u9879\u76ee\u91cc.\u4e0d\u8981\u91cd\u590d\u9020\u8f6e\u5b50!  \u6bcf\u4e2aDjango\u5e94\u7528\u7684\u5b58\u5728\u90fd\u5bf9\u5e94\u5b83\u5b9e\u73b0\u7684\u4e00\u79cd\u529f\u80fd.\u9488\u5bf9\u4e0d\u540c\u7684\u529f\u80fd\u4f60\u9700\u8981\u521b\u5efa\u4e0d\u540c\u7684\u5e94\u7528.\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u9879\u76ee,\u5b83\u5305\u62ec\u4e00\u4e2a\u6295\u7968app,\u4e00\u4e2a\u6ce8\u518capp\u548c\u4e00\u4e9b\u5185\u5bb9\u76f8\u5173\u7684app.\u5728\u5176\u4ed6\u7684\u9879\u76ee\u91cc,\u6211\u4eec\u5e0c\u671b\u80fd\u91cd\u7528\u6295\u7968\u548c\u6ce8\u518capp,\u5e76\u4e14\u7528\u4ed6\u4eec\u6765\u53d1\u9001\u4e0d\u540c\u7684\u5185\u5bb9.\u8fd9\u91cc\u6709\u8bb8\u591a\u5e94\u7528\u53ef\u4ee5 \u4e0b\u8f7d \u5e76\u7528\u5230\u4f60\u7684\u9879\u76ee\u91cc.\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u8981\u5b66\u4e60\u5982\u4f55\u521b\u5efa\u4f60\u81ea\u5df1\u7684\u5e94\u7528.  \u4e00\u5f00\u59cb\u6211\u4eec\u9700\u8981\u521b\u5efa\u540d\u5b57\u53ebRango\u7684\u5e94\u7528.\u5728\u4f60\u7684Django\u9879\u76ee\u7684\u76ee\u5f55\u91cc(\u4f8b\u5982 workspace /tango_with_django_project ),\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4.  $ python manage.py startapp rango  \u8fd9\u4e2a\u547d\u4ee4\u5728\u4f60\u7684\u9879\u76ee\u6839\u76ee\u5f55\u91cc\u521b\u5efa\u4e86\u4e00\u4e2a\u65b0\u7684\u540d\u53eb rango \u7684\u76ee\u5f55 - \u8fd9\u91cc\u9762\u5305\u542b\u4e865\u4e2aPython\u811a\u672c.   __init__.py ,\u548c\u6211\u4eec\u524d\u9762\u8bf4\u8fc7\u7684\u529f\u80fd\u4e00\u6837.  models.py ,\u4e00\u4e2a\u5b58\u50a8\u4f60\u7684\u5e94\u7528\u4e2d\u6570\u636e\u6a21\u578b\u7684\u5730\u65b9 - \u5728\u8fd9\u91cc\u63cf\u8ff0\u6570\u636e\u7684\u5b9e\u4f53\u548c\u5173\u7cfb.  tests.py ,\u5b58\u50a8\u4f60\u5e94\u7528\u7684\u6d4b\u8bd5\u4ee3\u7801.  views.py ,\u5728\u8fd9\u91cc\u5904\u7406\u7528\u6237\u8bf7\u6c42\u548c\u54cd\u5e94.  admin.py ,\u5728\u8fd9\u91cc\u4f60\u53ef\u4ee5\u5411Django\u6ce8\u518c\u4f60\u7684\u6a21\u578b,\u5b83\u4f1a\u4e3a\u4f60\u521b\u5efaDjango\u7684\u7ba1\u7406\u754c\u9762.   views.py \u548c models.py \u5728\u6bcf\u4e2a\u5e94\u7528\u4e2d\u90fd\u8981\u7528\u5230,\u4ed6\u4eec\u4fe9\u662fDjango\u8bbe\u8ba1\u6a21\u5f0f\u7684\u7ec4\u6210\u90e8\u5206,\u4f8b\u5982Model-View-Template\u6a21\u5f0f.\u4f60\u53ef\u4ee5\u901a\u8fc7 the official Django documentation \u6765\u4e86\u89e3\u8be6\u7ec6\u7684\u4fe1\u606f.  \u5728\u4f60\u521b\u5efa\u6a21\u578b\u548c\u89c6\u56fe\u4e4b\u524d,\u4f60\u5fc5\u987b\u8981\u544a\u8bc9Django\u4f60\u7684\u65b0\u5e94\u7528\u7684\u5b58\u5728.\u6240\u4ee5\u4f60\u5fc5\u987b\u4fee\u6539\u4f60\u914d\u7f6e\u76ee\u5f55\u91cc\u7684 settings.py \u6587\u4ef6.\u6253\u5f00\u6587\u4ef6\u627e\u5230 INSTALLED_APPS \u5143\u7ec4.\u5728\u5143\u7956\u7684\u6700\u540e\u9762\u589e\u52a0 rango .  INSTALLED_APPS = (\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'rango',\n)  \u901a\u8fc7\u8fd0\u884c\u670d\u52a1\u6765\u68c0\u67e5\u4f60\u7684\u5e94\u7528\u662f\u5426\u88ab\u6dfb\u52a0.\u5982\u679c\u8fd0\u884c\u6b63\u5e38,\u90a3\u4e48\u4f60\u7684\u5e94\u7528\u5c31\u6210\u529f\u52a0\u5165.", 
            "title": "4.3 \u521b\u5efaDjango\u5e94\u7528"
        }, 
        {
            "location": "/#44", 
            "text": "\u65e2\u7136\u6211\u4eec\u5df2\u7ecf\u521b\u5efa\u597dRango,\u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u7b80\u5355\u7684\u89c6\u56fe.\u4f5c\u4e3a\u6211\u4eec\u7684\u7b2c\u4e00\u4e2a\u89c6\u56fe,\u6211\u4eec\u5c31\u7b80\u5355\u7684\u628a\u6587\u672c\u4f20\u9001\u7ed9\u5ba2\u6237\u7aef - \u6211\u4eec\u73b0\u5728\u4e0d\u5fc5\u5173\u5fc3\u6a21\u578b\u6216\u8005\u6a21\u677f.  \u7528\u4f60\u559c\u6b22\u7684IDE\u6253\u5f00\u4f4d\u4e8e rango \u76ee\u5f55\u91cc\u7684 views.py \u6587\u4ef6.\u5220\u9664\u6ce8\u91ca # Create your views here .\u73b0\u5728\u4f60\u5f97\u5230\u4e00\u4e2a\u7a7a\u6587\u4ef6.  \u53ef\u4ee5\u52a0\u5165\u5982\u4e0b\u4ee3\u7801.  from django.http import HttpResponse\n\ndef index(request):\n    return HttpResponse( Rango says hey there world! )  \u8ba9\u6211\u4eec\u9010\u884c\u5206\u6790.   \u6211\u4eec\u7b2c\u4e00\u884c\u9996\u5148\u4ece django.http \u6a21\u5757\u5bfc\u5165 HttpResponse \u5bf9\u8c61.  \u5728 views.py \u6587\u4ef6\u91cc\u6bcf\u4e2a\u89c6\u56fe\u5bf9\u5e94\u4e00\u4e2a\u5355\u72ec\u7684\u51fd\u6570.\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u6211\u4eec\u53ea\u521b\u5efa\u4e86\u4e00\u4e2a index \u89c6\u56fe.  \u6bcf\u4e2a\u89c6\u56fe\u81f3\u5c11\u5e26\u4e00\u4e2a\u53c2\u6570 - \u4e00\u4e2a\u5728 django.http \u6a21\u5757\u7684 HttpRequest\u5bf9 \u8c61.  \u6bcf\u4e2a\u89c6\u56fe\u90fd\u8981\u8fd4\u56de\u4e00\u4e2aHttpResponse\u5bf9\u8c61.\u672c\u4f8b\u4e2d\u8fd9\u4e2aHttpResponse\u5bf9\u8c61\u628a\u4e00\u4e2a\u5b57\u7b26\u4e32\u5f53\u505a\u53c2\u6570\u4f20\u9012\u7ed9\u5ba2\u6237\u7aef.   \u867d\u7136\u5df2\u7ecf\u521b\u5efa\u4e86\u89c6\u56fe,\u4f46\u662f\u5982\u679c\u60f3\u8ba9\u522b\u4eba\u770b\u5230\u5b83,\u4f60\u5fc5\u987b\u7528 URL \u6620\u5c04\u8fd9\u4e2a\u89c6\u56fe.", 
            "title": "4.4 \u521b\u5efa\u89c6\u56fe"
        }, 
        {
            "location": "/#45-url", 
            "text": "\u5728 rango \u76ee\u5f55\u91cc,\u6211\u4eec\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u53eb\u505a urls.py \u7684\u6587\u4ef6.\u6587\u4ef6\u91cc\u662f\u53ef\u4ee5\u8bbe\u7f6e\u4f60\u7684\u5e94\u7528\u6620\u5c04\u5230URL(\u4f8b\u5982'http://www.tangowithdjango.com/rango/').  from django.conf.urls import patterns, url\nfrom rango import views\n\nurlpatterns = patterns('',\n        url(r'^$', views.index, name='index'))  \u8fd9\u6bb5\u4ee3\u7801\u5bfc\u5165Django\u81ea\u5e26\u7684\u6620\u5c04URL\u673a\u5236.\u5bfc\u5165 rango \u7684 view \u6a21\u5757\u5f15\u5165\u6211\u4eec\u5148\u524d\u5efa\u7acb\u7684\u89c6\u56fe.  \u4e3a\u4e86\u5efa\u7acb\u6620\u5c04,\u6211\u4eec\u7528\u5230\u4e86tuple.\u5728Django\u91cc\u5fc5\u987b\u7528 urlpatterns \u6765\u547d\u540d\u8fd9\u4e2a \u5143\u7ec4 .\u8fd9\u4e2a urlpatterns \u5143\u7ec4\u5305\u542b\u4e00\u4e9b django.conf.urls.url() \u51fd\u6570\u7684\u8c03\u7528,\u800c\u6bcf\u4e2a\u51fd\u6570\u91cc\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u7684\u6620\u5c04.\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u91cc,\u6211\u4eec\u53ea\u7528\u4e86 url() \u4e00\u6b21,\u6240\u4ee5\u6211\u4eec\u53ea\u6620\u5c04\u4e86\u4e00\u4e2aURL. django.conf.urls.url() \u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u6b63\u5219\u8868\u8fbe\u5f0f ^$ ,\u6307\u7684\u662f\u5339\u914d\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32.\u6240\u6709\u5339\u914d\u8fd9\u4e2a\u6a21\u5f0f\u7684URL\u90fd\u4f1a\u6620\u5c04\u5230 views.index() \u8fd9\u4e2a\u89c6\u56fe.\u7528\u6237\u7684\u8bf7\u6c42\u4fe1\u606f\u4f1a\u5305\u542b\u5728 HttpRequest \u5bf9\u8c61\u91cc\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u89c6\u56fe.\u6211\u4eec\u7ed9 url() \u51fd\u6570\u53ef\u9009\u53c2\u6570 name \u8d4b\u503c\u4e3a index .   Note  \u4f60\u6216\u8bb8\u4ee5\u4e3a\u6620\u5c04\u4e00\u4e2a\u7a7aURL\u6beb\u65e0\u610f\u4e49 - \u5b83\u6709\u4ec0\u4e48\u7528?\u5f53\u6211\u4eec\u8fdb\u884cURL\u5339\u914d\u65f6,\u53ea\u8003\u8651\u5230\u4e86\u539f\u59cbURL\u5b57\u7b26\u4e32\u7684\u4e00\u90e8\u5206.\u8fd9\u662f\u56e0\u4e3a\u6211\u4eec\u7684Django\u9879\u76ee\u4f1a\u4f18\u5148\u5904\u7406\u539f\u59cbURL\u5b57\u7b26\u4e32(\u4f8b\u5982 http://www.tangowithdjango.com/rango/ ).\u4e00\u65e6\u88ab\u5904\u7406,\u5b83\u5c06\u4f1a\u88ab\u5220\u9664,\u7559\u7ed9\u5269\u4e0b\u7684\u90e8\u5206\u53bb\u505a\u5339\u914d.\u5728\u672c\u4f8b\u4e2d,\u4f1a\u5269\u4e0b\u7a7a\u5b57\u7b26\u4e32 - \u6240\u4ee5\u7a7a\u5b57\u7b26\u4e32\u4f1a\u8fdb\u884c\u5339\u914d!    Note  django.conf.urls.url() \u51fd\u6570\u7684 name \u53c2\u6570\u662f\u4e2a\u53ef\u9009\u53c2\u6570.Django\u63d0\u4f9b\u8fd9\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u8ba9\u4f60\u533a\u522b\u4e0d\u540c\u7684\u6620\u5c04.\u6709\u65f6\u5019\u8fde\u4e2a\u4e0d\u540c\u7684URL\u6620\u5c04\u8868\u8fbe\u5f0f\u4f1a\u8c03\u7528\u76f8\u540c\u7684\u89c6\u56fe. name \u53ef\u4ee5\u8ba9\u4f60\u8f7b\u677e\u7684\u533a\u5206\u4ed6\u4eec - \u6709\u4e9b\u65f6\u5019\u53cd\u54cdURL\u5339\u914d\u4f1a\u5f88\u6709\u7528.\u66f4\u591a\u7ec6\u8282\u67e5\u770b the Official Django documentation  .   \u4f60\u6216\u8bb8\u5df2\u7ecf\u770b\u5230\u5728\u9879\u76ee\u76ee\u5f55\u91cc\u5df2\u7ecf\u5b58\u5728\u4e86\u4e00\u4e2a urls.py \u6587\u4ef6.\u4e3a\u4ec0\u4e48\u521b\u5efa\u53e6\u4e00\u4e2a\u5462?\u4e8b\u5b9e\u4e0a,\u4f60\u53ef\u4ee5\u5427\u6240\u6709\u7684\u9879\u76ee\u5e94\u7528\u7684URL\u90fd\u653e\u5728\u8fd9\u4e2a\u6587\u4ef6\u91cc.\u4f46\u662f\u8fd9\u662f\u4e00\u4e2a\u574f\u7684\u4e60\u60ef,\u8fd9\u56de\u589e\u52a0\u4f60\u7684\u5e94\u7528\u7684\u8026\u5408.\u5404\u81ea\u5e94\u7528\u7684 urls.py \u6587\u4ef6\u5b58\u653e\u5404\u81ea\u5e94\u7528\u7684URL.\u4e3a\u4e86\u6700\u5c0f\u8026\u5408,\u4f60\u53ef\u4ee5\u7a0d\u540e\u628a\u5b83\u4eec\u52a0\u5165\u5230\u9879\u76ee\u76ee\u5f55\u7684 urls.py \u6587\u4ef6\u91cc.  \u8fd9\u5c31\u610f\u5473\u7740\u6211\u4eec\u9700\u8981\u8bbe\u7f6e tango_with_django_project \u91cc\u7684 urls.py \u6587\u4ef6,\u628a\u6211\u4eec\u7684Rango\u5e94\u7528\u548cDjango\u8fde\u63a5.  \u6211\u4eec\u8be5\u600e\u4e48\u505a\u5462?\u5f88\u7b80\u5355.\u6253\u5f00\u9879\u76ee\u76ee\u5f55\u91cc\u7684 urls.py \u6587\u4ef6.\u5728\u4f60\u7684\u5de5\u4f5c\u76ee\u5f55\u91cc,\u6709\u53ef\u80fd\u662f workspace /tango_with_django_project/tango_with_django_project/urls.py \u50cf\u4e0b\u9762\u4e00\u6837\u66f4\u65b0 urlpatterns \u5143\u7ec4.  urlpatterns = patterns('',\n    # Examples:\n    # url(r'^$', 'tango_with_django_project_17.views.home', name='home'),\n    # url(r'^blog/', include('blog.urls')),\n\n    url(r'^admin/', include(admin.site.urls)),\n    url(r'^rango/', include('rango.urls')), # ADD THIS NEW TUPLE!\n)  \u65b0\u589e\u7684\u6620\u5c04\u5c06\u4f1a\u5bfb\u627e\u5339\u914d ^rango/ \u7684url\u5b57\u7b26\u4e32.\u5982\u679c\u5339\u914d\u6210\u529f\u7684\u8bdd\u5c06\u4f1a\u4f20\u9012\u7ed9 rango.urls (\u6211\u4eec\u5df2\u7ecf\u8bbe\u7f6e\u8fc7\u4e86). include() \u51fd\u6570\u662f\u4ece django.conf.urls \u5bfc\u5165\u7684.\u6574\u4e2aURL\u5b57\u7b26\u4e32\u5904\u7406\u8fc7\u7a0b\u5982\u4e0b\u56fe\u6240\u793a.\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d,\u57df\u540d\u9996\u5148\u88ab\u63d0\u53d6\u51fa\u6765\u7136\u540e\u7559\u4e0b\u5176\u4ed6\u7684url\u5b57\u7b26\u4e32( rango/ )\u4f20\u9012\u7ed9\u6211\u4eec\u7684tango_with_django_project,\u5728\u8fd9\u91cc\u5b83\u4f1a\u5339\u914d\u5e76\u53bb\u6389 rango/ \u7136\u540e\u628a\u7a7a\u5b57\u7b26\u4e32\u4f20\u9012\u7ed9rango\u5e94\u7528.Rango\u73b0\u5728\u5339\u914d\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32,\u5b83\u4f1a\u8fd4\u56de\u6211\u4eec\u521b\u9020\u7684 index() \u89c6\u56fe.   \u91cd\u65b0\u542f\u52a8Django\u670d\u52a1\u7136\u540e\u8bbf\u95ee http://127.0.0.1:8000/rango .\u5982\u679c\u4e00\u5207\u987a\u5229,\u4f60\u5c06\u4f1a\u770b\u5230 Rango says hello world! .\u5c31\u50cf\u4e0b\u56fe\u6240\u793a.   \u5728\u6bcf\u4e2a\u5e94\u7528\u4e2d,\u4f60\u90fd\u53ef\u4ee5\u521b\u5efa\u8bb8\u591aURL\u6620\u5c04.\u521d\u59cb\u6620\u5c04\u975e\u5e38\u7b80\u5355.\u4e0b\u9762\u6211\u4eec\u4f1a\u7528URL\u505a\u51fa\u66f4\u590d\u6742\u7684\u6620\u5c04.  \u5bf9\u4e8e\u7406\u89e3Django\u7684URL\u673a\u5236\u975e\u5e38\u7684\u91cd\u8981.\u5982\u679c\u4f60\u4ecd\u6709\u4ec0\u4e48\u56f0\u60d1\u53ef\u4ee5\u67e5\u770b official Django documentation on URL ,\u4ee5\u505a\u66f4\u8fdb\u4e00\u6b65\u7684\u4e86\u89e3.   Note  URL\u6a21\u5f0f\u4f7f\u7528 \u6b63\u5219\u8868\u8fbe\u5f0f \u6765\u8fdb\u884c\u5339\u914d.\u5728Python\u4e2d\u5b66\u597d\u6b63\u5219\u8868\u8fbe\u5f0f\u975e\u5e38\u7684\u6709\u7528.Python\u5b98\u65b9\u6587\u6863\u5305\u542b\u4e86 userful guide on regular expressions , regexcheatsheet.com\u63d0\u4f9b\u4e86  neat summary of regular expressions .", 
            "title": "4.5 URL\u6620\u5c04"
        }, 
        {
            "location": "/#46", 
            "text": "\u672c\u7ae0\u6240\u5b66\u7684\u5185\u5bb9\u5c06\u4f1a\u603b\u7ed3\u6210\u4e00\u4e2a\u5217\u8868.\u5728\u8fd9\u91cc\u6211\u4eec\u4e3a\u4e24\u4e2a\u4e0d\u540c\u5217\u8868.  4.6.1 \u521b\u5efa\u65b0\u7684Django\u9879\u76ee   python django-admin.py startproject  name \u6765\u521b\u5efa\u9879\u76ee,\u8fd9\u91cc name \u662f\u4f60\u5e0c\u671b\u7684\u9879\u76ee\u540d.   4.6.2 \u521b\u5efa\u65b0\u7684Django\u5e94\u7528   $ python manage.py startapp  appname \u6765\u521b\u5efa\u65b0\u7684\u5e94\u7528,\u8fd9\u91cc appname \u662f\u4f60\u7684\u5e94\u7528\u540d.  \u901a\u8fc7\u628a\u65b0\u5e94\u7528\u540d\u5b57\u52a0\u5165\u5230 settings.py \u6587\u4ef6\u7684 INSTALLED_APPS \u5143\u7ec4\u91cc\u6765\u544a\u8bc9Django\u9879\u76ee\u6dfb\u52a0\u4e86\u65b0\u7684\u5e94\u7528.  \u5728\u9879\u76ee\u7684 urls.py \u6587\u4ef6\u6620\u5c04\u5e94\u7528.  \u5728\u5e94\u7528\u76ee\u5f55\u91cc\u521b\u5efa urls.py \u6587\u4ef6\u4f7fURL\u5b57\u7b26\u4e32\u6307\u5411\u89c6\u56fe.  \u5728\u5e94\u7528\u7684 view.py \u91cc,\u521b\u5efa\u7684\u89c6\u56fe\u8981\u786e\u4fdd\u8fd4\u56de\u4e00\u4e2a HttpResponse \u5bf9\u8c61.", 
            "title": "4.6 \u57fa\u672c\u6d41\u7a0b"
        }, 
        {
            "location": "/#47", 
            "text": "\u606d\u559c\u4f60!\u4f60\u5df2\u7ecf\u521b\u5efa\u5e76\u8fd0\u884cRango\u4e86.\u8fd9\u662f\u91cc\u7a0b\u7891\u610f\u4e49\u7684\u4e8b\u4ef6.\u521b\u5efa\u89c6\u56fe\u548c\u6620\u5c04\u662f\u8fc8\u5411\u5f00\u53d1\u66f4\u590d\u6742\u53ef\u7528\u7684web\u5e94\u7528\u7684\u7b2c\u4e00\u6b65.\u73b0\u5728\u8bd5\u7740\u7ec3\u4e60\u4e00\u4e0b\u5de9\u56fa\u6240\u5b66.   \u4fee\u6539\u7a0b\u5e8f,\u786e\u4fdd\u4f60\u77e5\u9053\u5982\u4f55\u628aURL\u6620\u5c04\u5230\u89c6\u56fe.  \u521b\u7acb\u4e00\u4e2a about \u89c6\u56fe,\u8fd4\u56de Rango says here is the about page .  \u628a\u8fd9\u4e2a\u89c6\u56fe\u6620\u5c04\u5230 /rango/about/ .\u5728\u8fd9\u4e00\u6b65\u91cc,\u4f60\u53ea\u9700\u8981\u7f16\u8f91rango\u5e94\u7528\u91cc\u7684 urls.py  \u4fee\u6539 index \u89c6\u56fe\u7684 HttpResponse ,\u4f7f\u5b83\u8fd4\u56de\u5305\u542babout\u9875\u9762\u7684\u94fe\u63a5.  \u5728 about \u89c6\u56fe\u91cc\u4f7f\u5b83\u5305\u542b\u4e00\u4e2a\u56de\u5230\u4e3b\u9875\u7684\u94fe\u63a5.  \u5982\u679c\u4f60\u8fd8\u6ca1\u600e\u4e48\u660e\u767d,\u8fd8\u662f\u53bb\u770b\u4e00\u4e0b Django Tutorial .   4.7.1 \u63d0\u793a  \u5982\u679c\u611f\u89c9\u7ec3\u4e60\u6709\u56f0\u96be\u7684\u8bdd,\u4e0b\u9762\u5c06\u80fd\u5e2e\u52a9\u4f60\u5b8c\u6210\u7ec3\u4e60.   index \u89c6\u56fe\u91cc\u9700\u8981\u5305\u542b about \u89c6\u56fe\u7684\u94fe\u63a5.\u8fd9\u4e2a\u5f88\u7b80\u5355 - \u52a0\u5165 Rango says: Hello world!  br/   a href='/rango/about' About /a \u8fd9\u6837\u7684\u8bed\u53e5\u5c31\u884c\u4e86.\u63a5\u4e0b\u6765\u6211\u4eec\u4f1a\u4f18\u5316\u8fd9\u4e9b\u9875\u9762\u7684.  \u5339\u914d about/ \u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u662f r^about/ .  \u8fd4\u56de\u4e3b\u9875\u7684\u94fe\u63a5\u662f a href=\"/rango/\" Index /a .\u8fd9\u4e2a\u7ed3\u6784\u548c\u4e0a\u9762\u7684 about \u9875\u9762\u91cc\u7684\u4e00\u6837.", 
            "title": "4.7 \u7ec3\u4e60"
        }, 
        {
            "location": "/#5", 
            "text": "\u5728\u672c\u7ae0\u91cc\u4f60\u5c06\u4f1a\u5b66\u5230\u6a21\u677f\u5f15\u64ce\u7684\u77e5\u8bc6\u540c\u65f6\u4e5f\u4f1a\u5b66\u4e60\u600e\u4e48\u5728\u4f60\u7684web\u9875\u9762\u6dfb\u52a0\u9759\u6001\u5a92\u4f53.", 
            "title": "5 \u6a21\u677f\u548c\u9759\u6001\u5a92\u4f53"
        }, 
        {
            "location": "/#51", 
            "text": "\u4e3a\u4e86\u521b\u5efa\u4e00\u4e2aDjango\u7f51\u9875,\u6211\u4eec\u9700\u8981\u628a\u8bb8\u591a\u4e1c\u897f\u90fd\u96c6\u4e2d\u5230\u4e00\u8d77.\u73b0\u5728\u6211\u4eec\u6709\u4e24\u4e2a\u89c6\u56fe\u4ee5\u53ca\u4e00\u4e9b\u8fde\u63a5\u5b83\u4eec\u7684\u6620\u5c04.\u4e0b\u9762\u6211\u4eec\u5c06\u5b66\u4e60\u5982\u4f55\u628a\u6a21\u677f\u52a0\u5165\u5230\u91cc\u9762.  \u8bbe\u8ba1\u4f18\u79c0\u7684\u7f51\u7ad9\u4f1a\u91cd\u7528\u4ed6\u4eec\u7684\u5e03\u5c40\u7ed3\u6784.\u4f60\u662f\u5426\u770b\u5230\u8fc7\u540c\u6837header\u548cfooter\u7684\u9875\u9762,\u8fd9\u4e9b \u91cd\u590d\u5e03\u5c40 \u4f1a\u63d0\u9ad8\u7f51\u7ad9\u7684\u7ec4\u7ec7\u6027\u540c\u65f6\u4f1a\u7ed9\u4eba\u8fde\u7eed\u611f.Django\u63d0\u4f9b\u4e86\u4e0e\u5e94\u7528\u903b\u8f91\u4e0a\u53ef\u5206\u7684 \u6a21\u677f \u6765\u4e3a\u5f00\u53d1\u8005\u66f4\u5bb9\u6613\u7684\u5b9e\u73b0\u8fd9\u6837\u7684\u8bbe\u8ba1\u76ee\u6807.\u5728\u672c\u7ae0,\u4f60\u5c06\u4f1a\u521b\u5efa\u4e00\u4e2a\u6a21\u677f\u6765\u521b\u5efa\u4e00\u4e2aHTML\u9875\u9762.\u8fd9\u4e2a\u6a21\u677f\u5c06\u4f1a\u4f20\u9012\u7ed9Django\u7684\u89c6\u56fe.\u5728\u7b2c7\u7ae0,\u6211\u4eec\u4f1a\u7528\u6a21\u677f\u505a\u66f4\u590d\u6742\u7684\u4e8b\u60c5.  5.1.1 \u8bbe\u7f6e\u6a21\u677f\u76ee\u5f55  \u4e3a\u4e86\u5efa\u7acb\u548c\u542f\u52a8\u6a21\u677f,\u4f60\u9700\u8981\u8bbe\u7f6e\u4e00\u4e2a\u50a8\u5b58\u6a21\u677f\u7684\u76ee\u5f55.  \u5728\u4f60\u7684Django\u9879\u76ee\u76ee\u5f55\u91cc(\u4f8b\u5982 workspace /tango_with_django_project/) ),\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u76ee\u5f55\u53eb\u505a templates .\u5728\u8fd9\u4e2a\u76ee\u5f55\u91cc\u521b\u5efa\u53e6\u4e00\u4e2a rango \u76ee\u5f55.\u6240\u4ee5\u6211\u4eec\u5c06\u5728 workspace /tango_with_django_project/templates/rango/ \u76ee\u5f55\u91cc\u5b58\u653e\u5173\u4e8e rango \u5e94\u7528\u7684\u6a21\u677f.  \u4e3a\u4e86\u544a\u8bc9Django\u6211\u4eec\u7684\u6a21\u677f\u5728\u54ea\u91cc,\u6211\u4eec\u9700\u8981\u4fee\u6539\u9879\u76ee\u7684 settings.py \u6587\u4ef6.\u627e\u5230 TEMPLATE_DIRS \u5e76\u628a\u521b\u5efa\u7684 templates \u76ee\u5f55\u8def\u5f84\u52a0\u5165\u5230\u91cc\u9762.  TEMPLATE_DIRS = [' workspace /tango_with_django_project/']  \u6ce8\u610f\u4f60\u9700\u8981\u63d0\u4f9b templates \u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84.\u5982\u679c\u4f60\u662f\u4e00\u4e2a\u56e2\u961f\u7684\u4e00\u5458\u6216\u8005\u5de5\u4f5c\u5728\u4e0d\u540c\u7684\u7535\u8111\u4e0a,\u8fd9\u5728\u5c06\u6765\u53ef\u80fd\u51fa\u73b0\u95ee\u9898.\u4f60\u53ef\u4ee5\u6709\u4e0d\u540c\u7684\u7528\u6237\u540d\u8fd9\u610f\u5473\u7740\u4f60 workspace \u76ee\u5f55\u6709\u4e0d\u540c\u7684\u8def\u5f84.\u5982\u679c\u662f\u786c\u7f16\u7801\u8def\u5f84\u7684\u8bdd\u4e0a\u9762\u7684\u8def\u5f84\u5728\u4e0d\u540c\u7535\u8111\u4e0a\u662f\u4e0d\u540c\u7684.\u5f53\u7136,\u4f60\u9700\u8981\u4e3a\u4e0d\u540c\u7684\u8bbe\u7f6e\u589e\u52a0\u4e0d\u540c\u76ee\u5f55,\u96be\u9053\u6ca1\u6709\u4ec0\u4e48\u597d\u7684\u65b9\u6cd5\u4e86\u5417?   Warning  \u786c\u7f16\u7801 \u8def\u5f84\u7edd\u903c\u5e26\u4f60\u901a\u5f80\u5730\u72f1.\u786c\u7f16\u7801\u5728 \u8f6f\u4ef6\u5de5\u7a0b \u91cc\u662f\u7edd\u5bf9\u62b5\u5236\u7684\u4e00\u79cd\u6a21\u5f0f,\u5b83\u4f1a\u8ba9\u4f60\u7684\u9879\u76ee\u4e0d\u5229\u4e8e \u79fb\u690d .   5.1.2 \u52a8\u6001\u8def\u5f84  \u89e3\u51b3\u786c\u7f16\u7801\u8def\u5f84\u95ee\u9898\u7684\u65b9\u6cd5\u662f\u5229\u7528Python\u5185\u5efa\u51fd\u6570\u6765\u52a8\u6001\u7684\u521b\u5efa teemplates \u76ee\u5f55\u7684\u8def\u5f84.\u901a\u8fc7\u8fd9\u4e2a\u65b9\u6cd5\u4f60\u4e0d\u5fc5\u8003\u8651\u4f60\u7684Django\u9879\u76ee\u4f4d\u7f6e\u5c31\u80fd\u83b7\u53d6\u5b83\u7684\u7edd\u5bf9\u8def\u5f84.\u8fd9\u5c06\u5229\u4e8e\u4f60\u7684\u9879\u76ee\u4ee3\u7801\u7684\u79fb\u690d.  \u5728Djang1.7\u7684 settings.py \u6587\u4ef6\u91cc\u5305\u542b\u4e86\u4e00\u4e2a\u53d8\u91cf BASE_DIR .\u8fd9\u4e2a\u53d8\u91cf\u4f1a\u4fdd\u5b58 settings.py \u6587\u4ef6\u7684\u8def\u5f84.\u8fd9\u91cc\u9762\u7528\u4e86\u4e00\u4e2a\u7279\u6b8a\u7684 __file__ \u5c5e\u6027,\u5b83\u80fd\u83b7\u53d6 \u6a21\u5757\u7684\u7edd\u5bf9\u8def\u5f84 .\u7136\u540e\u901a\u8fc7\u8c03\u7528 os.path.dirname() \u6765\u63d0\u4f9b\u7edd\u5bf9\u8def\u5f84\u7684\u76ee\u5f55.\u518d\u6b21\u8c03\u7528 os.path.dirname() \u6211\u4eec\u56de\u5f97\u5230\u4e0a\u5c42\u7684\u76ee\u5f55,\u6240\u4ee5 BASE_DIR \u5185\u5bb9\u662f workspace /tango_with_django_project/ .\u5982\u679c\u4f60\u8fd8\u662f\u5f88\u597d\u5947\u7684\u8bdd\u4f60\u53ef\u4ee5\u8f93\u5165\u4e0b\u9762\u7684\u547d\u4ee4.  print __file__\nprint os.path.dirname(__file__)\nprint os.path.dirname(os.path.dirname(__file__))  \u73b0\u5728\u8ba9\u6211\u4eec\u4f7f\u7528\u5b83\u770b\u4e00\u770b.\u5728 setting.py \u4e2d\u521b\u5efa TEMPLATE_PATH \u53d8\u91cf,\u7528\u5b83\u6765\u50a8\u5b58 templates \u76ee\u5f55.\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528 os.path.join() \u51fd\u6570.  TEMPLATE_PATH = os.path.join(BASE_DIR, 'templates')  \u6211\u4eec\u7528 os.path.join() \u51fd\u6570\u6765\u8fde\u63a5 BASW_DIR \u53d8\u91cf\u548c templates ,\u5b83\u5c06\u8fd4\u56de workspace /tango_with_django_project/templates/ .\u6211\u4eec\u53ef\u4ee5\u4e3a TEMPLATE_DIRS \u6dfb\u52a0 TEMPLATE_PATH ,\u5c31\u50cf\u4e0b\u9762\u4e00\u6837.  TEMPLATE_DIRS = [\n    # Put strings here, like  /home/html/django_templates  or  C:/www/django/templates .\n    # Always use forward slashes, even on Windows.\n    # Don't forget to use absolute paths, not relative paths.\n    TEMPLATE_PATH,\n]  \u6211\u4eec\u53ef\u4ee5\u5427 TEMPLATE_PATH \u653e\u5728 settings.py \u6a21\u5757\u7684\u5f00\u5934\u4ee5\u65b9\u4fbf\u6211\u4eec\u5bf9\u5b83\u7684\u4fee\u6539.\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u521b\u5efa\u53d8\u91cf\u6765\u5b58\u50a8\u6a21\u677f\u8def\u5f84.   Warning  \u5f53\u8fde\u63a5\u7cfb\u7edf\u8def\u5f84\u7684\u65f6\u5019\u7528 os.path.join() \u662f\u4e00\u4e2a\u6bd4\u8f83\u597d\u7684\u65b9\u6cd5.\u7528\u8fd9\u79cd\u65b9\u6cd5\u53ef\u4ee5\u4fdd\u8bc1\u4f9d\u636e\u4f60\u7684\u64cd\u4f5c\u4e00\u540c\u6765\u6dfb\u52a0\u6b63\u786e\u7684\u5206\u9694\u7b26.\u5728POSIX\u517c\u5bb9\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a,\u659c\u6760\u7528\u6765\u5206\u5272\u76ee\u5f55,\u800c\u5728Windows\u7cfb\u7edf\u91cc\u7528\u7684\u662f\u53cd\u659c\u6760.\u5982\u679c\u4f60\u624b\u52a8\u4e3a\u8def\u5f84\u6dfb\u52a0\u5206\u9694\u7b26,\u90a3\u4e48\u4f60\u53ef\u80fd\u4f1a\u5728\u522b\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u64cd\u4f5c\u65f6\u5370\u53d1\u8def\u5f84\u9519\u8bef.   5.1.3 \u6dfb\u52a0\u6a21\u677f  \u5728\u6211\u4eec\u521b\u5efa\u6a21\u677f\u76ee\u5f55\u548c\u8bbe\u7f6e\u597d\u8def\u5f84\u4ee5\u540e,\u6211\u4eec\u9700\u8981\u5728 template/rango/ \u76ee\u5f55\u91cc\u5efa\u7acb\u4e00\u4e2a\u53eb\u505a index.html \u7684\u6587\u4ef6,\u5728\u65b0\u6587\u4ef6\u91cc\u52a0\u5165\u4e0b\u9762\u4ee3\u7801:  !DOCTYPE html  html \n\n     head \n         title Rango /title \n     /head \n\n     body \n         h1 Rango says... /h1 \n        hello world!  strong {{ boldmessage }} /strong br / \n         a href= /rango/about/ About /a br / \n     /body  /html   \u8fd9\u4e2aHTML\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a\u95ee\u5019\u7528\u6237\u7684\u7b80\u5355HTML\u9875\u9762.\u4f60\u53ef\u80fd\u6ce8\u610f\u5230\u4e86\u5728\u4e0a\u9762\u6709\u4e00\u6bb5\u975eHTML\u4ee3\u7801 {{boldmessage}} .\u8fd9\u662fDjango\u6a21\u677f\u7684\u53d8\u91cf,\u4ed6\u53ef\u4ee5\u5728\u8f93\u51fa\u65f6\u4e3a\u8fd9\u4e2a\u53d8\u91cf\u8d4b\u503c.\u4e00\u4f1a\u6211\u4eec\u5c31\u4f1a\u7528\u5b83.  \u4e3a\u4e86\u4f7f\u7528\u8fd9\u4e2a\u6a21\u677f,\u6211\u4eec\u9700\u8981\u91cd\u65b0\u4fee\u6539\u4e00\u4e0b\u6211\u4eec\u5148\u524d\u521b\u5efa\u7684 index() \u89c6\u56fe.\u8fd9\u6b21\u6211\u4eec\u4e0d\u8ba9\u4ed6\u4f20\u9012\u7b80\u5355\u7684\u4fe1\u606f,\u800c\u662f\u8ba9\u4ed6\u8fd4\u56de\u6211\u4eec\u7684\u6a21\u677f.  \u5728 rango/views.py \u91cc,\u786e\u5b9a\u6587\u4ef6\u5934\u90e8\u6709\u5982\u4e0b\u4ee3\u7801.  from django.shortcuts import render  \u4fee\u6539 index() \u89c6\u56fe\u51fd\u6570\u5982\u4e0b,\u6ce8\u91ca\u89e3\u91ca\u6bcf\u884c\u4f5c\u7528.  def index(request):\n\n    # Construct a dictionary to pass to the template engine as its context.\n    # Note the key boldmessage is the same as {{ boldmessage }} in the template!\n    context_dict = {'boldmessage':  I am bold font from the context }\n\n    # Return a rendered response to send to the client.\n    # We make use of the shortcut function to make our lives easier.\n    # Note that the first parameter is the template we wish to use.\n\n    return render(request, 'rango/index.html', context_dict)  \u9996\u5148\u6211\u4eec\u5efa\u7acb\u4e00\u4e2a\u5728\u6a21\u677f\u4e2d\u4f7f\u7528\u7684\u5b57\u5178,\u7136\u540e\u6211\u4eec\u8c03\u53d6 render() \u51fd\u6570.\u8fd9\u4e2a\u51fd\u6570\u63a5\u53d7\u7528\u6237\u7684 request ,\u6a21\u677f\u540d\u79f0\u548c\u5185\u5bb9\u5b57\u5178\u4f5c\u4e3a\u53c2\u6570.\u8fd9\u4e2a render() \u51fd\u6570\u5c06\u4f1a\u628a\u8fd9\u4e9b\u53c2\u6570\u805a\u5408\u5230\u4e00\u8d77\u751f\u6210\u4e00\u4e2a\u5b8c\u6574\u7684HTML\u9875\u9762.\u7136\u540e\u8fd4\u56de\u7ed9\u7528\u6237\u7684\u6d4f\u89c8\u5668.  \u5f53\u6a21\u677f\u6587\u4ef6\u88ab\u52a0\u8f7d\u5230Django\u6a21\u677f\u7cfb\u7edf\u91cc\u65f6,\u5b83\u6a21\u677f\u5185\u5bb9\u4e5f\u4f1a\u88ab\u521b\u5efa.\u5728\u7b80\u5355\u7684\u4f8b\u5b50\u91cc\u6a21\u677f\u7684\u5185\u5bb9\u662f\u5b57\u5178\u91cc\u7684\u6a21\u677f\u53d8\u91cf\u5bf9\u5e94\u7684Python\u53d8\u91cf.\u5728\u6211\u4eec\u65e9\u5148\u521b\u5efa\u7684\u6a21\u677f\u6587\u4ef6,\u6211\u4eec\u521b\u5efa\u4e86\u4e00\u4e2a\u53eb\u505a boldmessage \u7684\u6a21\u677f\u53d8\u91cf.\u5728 index(request) \u89c6\u56fe\u4f8b\u5b50\u4e2d,\u5b57\u7b26\u4e32 I am bold font from the context \u6620\u5c04\u5230\u6a21\u677f\u53d8\u91cf boldmessage .\u6240\u4ee5\u5b57\u7b26\u4e32 I am bold font from the context \u5c06\u4f1a\u66ff\u6362\u6a21\u677f\u91cc\u6240\u6709\u7684 {{ boldmessage }} .  \u73b0\u5728\u4f60\u5df2\u7ecf\u66f4\u65b0\u4e86\u89c6\u56fe,\u8fd0\u884cDjango\u670d\u52a1\u5e76\u8bbf\u95ee http://127.0.0.1:8000/rango/ .\u4f60\u8bb2\u4f1a\u770b\u5230\u5982\u4e0b\u56fe\u6240\u793a.   \u5982\u679c\u4f60\u6ca1\u6709\u770b\u5230\u4e0a\u56fe,\u8bd5\u7740\u8bfb\u8bfb\u9519\u8bef\u65e5\u5fd7\u91cd\u65b0\u68c0\u67e5\u4e00\u4e0b\u521a\u624d\u4fee\u6539\u7684\u6587\u4ef6.\u786e\u5b9a\u6240\u6709\u6240\u6709\u7684\u66f4\u6539\u90fd\u6b63\u786e.\u901a\u5e38\u90fd\u662f\u5728 settings.py \u6587\u4ef6\u4e2d\u8bbe\u7f6e\u6a21\u677f\u8def\u5f84\u4ea7\u751f\u7684\u9519\u8bef.\u6709\u65f6\u5019\u9700\u8981\u6dfb\u52a0 print \u8bed\u53e5\u6765\u8f93\u51fa BASE_DIR \u548c TEMPLATE_PATH ,\u786e\u4fdd\u5b83\u4eec\u4fe9\u8bbe\u7f6e\u7684\u6b63\u786e\u6027.  \u8fd9\u4e2a\u4f8b\u5b50\u5c55\u793a\u4e86\u5728\u89c6\u56fe\u91cc\u5982\u4f55\u4f7f\u7528\u6a21\u677f.\u7136\u800c\u6211\u4eec\u4ec5\u4ec5\u63a5\u89e6\u4e86\u4e00\u4e9bDjango\u6a21\u677f\u65b9\u9762\u7684\u529f\u80fd.\u5728\u6211\u4eec\u7684\u6559\u7a0b\u91cc\u5c06\u4f1a\u63a5\u89e6\u5230\u66f4\u590d\u6742\u7684\u6a21\u677f\u5e94\u7528.\u540c\u65f6\u4f60\u53ef\u4ee5\u53c2\u8003 templates from the official Django documentation .", 
            "title": "5.1 \u4f7f\u7528\u6a21\u677f"
        }, 
        {
            "location": "/#52", 
            "text": "\u73b0\u5728Rango\u7f51\u7ad9\u786e\u5b9e\u6bd4\u8f83\u539f\u59cb,\u6ca1\u6709\u6837\u5f0f\u4e5f\u6ca1\u6709\u56fe\u7247.\u4e3a\u4e86\u589e\u52a0\u6837\u5f0f\u548c\u5f15\u5165\u52a8\u6001\u884c\u4e3a\u6211\u4eec\u53ef\u4ee5\u5728\u6211\u4eec\u7684\u7f51\u7ad9\u91cc\u52a0\u5165 CSS , Javascript \u548c\u56fe\u50cf\u8fd9\u4e9b\u9759\u6001\u5a92\u4f53.\u8fd9\u4e9b\u6587\u4ef6\u548c\u7f51\u9875\u6709\u4e00\u4e9b\u4e0d\u540c.\u8fd9\u662f\u56e0\u4e3a\u5b83\u4eec\u4e0d\u60f3HTML\u9875\u9762\u662f\u751f\u6210\u51fa\u6765\u7684.\u8fd9\u7ae0\u8282\u5c06\u4f1a\u6559\u4f60\u5982\u4f55\u5728Django\u9879\u76ee\u91cc\u8bbe\u7f6e\u9759\u6001\u5a92\u4f53.\u6211\u4eec\u5c06\u4f1a\u4e3a\u6211\u4eec\u7684\u6a21\u677f\u6dfb\u52a0\u4e00\u4e9b\u9759\u6001\u5a92\u4f53.  5.2.1 \u8bbe\u7f6e\u9759\u6001\u5a92\u4f53\u76ee\u5f55  \u4e3a\u4e86\u8bbe\u7f6e\u9759\u6001\u5a92\u4f53,\u4f60\u9700\u8981\u8bbe\u7acb\u5b58\u50a8\u5b83\u4eec\u7684\u76ee\u5f55.\u5728\u4f60\u7684\u9879\u76ee\u76ee\u5f55(\u4f8b\u5982 workspace /tango_with_django_project/ ),\u521b\u5efa\u53eb\u505a static \u7684\u76ee\u5f55.\u5728 static \u91cc\u518d\u521b\u5efa\u4e00\u4e2a images \u76ee\u5f55.  \u73b0\u5728\u5728 static/images \u76ee\u5f55\u91cc\u653e\u7f6e\u4e00\u4e2a\u56fe\u7247.\u5982\u4e0b\u56fe\u6240\u793a\u6211\u4eec\u9009\u62e9\u4e00\u5f20\u53d8\u8272\u9f99\u7684\u56fe\u6848\u6765\u505a\u6211\u4eec\u9879\u76ee\u7684\u5409\u7965\u7269.   \u5c31\u50cf\u5148\u524d `templates \u76ee\u5f55\u4e00\u6837\u6211\u4eec\u9700\u8981\u544a\u8bc9Django\u6211\u4eec\u521b\u5efa\u4e86 static \u76ee\u5f55.  \u5728 settings.py \u6587\u4ef6,\u6211\u4eec\u9700\u8981\u66f4\u65b0\u4e24\u4e2a\u53d8\u91cf STATIC_URL \u548c STATICFILES_DIRS \u5143\u7ec4,\u50cf\u4e0b\u9762\u4e00\u6837\u521b\u5efa\u4e00\u4e2a\u50a8\u5b58\u9759\u6001\u76ee\u5f55( STATIC_PATH )\u7684\u53d8\u91cf.  STATIC_PATH = os.path.join(BASE_DIR,'static')\n\nSTATIC_URL = '/static/' # You may find this is already defined as such.\n\nSTATICFILES_DIRS = (\n    STATIC_PATH,\n)  \u7b2c\u4e00\u4e2a\u53d8\u91cf STATIC_URL \u5b9a\u4e49\u4e86\u5f53Django\u8fd0\u884c\u65f6Django\u5e94\u7528\u5bfb\u627e\u9759\u6001\u5a92\u4f53\u7684\u5730\u5740.\u4f8b\u5982,\u50cf\u6211\u4eec\u4e0a\u9762\u7684\u4ee3\u7801\u4e00\u6837\u5427 STATIC_URL \u8bbe\u7f6e\u6210 /static/ ,\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7 http://127.0.0.1:8000/static/ \u6765\u8bbf\u95ee\u5b83\u4e86.  official documentation on serving up static media  \u8b66\u544a\u6211\u4eec\u8981\u6ce8\u610f\u659c\u6760\u7684\u4e66\u5199.\u5982\u679c\u4e0d\u8fd9\u4e48\u8bbe\u7f6e\u5c06\u4f1a\u5f15\u8d77\u4e00\u5927\u5806\u9ebb\u70e6.  STATIC_URL \u5b9a\u4e49\u4e86web\u670d\u52a1\u94fe\u63a5\u5a92\u4f53\u7684URL\u5730\u5740, STATICFILES_DIRS \u5141\u8bb8\u4f60\u5b9a\u4e49\u65b0\u7684 static \u76ee\u5f55.\u50cf TEMPLATE_DIRS \u5143\u7ec4\u4e00\u6837. STATICFILES_DIRS \u9700\u8981 static \u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84.\u8fd9\u91cc,\u6211\u4eec\u91cd\u65b0\u75285.1\u7ae0\u7684 BASE_DIR \u53d8\u91cf\u6765\u521b\u5efa STATIC_PATH .  \u5b8c\u6210\u4e86\u8fd9\u4e24\u4e2a\u8bbe\u7f6e\u540e,\u518d\u4e00\u6b21\u8fd0\u884c\u4f60\u7684Django\u670d\u52a1.\u5982\u679c\u6211\u4eec\u60f3\u8981\u67e5\u770b\u6211\u4eec\u7684Rango\u56fe\u7247,\u8bbf\u95ee http://127.0.0.1:8000/static/images/rango.jpg .\u5982\u679c\u6ca1\u6709\u51fa\u73b0\u8bf7\u67e5\u770b setings.py \u6587\u4ef6\u662f\u5426\u8bbe\u7f6e\u6b63\u786e,\u5e76\u91cd\u542f\u670d\u52a1.\u5982\u679c\u51fa\u73b0\u4e86,\u8bd5\u7740\u52a0\u5165\u5176\u4ed6\u7c7b\u578b\u7684\u6587\u4ef6\u5230 static \u76ee\u5f55\u5e76\u5728\u6d4f\u89c8\u5668\u4e0a\u8bbf\u95ee\u4ed6\u4eec.   Note  \u5728\u5f00\u53d1\u73af\u5883\u4e2d\u53ef\u4ee5\u4f60\u53ef\u4ee5\u7528\u8fd9\u79cd\u65b9\u6cd5\u6765\u63d0\u4f9b\u9759\u6001\u5a92\u4f53\u6587\u4ef6,\u4f46\u662f\u5728\u751f\u4ea7\u73af\u5883\u5c31\u4e0d\u592a\u9002\u5408\u4e86.  official Django documentation on Deploymen \u63d0\u4f9b\u4e86\u5728\u751f\u4ea7\u73af\u5883\u5982\u4f55\u90e8\u7f72\u9759\u6001\u6587\u4ef6.", 
            "title": "5.2 \u63d0\u4f9b\u9759\u6001\u5a92\u4f53"
        }, 
        {
            "location": "/#53", 
            "text": "\u73b0\u5728\u4f60\u5df2\u7ecf\u4e3a\u4f60\u7684Django\u9879\u76ee\u8bbe\u7f6e\u4e86\u9759\u6001\u5a92\u4f53,\u4f60\u53ef\u4ee5\u5728\u4f60\u7684\u6a21\u677f\u91cc\u52a0\u5165\u8fd9\u4e9b\u5a92\u4f53.  \u4e0b\u9762\u5c06\u5c55\u793ahi\u5982\u4f55\u52a0\u5165\u9759\u6001\u5a92\u4f53,\u6253\u5f00\u4f4d\u4e8e workspace /templates/rango \u76ee\u5f55\u7684 index.html \u6587\u4ef6.\u50cf\u4e0b\u9762\u4e00\u6837\u4fee\u6539HTML\u6e90\u4ee3\u7801.\u65b0\u52a0\u5165\u4e24\u884c\u7528\u6ce8\u91ca\u6807\u793a.  !DOCTYPE html \n\n{% load staticfiles %}  !-- New line --  html \n\n     head \n         title Rango /title \n     /head \n\n     body \n         h1 Rango says... /h1 \n        hello world!  strong {{ boldmessage }} /strong br / \n         a href= /rango/about/ About /a br / \n         img src= {% static  images/rango.jpg  %}  alt= Picture of Rango  /   !-- New line -- \n     /body  /html   \u9996\u5148,\u6211\u4eec\u9700\u8981\u4f7f\u7528 {% load static %} \u6807\u7b7e\u6765\u4f7f\u7528\u9759\u6001\u5a92\u4f53.\u6240\u4ee5\u6211\u4eec\u624d\u53ef\u4ee5\u7528 {% static \"rango.jpg\" % \u5728\u6a21\u677f\u91cc\u8c03\u7528 static \u6587\u4ef6.Django\u6a21\u677f\u6807\u7b7e\u7528 { } \u6765\u8868\u793a.\u5728\u8fd9\u4e2a\u4f8b\u5b50\u91cc\u6211\u4eec\u7528 static \u6807\u7b7e,\u5b83\u5c06\u4f1a\u628a STATIC_URL \u548c rango.jpg \u8fde\u63a5\u8d77\u6765,\u5982\u4e0b\u6240\u793a.  img src= /static/images/rango.jpg  alt= Picture of Rango  /   !-- New line --   \u5982\u679c\u56e0\u4e3a\u4ec0\u4e48\u539f\u56e0\u56fe\u7247\u4e0d\u80fd\u52a0\u8f7d\u6211\u4eec\u53ef\u4ee5\u7528\u4e00\u4e9b\u6587\u672c\u6765\u4ee3\u66ff.\u8fd9\u5c31\u662f alt \u5c5e\u6027\u7684\u4f5c\u7528 - \u5982\u679c\u56fe\u7247\u52a0\u8f7d\u5931\u8d25\u5c31\u663e\u793a alt \u5c5e\u6027\u4e2d\u7684\u6587\u672c.  \u597d\u4e86,\u8ba9\u6211\u4eec\u518d\u6b21\u8fd0\u884cDjango\u670d\u52a1\u8bbf\u95ee http://127.0.0.1:8000/rango .\u5e78\u8fd0\u7684\u8bdd\u53ef\u4ee5\u770b\u5230\u4e0b\u56fe.   \u5f53\u4f60\u5e0c\u671b\u5728\u6a21\u677f\u91cc\u4f7f\u7528\u9759\u6001\u5a92\u4f53\u4f60\u9700\u8981\u8c03\u7528 {% static %} \u51fd\u6570.\u4e0b\u9762\u7684\u4ee3\u7801\u5c06\u5c55\u793a\u7ed9\u4f60\u5982\u4f55\u5728\u4f60\u7684\u6a21\u677f\u91cc\u6dfb\u52a0Javascript,CSS\u548c\u56fe\u7247.  !DOCTYPE html \n\n{% load static %} html \n\n     head \n         title Rango /title \n         link rel= stylesheet  href= {% static  css/base.css  %}  /   !-- CSS -- \n         script src= {% static  js/jquery.js  %} /script   !-- JavaScript -- \n     /head \n\n     body \n         h1 Including Static Media /h1 \n         img src= {% static  images/rango.jpg  %}  alt= Picture of Rango  /   !-- Images -- \n     /body  /html   \u5f88\u663e\u7136\u4f60\u9700\u8981\u5f15\u5165\u7684\u9759\u6001\u6587\u4ef6\u9700\u8981\u5728\u4f60\u7684 static \u76ee\u5f55\u91cc.\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\u6216\u8005\u5f15\u7528\u9519\u8bef\u7684\u8bdd,\u63a7\u5236\u53f0\u5c06\u4f1a\u8f93\u51fa\u9519\u8bef.\u8bd5\u8bd5\u770b\u5f15\u5165\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684\u6587\u4ef6\u5c06\u4f1a\u53d1\u751f\u4ec0\u4e48.  \u4e3a\u4e86\u8fdb\u4e00\u6b65\u4e86\u89e3\u9759\u6001\u5a92\u4f53\u53ef\u67e5\u770b Django documentation on working with static files in templates .   Note  \u5728\u4f60\u6a21\u677f\u7684\u7b2c\u4e00\u884c\u786e\u4fdd \u6587\u6863\u7c7b\u578b\u58f0\u660e (\u4f8b\u5982 !DOCTYPE html ).\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u9700\u8981\u628a {% load static %} \u653e\u5728\u6587\u6863\u7c7b\u578b\u58f0\u660e\u540e\u9762\u800c\u4e0d\u662f\u524d\u9762.\u6839\u636eHTML/XHTML\u4e0d\u540c\u6587\u6863\u7c7b\u578b\u5bf9\u8c61\u7684\u58f0\u660e\u4e5f\u6709\u7a0d\u8bb8\u4e0d\u540c.\u5f88\u663e\u7136Django\u547d\u4ee4\u4f1a\u5728\u6a21\u677f\u8f93\u51fa\u7684\u65f6\u5019\u5220\u9664,\u4f46\u662f\u5220\u9664\u4e4b\u540e\u7684\u547d\u4ee4\u4f1a\u7559\u4e0b\u4e00\u4e9b\u7a7a\u767d\u610f\u5473\u7740\u4f60\u7684\u8f93\u51fa\u5c06\u5f97\u4e0d\u5230 W3C\u8ba4\u8bc1\u670d\u52a1 \u7684 \u9a8c\u8bc1 .   TODO(leifos):\u6ce8\u610f\u5f53\u4f60\u90e8\u7f72\u9879\u76ee\u7684\u65f6\u5019\u6700\u597d\u4e0d\u8981\u8fd9\u6837\u505a,\u4f60\u53ef\u4ee5\u67e5\u8be2https://docs.djangoproject.com/en/1.7/howto/static-files/deployment/   TODO(leifos):DEBUG\u53d8\u91cf\u5728 settings.py \u4e2d,\u8bbe\u7f6e\u5b83\u53ef\u4ee5\u8ba9\u6211\u4eec\u63a7\u5236\u662f\u5426\u8f93\u51fa\u9519\u8bef\u4fe1\u606f.\u5f53\u628a DEBUG \u8bbe\u7f6e\u6210True\u65f6\u5bf9\u4e8e\u5e94\u7528\u7684\u90e8\u7f72\u5e76\u4e0d\u5b89\u5168.\u5f53\u4f60\u628a DEBUG \u8bbe\u7f6e\u6210False,\u4f60\u5f97\u9700\u8981\u628a settings.py \u4e2d\u7684 ALLOWED_HOSTS \u53d8\u91cf\u8bbe\u7f6e\u6210 127.0.0.1 \u4ee5\u4fbf\u53ef\u4ee5\u5728\u672c\u5730\u4e3b\u673a\u4e0a\u8fd0\u884c.\u4f60\u9700\u8981\u4fee\u6539\u9879\u76ee\u91cc\u7684 urls.py \u6587\u4ef6:  from django.conf import settings # New Import\nfrom django.conf.urls.static import static # New Import\n\n\nif not settings.DEBUG:\n        urlpatterns += static(settings.STATIC_URL, document_root=settings.STATIC_ROOT)  TODO(leifos):\u6211\u4eec\u5c06\u5728\u90e8\u7f72\u7ae0\u8282\u8be6\u7ec6\u7684\u4ecb\u7ecd.", 
            "title": "5.3 \u9759\u6001\u5a92\u4f53\u6587\u4ef6\u548c\u6a21\u677f"
        }, 
        {
            "location": "/#54", 
            "text": "\u73b0\u5728\u4f60\u53ef\u4ee5\u4f7f\u7528\u9759\u6001\u6587\u4ef6,\u8ba9\u6211\u4eec\u770b\u770b\u5982\u4f55\u4e0a\u4f20\u5a92\u4f53.\u8bb8\u591a\u7f51\u7ad9\u63d0\u4f9b\u4e86\u4e0a\u4f20\u56fe\u50cf\u7684\u529f\u80fd.\u8fd9\u7ae0\u6211\u4eec\u5c06\u5c55\u793a\u5982\u4f55\u4e3a\u4f60\u7684Django\u9879\u76ee\u5f00\u53d1\u4e00\u4e2a\u7b80\u5355\u7684\u5a92\u4f53\u670d\u52a1.\u5728\u5f00\u53d1\u5a92\u4f53\u670d\u52a1\u4e2d\u9700\u8981\u7528\u5230\u7684\u6587\u4ef6\u4e0a\u4f20\u8868\u683c\u6211\u4eec\u5c06\u4f1a\u5728\u7b2c9\u7ae0\u91cc\u63a5\u89e6\u5230.  \u90a3\u4e48,\u6211\u4eec\u600e\u4e48\u6837\u624d\u80fd\u5f00\u53d1\u5a92\u4f53\u670d\u52a1\u5462?\u7b2c\u4e00\u6b65\u662f\u9700\u8981\u5728\u6211\u4eecDjango\u9879\u76ee\u6839\u76ee\u5f55\u91cc(\u6bd4\u5982 workspace /tango_with_django_project/ )\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u76ee\u5f55,\u540d\u5b57\u53eb media .\u8fd9\u4e2a\u76ee\u5f55\u5c31\u5728 templates \u548c static \u540c\u7ea7\u76ee\u5f55\u91cc.\u5728\u4f60\u521b\u5efa\u76ee\u5f55\u540e,\u9700\u8981\u8981\u4fee\u6539\u4f4d\u4e8e\u8bbe\u7f6e\u76ee\u5f55(\u4f8b\u5982 workspace /tango_with_django_project/tango_with_django_project/ )\u91cc\u7684 urls.py \u6587\u4ef6.\u4fee\u6539\u5982\u4e0b.  # At the top of your urls.py file, add the following line:\nfrom django.conf import settings\n\n# UNDERNEATH your urlpatterns definition, add the following two lines:\nif settings.DEBUG:\n    urlpatterns += patterns(\n        'django.views.static',\n        (r'^media/(?P path .*)',\n        'serve',\n        {'document_root': settings.MEDIA_ROOT}), )  \u901a\u8fc7\u5bfc\u5165 django.conf \u7684 settings \u6a21\u5757\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u6211\u4eec\u9879\u76ee\u91cc settings.py \u6587\u4ef6\u7684\u53d8\u91cf.\u63a5\u4e0b\u6765\u7684\u6761\u4ef6\u5224\u65ad\u8bed\u53e5\u5224\u65adDjango\u662f\u5426\u5904\u5728 DEBUG \u6a21\u5f0f.\u5982\u679c DEBUG \u88ab\u8bbe\u5b9a\u4e3a True ,\u90a3\u4e48\u5c31\u4f1a\u5728 urlpatterns \u52a0\u5165URL\u5339\u914d\u6a21\u5f0f.\u6240\u6709\u4ee5 media/ \u5f00\u5934\u7684\u9752\u8c46\u90fd\u4f1a\u4f20\u9012\u7ed9 django.views.static \u89c6\u56fe.\u8fd9\u4e2a\u89c6\u56fe\u5c06\u4f1a\u628a\u4e0a\u4f20\u7684\u5a92\u4f53\u4f20\u7ed9\u4f60.  \u5728\u4fee\u6539\u4e86 urls.py \u6587\u4ef6\u540e,\u6211\u4eec\u9700\u8981\u4fee\u6539 settings.py \u6587\u4ef6.\u6211\u4eec\u9700\u8981\u521b\u5efa MEDIA_URL \u548c MEDIA_ROOT \u4e24\u4e2a\u53d8\u91cf.  MEDIA_URL = '/media/'\nMEDIA_ROOT = os.path.join(BASE_DIR, 'media') # Absolute path to the media directory  \u7b2c\u4e00\u4e2a\u53d8\u91cf MEDIA_URL \u5b9a\u4e49\u4e86\u57fa\u5730\u5740.\u5982\u679c\u628a MEDIA_URL \u8bbe\u7f6e\u4e3a /media/ \u610f\u5473\u7740\u4e0a\u4f20URL\u4e3a http://127.0.0.1:8000/media/ . MEDIA_ROOT \u7528\u6765\u544a\u8bc9Django\u4f60\u7684\u4e0a\u4f20\u6587\u4ef6\u4fdd\u5b58\u5728\u7535\u8111\u7684\u54ea\u4e2a\u4f4d\u7f6e.\u5728\u4e0a\u8fb9\u7684\u4f8b\u5b50\u4e2d,\u6211\u4eec\u75285.1\u7ae0\u8282\u8bbe\u7f6e\u7684 PROJECT_PATH \u53d8\u91cf\u548c /media/ \u8fde\u63a5.\u5c31\u53d8\u6210\u4e86\u7edd\u5bf9\u8def\u5f84 workspace /tango_with_django_project/media/ .   Note  \u548c\u524d\u9762\u63d0\u5230\u7684\u4e00\u6837,Django\u63d0\u4f9b\u7684\u5f00\u53d1\u5a92\u4f53\u670d\u52a1\u5bf9debug\u975e\u5e38\u6709\u5e2e\u52a9.\u4f46\u662f\u5b83\u4e0d\u80fd\u7528\u5728\u751f\u4ea7\u73af\u5883\u4e2d.  Django documentation on static files \u8b66\u544a\u8fd9\u6837\u505a\"\u4f4e\u6548\u7387\u4e14\u4e0d\u5b89\u5168\".\u5982\u679c\u4f60\u9700\u8981\u90e8\u7f72\u4f60\u7684Django\u9879\u76ee,\u4f60\u9700\u8981\u9605\u8bfb\u6587\u6863\u9009\u62e9\u66f4\u5b89\u5168\u7684\u65b9\u6cd5\u89e3\u51b3\u4e0a\u4f20\u6587\u4ef6\u7684\u95ee\u9898.   \u4f60\u53ef\u4ee5\u5728 media \u76ee\u5f55\u91cc\u653e\u5165\u4e00\u4e2a\u56fe\u7247\u6765\u68c0\u67e5\u5b83\u662f\u5426\u5de5\u4f5c.\u542f\u52a8Django\u670d\u52a1,\u5728\u6d4f\u89c8\u5668\u91cc\u8bbf\u95ee\u56fe\u7247.\u4f8b\u5982\u5982\u679c\u4f60\u5728 media \u4e2d\u52a0\u5165 rango.jpg \u6587\u4ef6,\u4f60\u9700\u8981\u8bbf\u95ee\u7684URL\u770b\u8d77\u6765\u662f\u8fd9\u6837\u7684 http://127.0.0.1:8000/media/rango.jpg .\u4f60\u4f1a\u770b\u5230\u4f60\u7684\u56fe\u7247.\u5982\u679c\u4f60\u6ca1\u770b\u5230,\u4f60\u9700\u8981\u56de\u53bb\u68c0\u67e5\u8bbe\u7f6e\u662f\u5426\u9519\u8bef.", 
            "title": "5.4 \u9759\u6001\u5a92\u4f53\u670d\u52a1"
        }, 
        {
            "location": "/#55", 
            "text": "\u5b66\u5b8c\u8fd9\u7ae0,\u4f60\u5e94\u5f53\u5b66\u4f1a\u5982\u4f55\u8bbe\u7f6e\u548c\u521b\u5efa\u6a21\u677f,\u5728\u4f60\u7684\u89c6\u56fe\u91cc\u4f7f\u7528\u6a21\u677f,\u8bbe\u7f6e\u548c\u4f7f\u7528Django\u6765\u53d1\u9001\u9759\u6001\u5a92\u4f53\u6587\u4ef6,\u5305\u62ec\u6a21\u677f\u91cc\u7684\u56fe\u7247\u548c\u4e3a\u4e86\u6587\u4ef6\u4e0a\u4f20\u8bbe\u7f6eDjango\u9759\u6001\u5a92\u4f53\u670d\u52a1.\u6211\u4eec\u5df2\u7ecf\u5b66\u4e86\u5f88\u591a\u4e86!  \u521b\u5efa\u6a21\u677f\u5e76\u5728\u89c6\u56fe\u91cc\u4f7f\u7528\u662f\u8fd9\u7ae0\u7684\u5173\u952e.\u5b83\u9700\u8981\u4e00\u4e9b\u6b65\u9aa4,\u4f46\u662f\u5f53\u4f60\u5c1d\u8bd5\u51e0\u6b21\u540e\u5c31\u975e\u5e38\u5bb9\u6613\u638c\u63e1\u4e86.   \u9996\u5148,\u521b\u5efa\u4f60\u5e0c\u671b\u4f7f\u7528\u7684\u6a21\u677f\u5e76\u628a\u5b83\u4fdd\u5b58\u5728 templates \u76ee\u5f55\u91cc,\u8fd9\u4e2a\u76ee\u5f55\u9700\u8981\u4f60\u5199\u5165 settings.py \u6587\u4ef6.\u4f60\u53ef\u4ee5\u5728\u6a21\u677f\u91cc\u4f7f\u7528Django\u6a21\u677f\u53d8\u91cf(\u4f8b\u5982 {{ bariable_name }} ).\u4f60\u53ef\u4ee5\u5728\u89c6\u56fe\u91cc\u66f4\u6362\u8fd9\u4e9b\u53d8\u91cf.  \u5728\u5e94\u7528\u7684 views.py \u6587\u4ef6\u91cc\u67e5\u627e\u6216\u8005\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u89c6\u56fe.  \u589e\u52a0\u89c6\u56fe\u903b\u8f91.\u4f8b\u5982\u4f60\u53ef\u4ee5\u4ece\u6570\u636e\u5e93\u91cc\u83b7\u5f97\u6570\u636e.  \u5728\u89c6\u56fe\u91cc,\u521b\u5efa\u4e00\u4e2a\u5b57\u5178\u5bf9\u8c61\u53ef\u4ee5\u5427\u6a21\u677f\u5185\u5bb9\u4f20\u9012\u7ed9\u6a21\u677f\u5f15\u64ce.  \u4f7f\u7528 render() \u51fd\u6570\u6765\u751f\u6210\u8fd4\u56de.\u786e\u4fdd\u5f15\u7528request,\u7136\u540e\u662f\u6a21\u677f\u6587\u4ef6,\u6700\u540e\u662f\u5185\u5bb9\u5b57\u5178!  \u5982\u679c\u4f60\u8fd8\u6ca1\u6709\u4fee\u6539 urls.py \u6587\u4ef6\u6216\u8005\u5e94\u7528\u4e2d\u7684 urls.py \u4e2d\u7684\u6620\u5c04,\u4f60\u9700\u8981\u4fee\u6539\u4e00\u4e0b.   \u5728\u4f60\u7684\u9875\u9762\u4e0a\u83b7\u53d6\u4e00\u4e2a\u9759\u6001\u5a92\u4f53\u6587\u4ef6\u4e5f\u662f\u4e00\u4e2a\u4f60\u9700\u8981\u638c\u63e1\u7684\u5f88\u91cd\u8981\u7684\u6b65\u9aa4.   \u628a\u4f60\u8981\u6dfb\u52a0\u7684\u9759\u6001\u6587\u4ef6\u653e\u5165 static \u76ee\u5f55.\u8fd9\u4e2a\u76ee\u5f55\u662f\u4f60\u5728 settings.py \u4e2d\u8bbe\u7f6e\u7684 STATICFILES_DIRS \u5143\u7ec4.  \u5728\u6a21\u677f\u4e2d\u6dfb\u52a0\u9759\u6001\u5a92\u4f53\u5f15\u7528.\u4f8b\u5982\u4e00\u4e2aHTML\u7f51\u9875\u7684\u56fe\u7247\u7528 img / \u6807\u7b7e.  \u8bb0\u5f97\u7528 {% load staticfiles %} \u548c {% static \"filename\" %} \u547d\u4ee4\u5728\u6a21\u677f\u4e2d\u8bbe\u7f6e\u9759\u6001\u6587\u4ef6.   \u4e0b\u4e00\u7ae0\u6211\u4eec\u5c06\u4f1a\u5b66\u4e60\u6570\u636e\u5e93.\u6211\u4eec\u5c06\u5b66\u4e60\u5982\u4f55\u7528Django\u51fa\u8272\u7684\u6570\u636e\u5e93\u5c42\u6765\u5e2e\u52a9\u6211\u4eec\u6446\u8131\u7e41\u7410!", 
            "title": "5.5 \u57fa\u672c\u6d41\u7a0b"
        }, 
        {
            "location": "/#56", 
            "text": "\u4e0b\u9762\u4e24\u4e2a\u7ec3\u4e60\u6765\u5de9\u56fa\u672c\u7ae0.   \u628aabout\u9875\u9762\u4e5f\u7528\u4e00\u4e2a about.html \u6a21\u677f\u6765\u8bbe\u7f6e.  \u5728 about.html \u6a21\u677f\u91cc,\u5728\u4f60\u7684\u9759\u6001\u5a92\u4f53\u91cc\u589e\u52a0\u56fe\u7247.", 
            "title": "5.6 \u7ec3\u4e60"
        }, 
        {
            "location": "/#6", 
            "text": "\u901a\u5e38\u6765\u8bf4\u5904\u7406\u6570\u636e\u5e93\u9700\u8981\u6211\u4eec\u638c\u63e1\u8bb8\u591a\u590d\u6742\u7684SQL\u8bed\u53e5.\u4f46\u662f\u5728Django\u91cc,\u5bf9\u8c61\u5173\u7cfb\u6620\u5c04(ORM)\u5e2e\u6211\u4eec\u5904\u7406\u8fd9\u4e00\u5207,\u5305\u62ec\u901a\u8fc7\u6a21\u578b\u521b\u5efa\u6570\u636e\u5e93\u8868.\u4e8b\u5b9e\u4e0a,\u6a21\u578b\u662f\u63cf\u8ff0\u4f60\u7684\u6570\u636e\u6a21\u578b/\u56fe\u8868\u7684\u4e00\u4e2aPython\u5bf9\u8c61.\u4e0e\u4ee5\u5f80\u901a\u8fc7SQL\u64cd\u4f5c\u6570\u636e\u5e93\u4e0d\u540c,\u4f60\u53ea\u7528\u4f7f\u7528Python\u5bf9\u8c61\u5c31\u80fd\u64cd\u4f5c\u6570\u636e\u5e93.\u5728\u672c\u7ae0,\u6211\u4eec\u5c06\u4f1a\u5b66\u4e60\u5982\u4f55\u8bbe\u7acb\u6570\u636e\u5e93\u5e76\u4e3aRango\u5efa\u7acb\u6a21\u578b.", 
            "title": "6 \u6a21\u578b\u548c\u6570\u636e\u5e93"
        }, 
        {
            "location": "/#61-rango", 
            "text": "\u9996\u5148,\u8ba9\u6211\u4eec\u770b\u770bRango\u7684\u9700\u6c42.\u4e0b\u9762\u5217\u51fa\u4e86Rango\u6570\u636e\u5173\u952e\u7684\u51e0\u4e2a\u9700\u6c42.   Rango\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u7f51\u9875\u76ee\u5f55 - \u4e00\u4e2a\u5305\u542b\u5176\u4ed6\u6211\u7ad9\u94fe\u63a5\u7684\u7f51\u7ad9  \u6709\u8bb8\u591a\u4e0d\u540c\u7f51\u7ad9\u7684\u76ee\u5f55,\u6bcf\u4e2a\u76ee\u5f55\u4e2d\u5305\u542b\u8bb8\u591a\u94fe\u63a5.\u6211\u4eec\u5728\u7b2c\u4e8c\u7ae0\u5047\u8bbe1\u5bf9\u591a\u5173\u7cfb.\u770b\u4e0b\u9762\u7684ER\u56fe.  \u4e00\u4e2a\u76ee\u5f55\u8981\u6709\u540d\u5b57,\u8bbf\u95ee\u6570\u548c\u94fe\u63a5.  \u4e00\u4e2a\u9875\u9762\u8981\u6709\u76ee\u5f55,\u6807\u9898,URL\u548c\u4e00\u4e9b\u89c6\u56fe.", 
            "title": "6.1 Rango\u7684\u9700\u6c42"
        }, 
        {
            "location": "/#62-django", 
            "text": "\u5728\u4f60\u521b\u9020\u4efb\u4f55\u6a21\u578b\u4e4b\u524d\u90fd\u8981\u5bf9\u4f60\u7684\u6570\u636e\u5e93\u8fdb\u884c\u8bbe\u7f6e.\u5728Django1.7,\u5f53\u4f60\u521b\u5efa\u4e86\u4e00\u4e2a\u9879\u76ee,Django\u4f1a\u81ea\u52a8\u5728 settings.py \u91cc\u6dfb\u52a0\u4e00\u4e2a\u53eb\u505a DATABASES \u7684\u5b57\u5178.\u5b83\u5305\u542b\u5982\u4e0b.  DATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.sqlite3',\n        'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),\n    }\n}  \u80fd\u770b\u5230\u9ed8\u8ba4\u7528SQLite3\u4f5c\u4e3a\u540e\u7aef\u6570\u636e\u5e93.SQLite\u662f\u4e2a\u8f7b\u91cf\u7ea7\u7684\u6570\u636e\u5e93\u5bf9\u6211\u4eec\u5f00\u53d1\u5f88\u6709\u7528.\u6211\u4eec\u4ec5\u4ec5\u9700\u8981\u8bbe\u7f6e DATABASE_PATH \u91cc\u7684 NAME \u952e\u503c\u5bf9.\u5176\u4ed6\u5f15\u64ce\u9700\u8981 USER , PASSWORD , HOST \u548c PORT \u7b49\u5173\u952e\u5b57.   Note  \u5bf9\u4e8e\u6559\u7a0b\u6765\u8bf4\u4f7f\u7528SQLite\u5f15\u64ce\u8fd8\u597d,\u4f46\u662f\u5bf9\u4e8e\u90e8\u7f72\u4f60\u7684\u5e94\u7528\u6765\u8bf4\u53ef\u80fd\u4e0d\u662f\u6700\u597d\u7684\u9009\u62e9,\u6216\u8bb8\u5e94\u5f53\u4f7f\u7528\u5176\u4ed6\u66f4\u5065\u58ee\u548c\u66f4\u5927\u578b\u7684\u6570\u636e\u5e93\u5f15\u64ce.Django\u540c\u6837\u652f\u6301\u50cf PostgreSQL \u548c MySQL \u8fd9\u6837\u7684\u6d41\u884c\u6570\u636e\u5e93\u5f15\u64ce.\u4ece  official Django documentation on Database Engines  \u83b7\u53d6\u66f4\u591a\u7ec6\u8282.\u4f60\u53ef\u4ee5\u67e5\u770b\u5173\u4e8e\u8fd9\u7bc7\u5173\u4e8eSQLite\u7684 \u6587\u7ae0 \u6765\u9009\u62e9\u662f\u5426\u4f7f\u7528SQLite\u5f15\u64ce.", 
            "title": "6.2 \u544a\u8bc9Django\u4f60\u7684\u6570\u636e\u5e93"
        }, 
        {
            "location": "/#63", 
            "text": "\u8ba9\u6211\u4eec\u4e3aRango\u521b\u5efa\u4e24\u4e2a\u6570\u636e\u6a21\u578b.  \u5728 rango/models.py \u91cc,\u6211\u4eec\u5b9a\u4e49\u4e24\u4e2a\u7ee7\u627f\u81ea djnago.db.models.Model \u7684\u7c7b.\u8fd9\u4e24\u4e2a\u7c7b\u5206\u522b\u5b9a\u4e49\u76ee\u5f55\u548c\u9875\u9762.\u5b9a\u4e49 Category \u548c Page \u5982\u4e0b.  class Category(models.Model):\n    name = models.CharField(max_length=128, unique=True)\n\n    def __unicode__(self):  #For Python 2, use __str__ on Python 3\n        return self.name\n\nclass Page(models.Model):\n    category = models.ForeignKey(Category)\n    title = models.CharField(max_length=128)\n    url = models.URLField()\n    views = models.IntegerField(default=0)\n\n    def __unicode__(self):      #For Python 2, use __str__ on Python 3\n        return self.title  \u5f53\u4f60\u5b9a\u4e49\u4e86\u4e00\u4e2a\u6a21\u578b,\u4f60\u9700\u8981\u5236\u5b9a\u53ef\u9009\u53c2\u6570\u7684\u5c5e\u6027\u4ee5\u53ca\u76f8\u5173\u7684\u7c7b\u578b\u5217\u8868.Django\u63d0\u4f9b\u4e86\u8bb8\u591a\u5185\u5efa\u5b57\u6bb5.\u4e00\u4e9b\u5e38\u7528\u7684\u5982\u4e0b.   CharField ,\u5b58\u50a8\u5b57\u7b26\u6570\u636e\u7684\u5b57\u6bb5(\u4f8b\u5982\u5b57\u7b26\u4e32). max_length \u63d0\u4f9b\u4e86\u6700\u5927\u957f\u5ea6.  URLField ,\u548c CharField \u4e00\u6837,\u4f46\u662f\u5b83\u5b58\u50a8\u8d44\u6e90\u7684URL.\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528 max_length \u53c2\u6570.  'IntegerField',\u5b58\u50a8\u6574\u6570.  DateField ,\u5b58\u50a8Python\u7684 datetime.date .   \u67e5\u770b Django documentation on model fields \u83b7\u53d6\u5b8c\u6574\u5217\u8868.  \u6bcf\u4e2a\u5b57\u6bb5\u90fd\u6709\u4e00\u4e2a unique \u5c5e\u6027.\u5982\u679c\u8bbe\u7f6e\u4e3a True ,\u90a3\u4e48\u5728\u6574\u4e2a\u6570\u636e\u5e93\u6a21\u578b\u91cc\u5b83\u7684\u5b57\u6bb5\u91cc\u7684\u503c\u5fc5\u987b\u662f\u552f\u4e00\u7684.\u4f8b\u5982,\u6211\u4eec\u4e0a\u9762\u5b9a\u4e49\u7684 Category \u6a21\u578b. name \u5b57\u6bb5\u88ab\u8bbe\u7f6e\u4e3a unique  - \u6240\u4ee5\u6bcf\u4e00\u4e2a\u76ee\u5f55\u7684\u540d\u5b57\u90fd\u5fc5\u987b\u662f\u552f\u4e00\u7684.  \u5982\u679c\u4f60\u60f3\u628a\u8fd9\u4e2a\u5b57\u6bb5\u4f5c\u4e3a\u6570\u636e\u5e93\u7684\u5173\u952e\u5b57\u4f1a\u975e\u5e38\u6709\u7528.\u4f60\u53ef\u4ee5\u4e3a\u6bcf\u4e2a\u5b57\u6bb5\u8bbe\u7f6e\u4e00\u4e2a\u9ed8\u8ba4\u503c( default='value' ),\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u6210 NULL (null=True).  Django\u4e5f\u63d0\u4f9b\u4e86\u8fde\u63a5\u6a21\u578b/\u8868\u7684\u7b80\u5355\u673a\u5236.\u8fd9\u4e2a\u673a\u5236\u5c01\u88c5\u57283\u4e2a\u5b57\u6bb5\u91cc,\u5982\u4e0b.   ForeignKey , \u521b\u5efa1\u5bf9\u591a\u5173\u7cfb\u7684\u5b57\u6bb5\u7c7b\u578b.  OneToOneField ,\u5b9a\u4e49\u4e00\u4e2a\u4e25\u683c\u76841\u5bf91\u5173\u7cfb\u5b57\u6bb5\u7c7b\u578b.  ManyToManyFeild ,\u5f53\u4ee5\u591a\u5bf9\u591a\u5173\u7cfb\u5b57\u6bb5\u7c7b\u578b.   \u4ece\u4e0a\u9762\u6211\u4eec\u7684\u4f8b\u5b50, Page \u4e2d category \u5b57\u6bb5\u662f ForeignKey \u7c7b\u578b.\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a1\u5bf9\u591a\u5173\u7cfb\u7684 Category \u6a21\u578b/\u8868,\u8fd9\u4e2a Category \u4f1a\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u7684\u4e00\u4e2a\u53c2\u6570.Django\u4f1a\u81ea\u52a8\u7684\u4e3a\u6bcf\u4e2a\u6a21\u578b\u8868\u4e2d\u521b\u5efaID\u5b57\u6bb5.\u6240\u4ee5\u4f60\u4e0d\u540c\u4e3a\u6bcf\u4e2a\u6a21\u578b\u521b\u5efa\u4e3b\u952e - \u5b83\u5df2\u7ecf\u4e3a\u4f60\u505a\u597d\u4e86!   Note  \u5f53\u521b\u5efa\u6a21\u677f\u7684\u65f6\u5019,\u6700\u597d\u521b\u5efa __unicode__() \u65b9\u6cd5 - \u7b49\u4ef7\u4e8e __strr__() \u65b9\u6cd5.\u5982\u679c\u4f60\u4e0d\u719f\u6089\u8fd9\u4e24\u4e2a\u65b9\u6cd5,\u5b83\u4eec\u4fe9\u7684\u4f5c\u7528\u548cJava\u4e2d toString() \u65b9\u6cd5\u76f8\u4f3c. __unicode__() \u65b9\u6cd5\u4e3a\u6a21\u578b\u5b9e\u4f8b\u63d0\u4f9bunicode\u8868\u8fbe\u5f0f.\u4f8b\u5982\u6211\u4eec\u7684 Category \u6a21\u578b\u901a\u8fc7 __unicode__() \u65b9\u6cd5\u8fd4\u56de\u76ee\u5f55\u7684\u540d\u5b57 - \u5f53\u4f60\u5f00\u59cb\u7528Django\u7684\u7ba1\u7406\u754c\u9762\u540e\u8fd9\u5c06\u4f1a\u975e\u5e38\u4fbf\u5229.   \u5728\u4f60\u7684\u7c7b\u91cc\u52a0\u5165 __unicode__() \u65b9\u6cd5\u5bf9debug\u4e5f\u975e\u5e38\u6709\u7528.\u5982\u679c\u5728 Category \u6a21\u578b\u4e2d\u6ca1\u6709 __unicode \u65b9\u6cd5\u5c06\u4f1a\u8fd4\u56de Category: Category object .\u6211\u4eec\u53ea\u77e5\u9053\u662f\u4e00\u4e2a\u76ee\u5f55,\u4f46\u662f\u662f\u54ea\u4e00\u4e2a\u5462?\u5982\u679c\u6211\u4eec\u6709 __unicode__() \u65b9\u6cd5\u6211\u4eec\u5c06\u4f1a\u8fd4\u56de Category: python ,\u8fd9\u91cc\u7684 python \u662f\u76ee\u5f55\u7684\u540d\u5b57.", 
            "title": "6.3 \u521b\u5efa\u6a21\u578b"
        }, 
        {
            "location": "/#64", 
            "text": "\u6211\u4eec\u5b9a\u4e49\u4e86\u6a21\u578b,\u90a3\u4e48Django\u5c31\u80fd\u5f88\u597d\u7684\u81ea\u52a8\u521b\u5efa\u6211\u4eec\u7684\u6570\u636e\u5e93.\u5728\u5148\u524d\u7684Django\u7248\u672c\u4e2d\u6211\u4eec\u7528\u5982\u4e0b\u547d\u4ee4:  $ python manage.py syncdb  \u800c\u5728Django1.7\u4e2d\u63d0\u4f9b\u4e86\u4e00\u4e2a\u8fc1\u79fb\u5de5\u5177\u5e2e\u52a9\u6211\u4eec\u4fee\u6539\u66f4\u65b0\u5728\u6a21\u5757\u4e2d\u6539\u53d8\u7684\u6570\u636e\u5e93.\u6240\u4ee5\u73b0\u5728\u60c5\u51b5\u53d8\u5f97\u590d\u6742\u4e9b - \u4f46\u662f\u4e3b\u8981\u7684\u76ee\u7684\u662f\u5f53\u6211\u4eec\u6539\u53d8\u6a21\u578b\u7684\u65f6\u5019\u6211\u4eec\u4e0d\u5fc5\u5220\u9664\u5b83\u65e2\u53ef\u8fdb\u884c\u66f4\u65b0.  6.4.1 \u8bbe\u7f6e\u6570\u636e\u5e93\u5e76\u521b\u5efa\u7ba1\u7406\u5458  \u5982\u679c\u8fd8\u6ca1\u6709\u8bbe\u7f6e\u6570\u636e\u5e93\u90a3\u4e48\u9700\u8981\u901a\u8fc7migrate\u547d\u4ee4\u6765\u8bbe\u7acb.  $ python manage.py migrate\n\n\nOperations to perform:\n  Apply all migrations: admin, contenttypes, auth, sessions\nRunning migrations:\n  Applying contenttypes.0001_initial... OK\n  Applying auth.0001_initial... OK\n  Applying admin.0001_initial... OK\n  Applying sessions.0001_initial... OK  \u4f60\u662f\u5426\u8fd8\u8bb0\u5f97\u5728 settings.py \u6587\u4ef6\u91cc\u8bbe\u7f6e\u7684INSTALLED_APPS\u5217\u8868,\u5b83\u4f1a\u521d\u59cb\u5316\u521b\u5efa\u8fd9\u4e9bapp\u7684\u56fe\u8868,\u4f8b\u5982auth,admin\u7b49\u7b49.\u5728\u4f60\u7684\u9879\u76ee\u6839\u76ee\u5f55\u91cc\u4f1a\u521b\u5efa db.sqlite \u6587\u4ef6.  \u73b0\u5728\u4f60\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u7ba1\u7406\u5458\u6765\u7ba1\u7406\u6570\u636e\u5e93.  $ python manage.py createsuperuser  \u7ba1\u7406\u5458\u8d26\u6237\u5c06\u4f1a\u5728Django\u7ba1\u7406\u754c\u9762\u767b\u9646\u65f6\u4f7f\u7528.\u6309\u7167\u63d0\u793a\u8f93\u5165\u7528\u6237\u540d,\u90ae\u7bb1\u5730\u5740\u548c\u5bc6\u7801.\u6ce8\u610f\u8981\u8bb0\u4f4f\u7528\u6237\u540d\u548c\u5bc6\u7801.  6.4.2 \u521b\u5efa/\u4e0a\u4f20\u6a21\u578b/\u8868  \u5f53\u4f60\u66f4\u6539\u6a21\u578b\u7684\u65f6\u5019,\u4f60\u9700\u8981\u901a\u8fc7 makemigrations \u8fdb\u884c\u4fee\u6539,\u6240\u4ee5\u5bf9\u4e8erango,\u6211\u4eec\u9700\u8981:  $ python manage.py makemigrations rango\n\nMigrations for 'rango':\n  0001_initial.py:\n    - Create model Category\n    - Create model Page  \u5982\u679c\u4f60\u68c0\u67e5 rango/migrations \u6587\u4ef6,\u4f60\u4f1a\u53d1\u73b0\u4f1a\u521b\u5efa\u4e00\u4e2a\u53eb\u505a 0001_initial.py \u7684python\u811a\u672c.\u5982\u679c\u60f3\u8981SQL\u547d\u4ee4\u53bb\u6267\u884c\u8fc1\u79fb,\u90a3\u4e48\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u547d\u4ee4 python manage.py sqlmigrate  app_name   migration_no .\u6211\u4eec\u4e0a\u9762\u7684\u8fc1\u79fb\u6570\u5b57\u662f0001,\u6240\u4ee5\u6211\u4eec\u8f93\u5165 python manage.py sqlmigrate rango 0001 ,\u8ba9\u6211\u4eec\u8bd5\u8bd5\u770b.  \u73b0\u5728\u8ba9\u6211\u4eec\u5e94\u7528\u8fd9\u4e9b\u8fc1\u79fb(\u57fa\u4e8e\u521b\u5efa\u6570\u636e\u5e93\u56fe\u8868).  $ python manage.py migrate\n\nOperations to perform:\n  Apply all migrations: admin, rango, contenttypes, auth, sessions\nRunning migrations:\n  Applying rango.0001_initial... OK   Warning  \u5f53\u4f60\u6dfb\u52a0\u5df2\u5b58\u5728\u7684\u6a21\u578b,\u4f60\u9700\u8981\u91cd\u590d\u8fd0\u884c python manage.py makemigrations  app_name \u547d\u4ee4\u7136\u540e\u518d\u8fd0\u884c python manage.py migrate .   \u4f60\u53ef\u80fd\u53d1\u73b0\u4e86\u6211\u4eec\u7684 Category \u6a21\u5757\u7f3a\u5c11\u4e00\u4e9b\u6211\u4eec\u8981\u6c42\u7684\u5b57\u6bb5.\u6211\u4eec\u5c06\u5728\u7a0d\u540e\u6dfb\u52a0.", 
            "title": "6.4 \u521b\u5efa\u548c\u8fc1\u79fb\u6570\u636e\u5e93"
        }, 
        {
            "location": "/#65-djangodjango-shell", 
            "text": "\u5728\u6211\u4eec\u628a\u6ce8\u610f\u529b\u96c6\u4e2d\u5230Django\u7ba1\u7406\u754c\u9762\u4e4b\u524d,\u901a\u8fc7Django shell\u521b\u5efaDjango\u6a21\u578b\u4e5f\u662f\u503c\u5f97\u4e00\u8bd5\u7684 - \u5b83\u5bf9\u6211\u4eecdebug\u975e\u5e38\u6709\u7528.\u4e0b\u9762\u6211\u4eec\u5c06\u5c55\u793a\u5982\u4f55\u7528\u8fd9\u79cd\u65b9\u5f0f\u6765\u521b\u5efa Category \u5b9e\u4f8b.  \u4e3a\u4e86\u5f97\u5230shell\u6211\u4eec\u9700\u8981\u518d\u4e00\u6b21\u8c03\u7528Django\u9879\u76ee\u6839\u76ee\u5f55\u91cc\u7684 manage.py .  $ python manage.py shell  \u8fd9\u4e2a\u5b9e\u4f8b\u5c06\u4f1a\u521b\u5efa\u4e00\u4e2aPython\u89e3\u6790\u5668\u5e76\u4e14\u8f7d\u5165\u4f60\u7684\u9879\u76ee\u7684\u8bbe\u7f6e.\u4f60\u53ef\u4ee5\u548c\u6a21\u578b\u8fdb\u884c\u4ea4\u4e92.\u4e0b\u9762\u7684\u547d\u4ee4\u5c55\u793a\u4e86\u8fd9\u4e00\u529f\u80fd.\u6ce8\u91ca\u91cc\u53ef\u4ee5\u770b\u5230\u6bcf\u4e2a\u547d\u4ee4\u7684\u529f\u80fd.  # Import the Category model from the Rango application  from rango.models import Category\n\n# Show all the current categories  print Category.objects.all()\n[] # Returns an empty list (no categories have been defined!)\n\n# Create a new category object, and save it to the database.  c = Category(name= Test )  c.save()\n\n# Now list all the category objects stored once more.  print Category.objects.all()\n[ Category: test ] # We now have a category called 'test' saved in the database!\n\n# Quit the Django shell.  quit()  \u5728\u4f8b\u5b50\u4e2d\u6211\u4eec\u9996\u5148\u5bfc\u5165\u6211\u4eec\u9700\u8981\u64cd\u4f5c\u7684\u6a21\u578b.\u7136\u540e\u6253\u5370\u51fa\u5b58\u5728\u7684\u76ee\u5f55,\u5728\u8fd9\u91cc\u56e0\u4e3a\u6211\u4eec\u7684\u56fe\u8868\u662f\u7a7a\u6240\u4ee5\u8f93\u51fa\u4e5f\u662f\u7a7a.\u7136\u540e\u521b\u5efa\u5e76\u50a8\u5b58\u4e00\u4e2a\u76ee\u5f55,\u6253\u5370.   Note  \u4e0a\u9762\u7684\u4f8b\u5b50\u53ea\u5c55\u793a\u4e86Django shell\u4e00\u5c0f\u90e8\u5206\u529f\u80fd.\u66f4\u591a\u7684\u53ef\u4ee5\u770b  official Django Tutorial to learn more about interacting with the model \u548c official Django documentation on the list of available commands .", 
            "title": "6.5 Django\u6a21\u578b\u548cDjango Shell"
        }, 
        {
            "location": "/#66", 
            "text": "Django\u6700\u7a81\u51fa\u7684\u4e00\u4e2a\u7279\u6027\u5c31\u662f\u5b83\u63d0\u4f9b\u5185\u5efa\u7684\u7f51\u9875\u7ba1\u7406\u754c\u9762,\u7528\u6765\u6d4f\u89c8\u548c\u7f16\u8f91\u5b58\u50a8\u5728\u6a21\u578b\u7684\u6570\u636e,\u4e5f\u53ef\u4ee5\u4e0e\u6570\u636e\u5e93\u56fe\u8868\u4ea4\u4e92.\u5728 settings.py \u6587\u4ef6\u91cc,\u6ce8\u610f\u5230\u6709\u4e00\u4e2a\u9ed8\u8ba4\u5b89\u88c5\u7684 django.contib.admin app,\u800c\u4e14\u4f60\u7684 urls.py \u91cc\u4e5f\u9ed8\u8ba4\u589e\u52a0\u4e86 admin/ \u5339\u914d.  \u5f00\u542fDjango\u670d\u52a1:  $ python manage.py runserver  \u8bbf\u95ee http://127.0.0.1:8000/admin/ .\u53ef\u4ee5\u7528\u5148\u524d\u8bbe\u7f6e\u7ba1\u7406\u5458\u8d26\u6237\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u6765\u767b\u5f55Django\u7ba1\u7406\u754c\u9762.\u7ba1\u7406\u754c\u9762\u53ea\u5305\u542b Groups \u548c Users \u56fe\u8868\u4ee5\u6211\u4eec\u9700\u8981\u8ba9Django\u5305\u542b rango \u6a21\u5757.\u6240\u4ee5\u6253\u5f00 rango/admin.py \u8f93\u5165\u5982\u4e0b\u4ee3\u7801:  from django.contrib import admin\nfrom rango.models import Category, Page\n\nadmin.site.register(Category)\nadmin.site.register(Page)  \u4e0a\u9762\u4ee3\u7801\u4f1a\u4e3a\u6211\u4eec\u5728\u7ba1\u7406\u754c\u9762\u6ce8\u518c\u6a21\u578b.\u5982\u679c\u6211\u4eec\u60f3\u8981\u5176\u4ed6\u6a21\u578b,\u53ef\u4ee5\u5728 admin.stie.register() \u51fd\u6570\u91cc\u4f20\u9012\u6a21\u578b\u4f5c\u4e3a\u53c2\u6570.  \u5b8c\u6210\u4e4b\u540e\u91cd\u65b0\u8bbf\u95ee http://127.0.0.1:8000/admin/ ,\u4f60\u60f3\u56de\u770b\u5230\u5982\u4e0b\u56fe\u6848.   \u70b9\u51fb Categorys \u94fe\u63a5.\u8fd9\u91cc\u6211\u4eec\u80fd\u770b\u89c1\u6211\u4eec\u901a\u8fc7Django shell\u521b\u5efa\u7684 test \u76ee\u5f55.\u6211\u4eec\u53ef\u4ee5\u975e\u5e38\u65b9\u4fbf\u7684\u5728\u8fd9\u91cc\u521b\u5efa,\u4fee\u6539\u548c\u5220\u9664\u76ee\u5f55\u548c\u9875\u9762.\u540c\u6837\u4f60\u53ef\u4ee5\u5728 Auth \u5e94\u7528\u91cc\u6dfb\u52a0 User \u6765\u589e\u52a0\u767b\u9646Django\u7ba1\u7406\u754c\u9762\u7684\u7528\u6237.   Note  \u6ce8\u610f\u7ba1\u7406\u754c\u9762\u7684\u6392\u5370\u9519\u8bef(category\u800c\u4e0d\u662fcategories).\u8fd9\u4e2a\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u5728\u4f60\u7684\u6a21\u578b\u91cc\u6dfb\u52a0\u5143\u7c7b\u5e76\u5b9a\u4e49 verbose_name_plural \u5c5e\u6027\u6765\u89e3\u51b3.\u67e5\u770b  Django\u2019s official documentation on models  \u83b7\u53d6\u66f4\u591a\u7ec6\u8282.    Note  \u8fd9\u91cc\u7684 admin.py \u6587\u4ef6\u53ea\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50.\u8fd8\u6709\u8bb8\u591a\u70ab\u9177\u7684\u5b9a\u5236\u53ef\u4ee5\u4f7f\u7528,\u6bd4\u5982\u8bf4\u6539\u53d8\u7ba1\u7406\u754c\u9762\u6a21\u578b\u51fa\u73b0\u7684\u65b9\u5f0f.\u5728\u672c\u6559\u7a0b,\u6211\u4eec\u53ea\u4f7f\u7528\u4e86\u6700\u539f\u59cb\u7684\u754c\u9762.\u5982\u679c\u611f\u5174\u8da3\u8bf7\u67e5\u770b  official Django documentation on the admin interface  .", 
            "title": "6.6 \u8bbe\u7f6e\u7ba1\u7406\u754c\u9762"
        }, 
        {
            "location": "/#67-population-script", 
            "text": "\u5f80\u6570\u636e\u5e93\u91cc\u8f93\u5165\u6570\u636e\u4f1a\u975e\u5e38\u9ebb\u70e6.\u8bb8\u591a\u5f00\u53d1\u8005\u4f1a\u968f\u673a\u7684\u5f80\u6570\u636e\u5e93\u91cc\u8f93\u5165\u6d4b\u8bd5\u6570\u636e.\u5982\u679c\u4f60\u5728\u4e00\u4e2a\u5c0f\u7684\u5f00\u53d1\u56e2\u961f\u91cc,\u6bcf\u4e2a\u4eba\u90fd\u5f97\u4f20\u70b9\u6570\u636e.\u6700\u597d\u662f\u5199\u4e00\u4e2a\u811a\u672c\u800c\u4e0d\u662f\u6bcf\u4e2a\u4eba\u5355\u72ec\u7684\u4e0a\u4f20\u6570\u636e,\u8fd9\u6837\u5c31\u53ef\u4ee5\u907f\u514d\u5783\u573e\u6570\u636e\u7684\u4ea7\u751f.\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4e3a\u4f60\u7684\u6570\u636e\u5e93\u521b\u5efa population script.\u8fd9\u4e2a\u811a\u672c\u81ea\u52a8\u7684\u4e3a\u4f60\u7684\u6570\u636e\u5e93\u751f\u6210\u6d4b\u8bd5\u6570\u636e.  \u6211\u4eec\u9700\u8981\u5728Django\u9879\u76ee\u7684\u6839\u76ee\u5f55\u91cc\u521b\u5efapopulation script(\u4f8b\u5982 workspace /tango_with_django_project/ ).\u521b\u5efa populate_rango.py \u6587\u4ef6\u4ee3\u7801\u5982\u4e0b.  import os\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'tango_with_django_project.settings')\n\nimport django\ndjango.setup()\n\nfrom rango.models import Category, Page\n\n\ndef populate():\n    python_cat = add_cat('Python')\n\n    add_page(cat=python_cat,\n        title= Official Python Tutorial ,\n        url= http://docs.python.org/2/tutorial/ )\n\n    add_page(cat=python_cat,\n        title= How to Think like a Computer Scientist ,\n        url= http://www.greenteapress.com/thinkpython/ )\n\n    add_page(cat=python_cat,\n        title= Learn Python in 10 Minutes ,\n        url= http://www.korokithakis.net/tutorials/python/ )\n\n    django_cat = add_cat( Django )\n\n    add_page(cat=django_cat,\n        title= Official Django Tutorial ,\n        url= https://docs.djangoproject.com/en/1.5/intro/tutorial01/ )\n\n    add_page(cat=django_cat,\n        title= Django Rocks ,\n        url= http://www.djangorocks.com/ )\n\n    add_page(cat=django_cat,\n        title= How to Tango with Django ,\n        url= http://www.tangowithdjango.com/ )\n\n    frame_cat = add_cat( Other Frameworks )\n\n    add_page(cat=frame_cat,\n        title= Bottle ,\n        url= http://bottlepy.org/docs/dev/ )\n\n    add_page(cat=frame_cat,\n        title= Flask ,\n        url= http://flask.pocoo.org )\n\n    # Print out what we have added to the user.\n    for c in Category.objects.all():\n        for p in Page.objects.filter(category=c):\n            print  - {0} - {1} .format(str(c), str(p))\n\ndef add_page(cat, title, url, views=0):\n    p = Page.objects.get_or_create(category=cat, title=title, url=url, views=views)[0]\n    return p\n\ndef add_cat(name):\n    c = Category.objects.get_or_create(name=name)[0]\n    return c\n\n# Start execution here!\nif __name__ == '__main__':\n    print  Starting Rango population script... \n    populate()  \u867d\u7136\u770b\u8d77\u6765\u6709\u8bb8\u591a\u4ee3\u7801,\u4f46\u662f\u975e\u5e38\u7b80\u5355.\u5728\u6587\u4ef6\u5f00\u5934\u6211\u4eec\u5b9a\u4e49\u4e86\u8bb8\u591a\u51fd\u6570,\u4ee3\u7801\u4f1a\u5728\u5e95\u90e8\u5f00\u59cb\u6267\u884c - \u5bfb\u627e if __name__ == '__main__' \u8fd9\u4e00\u884c\u5f00\u59cb.\u6211\u4eec\u8c03\u7528\u4e86 populate() \u51fd\u6570.   Warning  \u5f53\u5bfc\u5165Django\u6a21\u5757\u65f6\u786e\u4fdd\u5df2\u7ecf\u5bfc\u5165\u4e86Django\u8bbe\u7f6e,\u5e76\u628a\u73af\u5883\u53d8\u91cf DJANGO_SETTINGS_MODULE \u8bbe\u7f6e\u4e3a\u9879\u76ee\u8bbe\u7f6e\u6587\u4ef6.\u7136\u540e\u8c03\u7528 django.setup() \u6765\u5bfc\u5165django\u8bbe\u7f6e.\u5982\u679c\u4e0d\u8fd9\u4e48\u505a\u5c31\u4f1a\u5f15\u53d1\u4e00\u573a.\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u9700\u8981\u5728\u5bfc\u5165\u8bbe\u7f6e\u4e4b\u540e\u624d\u80fd\u5bfc\u5165 Category \u548c Page .   populate() \u51fd\u6570\u8d1f\u8d23\u8c03\u7528 add_cat() \u548c add_page() \u51fd\u6570,\u800c\u8fd9\u4e24\u4e2a\u51fd\u6570\u5c06\u4f1a\u521b\u5efa\u65b0\u7684\u76ee\u5f55\u548c\u9875\u9762. populate() \u521b\u5efa\u9875\u9762\u548c\u76ee\u5f55\u5e76\u5b58\u5230\u6570\u636e\u5e93.\u6700\u540e\u6211\u4eec\u5728\u7ec8\u7aef\u91cc\u8f93\u51fa\u9875\u9762\u548c\u76ee\u5f55.   Note  \u6211\u4eec\u4f7f\u7528 get_or_create() \u51fd\u6570\u521b\u5efa\u6a21\u578b\u5b9e\u4f8b.\u6211\u4eec\u53ef\u4ee5\u7528 get_or_creat() \u51fd\u6570\u6765\u68c0\u67e5\u5728\u6570\u636e\u5e93\u91cc\u662f\u5426\u5b58\u5728.\u5982\u679c\u4e0d\u5b58\u5728\u5c31\u521b\u5efa\u5b83.\u8fd9\u5c06\u51cf\u5c11\u6211\u4eec\u7684\u4ee3\u7801\u800c\u4e0d\u662f\u8ba9\u6211\u4eec\u81ea\u5df1\u68c0\u67e5. get_or_create() \u65b9\u6cd5\u8fd4\u56de (object,created) \u5143\u7ec4.\u5982\u679c\u6ca1\u6709\u5728\u6570\u636e\u5e93\u627e\u5230,\u90a3\u4e48\u8fd9\u4e2a object \u53c2\u6570\u5c31\u662f get_or_create() \u65b9\u6cd5\u521b\u9020\u7684\u5b9e\u4f8b.\u5982\u679c\u8fd9\u4e2a\u5b9e\u4f53\u4e0d\u5b58\u5728,\u90a3\u4e48\u8fd9\u4e2a\u65b9\u6cd5\u5c31\u8fd4\u56de\u548c\u8fd9\u4e2a\u5b9e\u4f53\u76f8\u7b26\u7684\u5b9e\u4f8b. created \u662f\u4e00\u4e2a\u5e03\u5c14\u503c;\u5982\u679c get_or_create() \u521b\u5efa\u6a21\u578b\u5b9e\u4f53\u7684\u8bdd\u5b83\u4f1a\u8fd4\u56de true . [0] \u4f1a\u8fd4\u56de object \u5143\u7ec4\u7684\u7b2c\u4e00\u4e2a\u4f4d\u7f6e,\u8fd9\u4e2a\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\u4e00\u6837,Python\u4f7f\u7528 zero-based numbering . official Django documentation   \u53ef\u4ee5\u67e5\u770b get_or_vreate() \u65b9\u6cd5\u7684\u8be6\u7ec6\u8d44\u6599.   \u5f53\u4fdd\u5b58\u9000\u51fa\u4ee5\u540e,\u6211\u4eec\u53ef\u4ee5\u5728DJango\u9879\u76ee\u6839\u76ee\u5f55\u7528\u547d\u4ee4 $ python populate_rango.py \u6765\u6267\u884c\u811a\u672c.  $ python populate_rango.py\n\nStarting Rango population script...\n- Python - Official Python Tutorial\n- Python - How to Think like a Computer Scientist\n- Python - Learn Python in 10 Minutes\n- Django - Official Django Tutorial\n- Django - Django Rocks\n- Django - How to Tango with Django\n- Other Frameworks - Bottle\n- Other Frameworks - Flask  \u73b0\u5728\u6211\u4eec\u68c0\u67e5\u4e00\u4e0b\u662f\u5426\u6539\u53d8\u4e86\u6570\u636e\u5e93.\u91cd\u542fDjango\u670d\u52a1,\u8fdb\u5165\u7ba1\u7406\u754c\u9762,\u67e5\u770b\u65b0\u7684\u76ee\u5f55\u548c\u9875\u9762.\u5982\u679c\u70b9\u51fb Pages \u4f1a\u770b\u5230\u4e0b\u9762.   \u867d\u7136\u9700\u8981\u82b1\u8d39\u4e00\u4e9b\u65f6\u95f4\u6765\u5199population script,\u4f46\u662f\u5728\u56e2\u961f\u534f\u4f5c\u4e2d\u53ef\u4ee5\u5206\u4eab\u7ed9\u6bcf\u4e2a\u4eba.\u800c\u4e14\u5728\u5355\u5143\u6d4b\u8bd5\u4e2d\u4f1a\u6709\u7528\u5904.", 
            "title": "6.7 \u521b\u5efaPopulation Script"
        }, 
        {
            "location": "/#68", 
            "text": "\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u638c\u63e1\u5904\u7406Django\u6a21\u578b\u7684\u6838\u5fc3\u529f\u80fd,\u662f\u65f6\u5019\u603b\u7ed3\u4e00\u4e0b\u4e86.\u4e0b\u9762\u5c06\u5206\u522b\u4e3a\u4f60\u5448\u73b0.  6.8.1 \u8bbe\u7f6e\u6570\u636e\u5e93  \u5f53\u5f00\u59cb\u65b0Django\u9879\u76ee,\u9700\u8981\u5148\u544a\u8bc9Django\u4f60\u60f3\u4f7f\u7528\u7684\u6570\u636e\u5e93(\u4f8b\u5982\u8bbe\u7f6e settings.py \u4e2d\u7684 DATABASES ).\u4f60\u4e5f\u53ef\u4ee5\u5728 admin.py \u6587\u4ef6\u91cc\u6ce8\u518c\u4efb\u4f55\u6a21\u578b.  6.8.2 \u52a0\u5165\u6a21\u578b  \u52065\u6b65\u8fdb\u884c.   \u9996\u5148,\u5728\u4f60\u7684\u5e94\u7528\u91cc\u7684 models.py \u6587\u4ef6\u91cc\u521b\u5efa\u65b0\u7684\u6a21\u578b.  \u4fee\u6539 admin.py \u6ce8\u518c\u4f60\u65b0\u52a0\u7684\u6a21\u5757.  \u7136\u540e\u8fdb\u884c\u8fc1\u79fb $ python manage.py sqlmigrate  app_name  \u4f7f\u7528 $ python manage.py migrate \u5e94\u7528\u66f4\u6539.\u8fd9\u5c06\u4f1a\u4e3a\u4f60\u7684\u6a21\u578b\u5728\u6570\u636e\u5e93\u91cc\u5efa\u7acb\u5fc5\u8981\u7684\u7ed3\u6784.  \u4e3a\u4f60\u7684\u65b0\u6a21\u578b\u521b\u5efa/\u4fee\u6539population script.   \u603b\u4f1a\u6709\u4e00\u4e9b\u65f6\u5019\u4f60\u4e0d\u5f97\u4e0d\u5220\u9664\u6570\u636e\u5e93.\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4f60\u9700\u8981\u8fd0\u884c migrate \u547d\u4ee4,\u7136\u540e\u662f createsuperuser \u547d\u4ee4,\u4e3a\u6bcf\u4e2aapp\u6267\u884c sqlmigrate \u547d\u4ee4\u5c31\u53ef.", 
            "title": "6.8 \u57fa\u672c\u6d41\u7a0b"
        }, 
        {
            "location": "/#69", 
            "text": "\u73b0\u5728\u5df2\u7ecf\u5b8c\u6210\u8fd9\u7ae0,\u8bd5\u7740\u505a\u4e0b\u9762\u7684\u7ec3\u4e60\u6765\u5de9\u56fa\u6240\u5b66.   \u589e\u52a0\u76ee\u5f55\u6a21\u578b views \u548c likes \u5c5e\u6027\u5e76\u8bbe\u7f6e\u4e3a0.  \u4e3a\u4f60\u7684app/\u6a21\u578b\u8fdb\u884c\u8fc1\u79fb.  \u66f4\u65b0 population script ,\u628aPython\u76ee\u5f55\u8bbe\u7f6e\u6210\u6d4f\u89c8128\u6b21\u548c\u559c\u6b2264\u6b21,Django\u76ee\u5f55\u6d4f\u89c864\u6b21\u548c\u559c\u6b2232\u6b21,the Other Framenwork\u76ee\u5f55\u6d4f\u89c832\u6b21,\u559c\u6b2216\u6b21.  \u67e5\u770b part two of official Django tutorial  .\u5b83\u5c06\u4f1a\u5de9\u56fa\u4f60\u6240\u5b66\u540c\u65f6\u5b66\u4e60\u66f4\u591a\u5173\u4e8e\u5982\u4f55\u5b9a\u5236\u7ba1\u7406\u754c\u9762.  \u5b9a\u5236\u7ba1\u7406\u754c\u9762 - \u5f53\u89c2\u770b\u9875\u9762\u6a21\u578b\u7684\u65f6\u5019\u5b83\u7684\u76ee\u5f55,\u9875\u9762\u540d\u548curl.   6.9.1 \u63d0\u793a  \u5982\u679c\u4f60\u9700\u8981\u4e00\u4e9b\u5e2e\u52a9\u7684\u8bdd,\u4e0b\u9762\u7684\u63d0\u793a\u4f1a\u5e2e\u52a9\u4f60.   \u4fee\u6539 Category \u6a21\u578b,\u589e\u52a0 views \u548c likes ,\u5b83\u4eec\u7684\u5b57\u6bb5\u4e3a IntegerFields .  \u4fee\u6539 populate.py \u811a\u672c\u91cc\u7684 add_cat \u51fd\u6570,\u52a0\u5165 views \u548c likes \u53c2\u6570.\u4e00\u65e6\u4f60\u53ef\u4ee5\u83b7\u53d6\u76ee\u5f55c,\u4f60\u5c31\u53ef\u4ee5\u901a\u8fc7 c.views \u6765\u4fee\u6539\u6d4f\u89c8\u6b21\u6570, likes \u4e5f\u4e00\u6837.  \u4e3a\u4e86\u5b9a\u5236\u7ba1\u7406\u754c\u9762,\u4f60\u9700\u8981\u4fee\u6539 rango/admin.py \u6587\u4ef6,\u521b\u5efa PageAdmin \u7c7b,\u8fd9\u4e2a\u7c7b\u7ee7\u627f\u81ea admin.ModelAdmin .  \u5728 PageAdmin \u7c7b\u91cc,\u52a0\u5165 list_display = ('title', 'category', 'url') .  \u6700\u540e\u6ce8\u518c PageAdmin \u7c7b\u5230Django\u7ba1\u7406\u754c\u9762.\u9700\u8981\u4fee\u6539 admin.site.register(Page) .\u5728Rango\u7684 admin.py \u6587\u4ef6\u91cc\u4fee\u6539\u6210 admin.site.register(Page, PageAdmin) .", 
            "title": "6.9 \u7ec3\u4e60"
        }, 
        {
            "location": "/#7", 
            "text": "\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u5efa\u7acb\u4e86\u6a21\u578b\u5e76\u4e14\u5bfc\u5165\u4e86\u4e00\u4e9b\u6570\u636e,\u73b0\u5728\u6211\u4eec\u8981\u628a\u8fd9\u4e9b\u8fde\u4e00\u8d77.\u6211\u4eec\u5c06\u4f1a\u5f04\u6e05\u695a\u5982\u4f55\u5728\u89c6\u56fe\u4e2d\u8bbf\u95ee\u6570\u636e\u4ee5\u53ca\u5982\u4f55\u901a\u8fc7\u6a21\u677f\u5c55\u793a\u6570\u636e.", 
            "title": "7 \u6a21\u578b,\u6a21\u677f\u548c\u89c6\u56fe"
        }, 
        {
            "location": "/#71", 
            "text": "\u5728Django\u4e2d\u521b\u5efa\u6570\u636e\u9a71\u52a8\u9875\u9762\u5fc5\u987b\u6267\u884c\u4ee5\u4e0b5\u6b65.   \u9996\u5148,\u5728\u4f60\u5e94\u7528\u7684 views.py \u6587\u4ef6\u4e2d\u5bfc\u5165\u4f60\u8981\u6dfb\u52a0\u7684\u6a21\u578b.  \u5728\u89c6\u56fe\u91cc\u8bbf\u95ee\u6a21\u578b,\u5bfc\u5165\u4f60\u9700\u8981\u7684\u6570\u636e.  \u628a\u6a21\u578b\u7684\u6570\u636e\u4f20\u9012\u7ed9\u6a21\u677f.  \u8bbe\u7f6e\u6a21\u677f\u7ed9\u7528\u6237\u5448\u73b0\u6570\u636e.  \u5982\u679c\u8fd8\u6ca1\u6709\u6620\u5c04URL,\u6620\u5c04\u4e00\u4e0b\u5427.   \u4e0a\u9762\u7684\u6b65\u9aa4\u544a\u8bc9\u4f60\u5982\u4f55\u4f7f\u7528Django\u91cc\u7684\u6a21\u578b,\u89c6\u56fe\u548c\u6a21\u677f.", 
            "title": "7.1 \u57fa\u672c\u6d41\u7a0b:\u6570\u636e\u9a71\u52a8\u9875\u9762"
        }, 
        {
            "location": "/#72-rango", 
            "text": "\u6211\u4eec\u9700\u8981\u5728rango\u7684\u4e3b\u9875\u663e\u793a5\u4e2a\u6700\u591a\u7684\u76ee\u5f55.  7.2.1 \u5bfc\u5165\u9700\u8981\u7684\u6a21\u578b  \u4e3a\u4e86\u8fbe\u5230\u76ee\u7684,\u6211\u4eec\u9700\u8981\u5b8c\u6210\u4e0a\u9762\u7684\u6b65\u9aa4.\u9996\u5148,\u6253\u5f00 rango/view.py \u5e76\u5bfc\u5165rango\u7684 models.py \u6587\u4ef6\u7684 Category \u6a21\u5757.  # Import the Category model\nfrom rango.models import Category  7.2.2 \u4fee\u6539index\u89c6\u56fe  \u6709\u4e86\u7b2c\u4e00\u6b65,\u6211\u4eec\u9700\u8981\u4fee\u6539 index() \u51fd\u6570.\u8ba9\u6211\u4eec\u56de\u60f3\u4e00\u4e0b,\u8fd9\u4e2a index() \u51fd\u6570\u8d1f\u8d23\u7ba1\u7406\u4e3b\u9875\u7684\u89c6\u56fe.\u4fee\u6539\u5982\u4e0b.  def index(request):\n    # Query the database for a list of ALL categories currently stored.\n    # Order the categories by no. likes in descending order.\n    # Retrieve the top 5 only - or all if less than 5.\n    # Place the list in our context_dict dictionary which will be passed to the template engine.\n    category_list = Category.objects.order_by('-likes')[:5]\n    context_dict = {'categories': category_list}\n\n    # Render the response and send it back!\n    return render(request, 'rango/index.html', context_dict)  \u8fd9\u91cc\u6211\u4eec\u505a\u4e86\u7b2c\u4e8c\u6b65\u548c\u7b2c\u4e09\u6b65.\u9996\u5148,\u6211\u4eec\u8bbf\u95ee Category \u6a21\u578b\u5f97\u52305\u4e2a\u6700\u591a\u7684\u76ee\u5f55.\u8fd9\u91cc\u7528 order_by() \u65b9\u6cd5\u5bf9\u559c\u6b22\u7684\u6570\u91cf\u8fdb\u884c\u964d\u5e8f\u6392\u5e8f - \u6ce8\u610f\u5e26\u7740 - .\u6700\u540e\u6211\u4eec\u53d6\u524d5\u4e2a\u76ee\u5f55\u4fdd\u5b58\u5230 category_list  \u5f53\u8bbf\u95ee\u6570\u636e\u5e93\u7ed3\u675f,\u6211\u4eec\u628a\u8fd9\u4e2a\u5217\u8868( category_list )\u4f20\u7ed9\u4e86\u5b57\u5178 context_dict .\u8fd9\u4e2a\u5b57\u5178\u540c\u65f6\u4f1a\u4f5c\u4e3a render() \u7684\u53c2\u6570\u8fd4\u56de\u7ed9\u6a21\u677f.   Warning  \u6ce8\u610fCategory\u6a21\u578b\u5305\u542b likes \u5b57\u6bb5.\u589e\u6dfb\u5b83\u7684\u64cd\u4f5c\u5728\u524d\u9762\u7ae0\u8282\u7684\u7ec3\u4e60\u91cc,\u4f60\u9700\u8981\u5b8c\u6210\u5b83\u4eec.   7.2.3 \u4fee\u6539index\u6a21\u677f  \u4fee\u6539\u5b8c\u89c6\u56fe\u540e,\u6700\u540e\u5269\u4e0b\u7684\u5c31\u662f\u66f4\u6539 rango/index.html \u6a21\u677f\u4e86.\u4ee3\u7801\u5982\u4e0b.  !DOCTYPE html  html \n     head \n         title Rango /title \n     /head \n\n     body \n         h1 Rango says...hello world! /h1 \n\n        {% if categories %}\n             ul \n                {% for category in categories %}\n                 li {{ category.name }} /li \n                {% endfor %}\n             /ul \n        {% else %}\n             strong There are no categories present. /strong \n        {% endif %}\n\n         a href= /rango/about/ About /a \n     /body  /html   \u8fd9\u91cc\u6211\u4eec\u7528\u4e86Django\u6a21\u677f\u8bed\u8a00\u91cc\u7684 if \u548c for \u63a7\u5236\u8bed\u53e5.\u5728\u9875\u9762\u7684 body \u91cc\u6211\u4eec\u68c0\u67e5 categories \u662f\u5426\u4e3a\u7a7a(\u4f8b\u5982, {% if categories %} ).  \u5982\u679c\u4e0d\u4e3a\u7a7a,\u4f1a\u5efa\u7acb\u4e00\u4e2a\u65e0\u5e8fHTML\u5217\u8868(\u5728 ul \u6807\u7b7e\u91cc).for\u5faa\u73af( {% for category in categories %} )\u4f1a\u4f9d\u6b21\u5728 li \u6807\u7b7e\u91cc\u6253\u5370\u51fa\u6bcf\u4e2a\u76ee\u5f55\u7684\u540d\u5b57( {{ category.name }} ).  \u5982\u679c\u4e0d\u5b58\u5728 categories ,\u5c06\u4f1a\u8f93\u51fa There are no categories present. .  \u4f5c\u4e3a\u6a21\u677f\u8bed\u8a00,\u6240\u6709\u7684\u547d\u4ee4\u90fd\u5305\u542b\u5728 {% \u548c %} \u6807\u7b7e\u91cc,\u6240\u6709\u7684\u53d8\u91cf\u90fd\u5728 {{ \u548c }} \u91cc.  \u5982\u679c\u8bbf\u95ee  http://127.0.0.1:8000/rango/ ,\u5982\u4e0b\u56fe\u6240\u793a.", 
            "title": "7.2 \u5c55\u793aRango\u4e3b\u9875\u4e0a\u7684\u76ee\u5f55"
        }, 
        {
            "location": "/#73", 
            "text": "\u901a\u8fc7Rango\u7684\u8be6\u7ec6\u63cf\u8ff0,\u6211\u4eec\u9700\u8981\u5217\u51fa\u76ee\u5f55\u7684\u6bcf\u4e2a\u9875\u9762.\u73b0\u5728\u6211\u4eec\u9700\u8981\u514b\u670d\u8bb8\u591a\u56f0\u96be.\u6211\u4eec\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u89c6\u56fe\u4f5c\u4e3a\u53c2\u6570.\u6211\u4eec\u540c\u4e8b\u9700\u8981\u521b\u5efaURL\u6a21\u5f0f\u548cURL\u5b57\u7b26\u4e32\u6765\u5bf9\u5e94\u6bcf\u4e2a\u76ee\u5f55\u7684\u540d\u5b57.  7.3.1 URL\u8bbe\u8ba1\u4e0e\u6620\u5c04  \u8ba9\u6211\u4eec\u7740\u624b\u89e3\u51b3URL\u95ee\u9898.\u6709\u4e00\u79cd\u65b9\u6cd5\u662f\u4e3a\u6211\u4eec\u7684\u76ee\u5f55\u5728URL\u4e2d\u8bbe\u7acb\u552f\u4e00\u7684ID,\u6211\u4eec\u53ef\u4ee5\u521b\u5efa\u50cf /rango/category/1/ \u6216\u8005 /rango/category/2/ ,\u8fd9\u91cc\u7684\u6570\u5b571\u548c2\u5c31\u662f\u5b83\u4eec\u7684ID.\u4f46\u662f\u8fd9\u6837\u505a\u5bf9\u6211\u4eec\u6765\u8bf4\u4e0d\u592a\u597d\u7406\u89e3.\u5c3d\u7ba1\u6211\u4eec\u77e5\u9053\u6570\u5b57\u5173\u8054\u7740\u76ee\u5f55,\u4f46\u6211\u4eec\u600e\u4e48\u77e5\u90531\u548c2\u4ee3\u8868\u54ea\u4e2a\u76ee\u5f55\u5462?\u7528\u6237\u4e0d\u8bd5\u4e00\u4e0b\u5c31\u4e0d\u4f1a\u77e5\u9053.  \u53e6\u4e00\u79cd\u65b9\u6cd5\u5c31\u662f\u7528\u76ee\u5f55\u540d\u4f5c\u4e3aURL. /rango/category/Python/ \u5c06\u4f1a\u8fd4\u56de\u7ed9\u6211\u4eec\u5173\u4e8ePython\u7684\u76ee\u5f55.\u8fd9\u662f\u4e00\u4e2a\u7b80\u5355\u7684,\u53ef\u8bfb\u7684URL.   Note  \u5bf9\u4e8e\u7f51\u9875\u6765\u8bf4,\u8bbe\u8ba1\u4e00\u4e2a\u7b80\u6d01\u7684URL\u662f\u53ea\u7ba1\u91cd\u8981\u7684.\u66f4\u591a\u7ec6\u8282\u8bf7\u770b  Wikipedia\u2019s article on Clean URLs .   7.3.2 \u4e3aCategory\u8868\u589e\u52a0Slug\u5b57\u6bb5  \u4e3a\u4e86\u5efa\u7acb\u7b80\u6d01\u7684url\u6211\u4eec\u9700\u8981\u5728 Category \u6a21\u578b\u91cc\u589e\u52a0slug\u5b57\u6bb5.\u9996\u5148\u6211\u4eec\u9700\u8981\u4ecedjango\u5bfc\u5165 slugify \u51fd\u6570,\u8fd9\u4e2a\u51fd\u6570\u7684\u4f5c\u7528\u662f\u628a\u7a7a\u683c\u7528\u8fde\u5b57\u7b26\u4ee3\u66ff,\u4f8b\u5982\"how do i create a slug in django\"\u5c06\u4f1a\u8f6c\u6362\u6210\"how-do-i-create-a-slug-in-djang\".   Warning  \u867d\u7136\u4f60\u80fd\u5728URL\u4e2d\u7528\u7a7a\u683c,\u4f46\u662f\u5b83\u4eec\u5e76\u4e0d\u5b89\u5168.\u66f4\u591a\u7ec6\u8282\u67e5\u770b IETF Memo on URLs .   \u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u4f1a\u91cd\u5199 Category \u6a21\u578b\u7684 save \u65b9\u6cd5,\u6211\u4eec\u5c06\u4f1a\u8c03\u7528 slugify \u65b9\u6cd5\u5e76\u66f4\u65b0 slug \u5b57\u6bb5.\u6ce8\u610f\u4efb\u4f55\u65f6\u5019\u76ee\u5f55\u540d\u79f0\u66f4\u6539\u90fd\u4f1a\u66f4\u6539slug.\u50cf\u4e0b\u9762\u4e00\u6837\u4fee\u6539\u6a21\u578b.  from django.template.defaultfilters import slugify\n\nclass Category(models.Model):\n        name = models.CharField(max_length=128, unique=True)\n        views = models.IntegerField(default=0)\n        likes = models.IntegerField(default=0)\n        slug = models.SlugField(unique=True)\n\n        def save(self, *args, **kwargs):\n                self.slug = slugify(self.name)\n                super(Category, self).save(*args, **kwargs)\n\n        def __unicode__(self):\n                return self.name  \u73b0\u5728\u9700\u8981\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u66f4\u65b0\u6a21\u578b\u548c\u6570\u636e\u5e93.  $ python manage.py makemigrations rango\n$ python manage.py migrate  \u56e0\u4e3a\u6211\u4eecslug\u6ca1\u6709\u8bbe\u7f6e\u9ed8\u8ba4\u503c,\u800c\u4e14\u6a21\u578b\u4e2d\u5df2\u7ecf\u52a0\u5165\u8fdb\u6570\u636e,\u6240\u4ee5migrate\u547d\u4ee4\u5c06\u4f1a\u7ed9\u4f60\u4e24\u4e2a\u9009\u9879.\u9009\u62e9\u63d0\u4f9b\u9ed8\u8ba4\u503c\u9009\u9879\u5e76\u8f93\u5165\u9ed8\u8ba4\u503c''.\u5b83\u4f1a\u9a6c\u4e0a\u8fdb\u884c\u4fee\u6539.\u73b0\u5728\u91cd\u65b0\u8fd0\u884cpopulation\u811a\u672c.\u56e0\u4e3a\u6bcf\u4e2a\u76ee\u5f55\u90fd\u4f1a\u6267\u884c save \u65b9\u6cd5,\u6240\u4ee5\u91cd\u5199\u7684 save \u65b9\u6cd5\u5c06\u4f1a\u88ab\u6267\u884c\u4fee\u6539slug\u5b57\u6bb5.\u8fd0\u884cDjango\u670d\u52a1,\u4f60\u8bb2\u4f1a\u5728\u7ba1\u7406\u754c\u9762\u770b\u5230\u4fee\u6539\u7684\u6570\u636e.  \u6ce8\u610f:\u8fd9\u91cc\u539f\u4e66\u4f1a\u6709\u9519\u8bef,\u539f\u56e0\u89c1http://stackoverflow.com/questions/27788456/integrityerror-column-slug-is-not-unique ,\u4fee\u6539\u89c1      https://github.com/leifos/tango_with_django/issues/19  \u5728\u7ba1\u7406\u754c\u9762\u4f60\u6216\u8bb8\u5e0c\u671b\u5728\u586b\u5199\u76ee\u5f55\u540d\u7684\u65f6\u5019\u81ea\u52a8\u586b\u5145slug\u5b57\u6bb5.\u6309\u7167\u4e0b\u9762\u7684\u65b9\u6cd5.  from django.contrib import admin\nfrom rango.models import Category, Page\n\n# Add in this class to customized the Admin Interface\nclass CategoryAdmin(admin.ModelAdmin):\n    prepopulated_fields = {'slug':('name',)}\n\n# Update the registeration to include this customised interface\nadmin.site.register(Category, CategoryAdmin)\nadmin.site.register(Page)  \u5728\u7ba1\u7406\u754c\u9762\u5c1d\u8bd5\u589e\u52a0\u65b0\u7684\u76ee\u5f55.\u770b\u5230\u4e86\u5427!\u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u52a0\u5165slug\u5b57\u6bb5\u7528\u4f5c\u6211\u4eec\u7684url.  7.3.3 \u76ee\u5f55\u9875\u9762\u6d41\u7a0b  \u6211\u4eec\u8bbe\u8ba1\u5b8cURL\u4ee5\u540e,\u770b\u770b\u6211\u4eec\u63a5\u4e0b\u6765\u7684\u6b65\u9aa4.   \u5728 rango/views.py \u5bfc\u5165Page\u6a21\u578b.  \u5728 rango/views.py \u4e2d\u521b\u5efa category \u89c6\u56fe - \u8fd9\u4e2a category \u89c6\u56fe\u5c06\u4f1a\u589e\u52a0\u4e00\u4e2a category_name_url \u53c2\u6570\u6765\u5b58\u50a8\u76ee\u5f55\u540d.  \u6211\u4eec\u9700\u8981\u4e00\u4e9b\u51fd\u6570\u6765\u5e2e\u52a9\u6211\u4eec\u5bf9 category_name_url \u8fdb\u884c\u7f16\u7801.    \u521b\u5efa\u4e00\u4e2a\u65b0\u6a21\u677f, templates/rango/category.html .  \u4fee\u6539 rango/urls.py \u91cc\u7684 urlpatterns \u6620\u5c04\u65b0\u7684 category \u89c6\u56fe.   \u540c\u6837\u6211\u4eec\u9700\u8981\u4fee\u6539 index() \u89c6\u56fe\u548c index.html \u6a21\u677f\u6765\u63d0\u4f9b\u5230\u76ee\u5f55\u9875\u9762\u7684\u94fe\u63a5.  7.3.4 \u76ee\u5f55\u89c6\u56fe  \u5728 rango/views.py \u4e2d,\u6211\u4eec\u9700\u8981\u5bfc\u5165 Page \u6a21\u578b.\u5982\u4e0b.  from rango.models import Page  \u4e0b\u9762\u6211\u4eec\u5c06\u4f1a\u52a0\u5165\u6211\u4eec\u7684 category() \u89c6\u56fe:  def category(request, category_name_slug):\n\n    # Create a context dictionary which we can pass to the template rendering engine.\n    context_dict = {}\n\n    try:\n        # Can we find a category name slug with the given name?\n        # If we can't, the .get() method raises a DoesNotExist exception.\n        # So the .get() method returns one model instance or raises an exception.\n        category = Category.objects.get(slug=category_name_slug)\n        context_dict['category_name'] = category.name\n\n        # Retrieve all of the associated pages.\n        # Note that filter returns  = 1 model instance.\n        pages = Page.objects.filter(category=category)\n\n        # Adds our results list to the template context under name pages.\n        context_dict['pages'] = pages\n        # We also add the category object from the database to the context dictionary.\n        # We'll use this in the template to verify that the category exists.\n        context_dict['category'] = category\n    except Category.DoesNotExist:\n        # We get here if we didn't find the specified category.\n        # Don't do anything - the template displays the  no category  message for us.\n        pass\n\n    # Go render the response and return it to the client.\n    return render(request, 'rango/category.html', context_dict)  \u548c index() \u89c6\u56fe\u4e00\u6837\u6211\u4eec\u7684\u65b0\u89c6\u56fe\u4e5f\u8981\u6267\u884c\u540c\u6837\u7684\u57fa\u672c\u6b65\u9aa4.\u6211\u4eec\u9700\u8981\u5b9a\u4e49\u4e00\u4e2a\u5b57\u5178,\u7136\u540e\u5c1d\u8bd5\u4ece\u6a21\u578b\u4e2d\u5bfc\u51fa\u6570\u636e,\u5e76\u628a\u6570\u636e\u6dfb\u52a0\u5230\u5b57\u5178\u91cc.\u6211\u4eec\u901a\u8fc7\u53c2\u6570 category_name_slug \u7684\u503c\u6765\u51b3\u5b9a\u662f\u54ea\u4e2a\u76ee\u5f55.\u5982\u679c\u5728Category\u6a21\u578b\u4e2d\u627e\u5230\u76ee\u5f55,\u6211\u4eec\u5c31\u4f1a\u628a context_dict \u5b57\u5178\u4f20\u9012\u7ed9\u76f8\u5173\u9875\u9762.  7.3.5 \u76ee\u5f55\u6a21\u677f  \u73b0\u5728\u4e3a\u6211\u4eec\u7684\u65b0\u89c6\u56fe\u521b\u5efa\u6a21\u677f.\u5728 workspace /tango_with_django_project/templates/rango/ \u76ee\u5f55\u521b\u5efa category.html .  !DOCTYPE html  html \n     head \n         title Rango /title \n     /head \n\n     body \n         h1 {{ category_name }} /h1 \n        {% if category %}\n            {% if pages %}\n             ul \n                {% for page in pages %}\n                 li a href= {{ page.url }} {{ page.title }} /a /li \n                {% endfor %}\n             /ul \n            {% else %}\n                 strong No pages currently in category. /strong \n            {% endif %}\n        {% else %}\n            The specified category {{ category_name }} does not exist!\n        {% endif %}\n     /body  /html   \u4e0a\u9762\u7684HTML\u4ee3\u7801\u540c\u6837\u7ed9\u6211\u4eec\u5c55\u793a\u4e86\u5982\u4f55\u628a\u6570\u636e\u901a\u8fc7\u5b57\u5178\u4f20\u9012\u7ed9\u6a21\u677f.\u6211\u4eec\u7528\u5230\u4e86 category_name \u53d8\u91cf\u548c category \u548c pages \u5bf9\u8c61.\u5982\u679c category \u5728\u6a21\u677f\u4e0a\u4e0b\u6587\u5e76\u6ca1\u6709\u5b9a\u4e49,\u6216\u8005\u5728\u6570\u636e\u5e93\u5e76\u6ca1\u6709\u53d1\u73b0\u8fd9\u4e2a\u76ee\u5f55,\u90a3\u4e48\u5c31\u4f1a\u63d0\u793a\u4e00\u4e2a\u53cb\u597d\u7684\u9519\u8bef\u4fe1\u606f.\u76f8\u53cd\u7684\u8bdd\u5982\u679c\u5b58\u5728,\u6211\u4eec\u5c06\u4f1a\u68c0\u67e5 pages .\u5982\u679c pages \u6ca1\u6709\u88ab\u5b9a\u4e49\u6216\u8005\u4e0d\u5b58\u5728\u5143\u7d20,\u6211\u4eec\u540c\u6837\u4e5f\u4f1a\u5448\u73b0\u53cb\u597d\u7684\u9519\u8bef\u63d0\u793a.\u5426\u5219\u7684\u8bdd\u76ee\u5f55\u91cc\u5305\u542b\u7684\u9875\u9762\u5c31\u4f1a\u5199\u5165HTML\u674e\u5f6a.\u5bf9\u4e8e\u5728 pages \u5217\u8868\u7684\u6bcf\u4e2a\u9875\u9762\u6211\u4eec\u90fd\u4f1a\u5c55\u793a\u5b83\u7684 title \u548c url .   Note  Django\u6a21\u677f\u5305\u542b {% if %} \u6807\u7b7e - \u662f\u68c0\u6d4b\u5bf9\u8c61\u662f\u5426\u5728\u6a21\u677f\u4e0a\u4e0b\u6587\u7684\u597d\u65b9\u6cd5.\u5c1d\u8bd5\u5728\u4f60\u7684\u4ee3\u7801\u91cc\u4f7f\u7528\u4ee5\u51cf\u5c11\u9519\u8bef\u7684\u53d1\u751f.   7.3.6 \u53c2\u6570\u5316\u7684URL\u6620\u5c04  \u73b0\u5728\u8ba9\u6211\u4eec\u6765\u770b\u770b\u5982\u4f55\u628a category_name_url \u53c2\u6570\u503c\u4f20\u9012\u7ed9 category() .\u6211\u4eec\u9700\u8981\u4fee\u6539rango\u7684 urls.py \u6587\u4ef6\u548c urlpatterns \u5143\u7ec4.  urlpatterns = patterns('',\n    url(r'^$', views.index, name='index'),\n    url(r'^about/$', views.about, name='about'),\n    url(r'^category/(?P category_name_slug [\\w\\-]+)/$', views.category, name='category'),)  # New!  \u4f60\u80fd\u770b\u5230\u5f53\u6b63\u5219\u8868\u8fbe\u5f0f r'^(?P category_name_slug \\w+)/$ \u5339\u914d\u65f6\u4f1a\u8c03\u7528 view.category() \u51fd\u6570.\u6211\u4eec\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u4f1a\u5339\u914dURL\u659c\u6760\u524d\u6240\u6709\u7684\u5b57\u6bcd\u6570\u5b57(\u4f8b\u5982 a-z, A-Z, \u6216\u8005 0-9)\u548c\u8fde\u5b57\u7b26(-).\u7136\u540e\u628a\u8fd9\u4e2a\u503c\u4f5c\u4e3a category_name_slug \u53c2\u6570\u4f20\u9012\u7ed9 views.category() ,\u8fd9\u4e2a\u53c2\u6570\u5fc5\u987b\u5728\u5f3a\u5236\u7684 request \u53c2\u6570\u4e4b\u540e.   Note  \u5f53\u4f60\u5e0c\u671b\u53c2\u6570\u5316URL\u65f6,\u4e00\u5b9a\u8981\u786e\u4fdd\u4f60\u7684URL\u6a21\u5f0f\u4f1a\u6b63\u786e\u5339\u914d\u53c2\u6570.\u4e3a\u4e86\u66f4\u8fdb\u4e00\u6b65\u7684\u4e86\u89e3,\u8ba9\u6211\u4eec\u770b\u4e00\u770b\u4e0a\u9762\u7684\u4f8b\u5b50.   url(r'^category/(?P category_name_slug [\\w\\-]+)/$', views.category, name='category') \n\u6211\u4eec\u53ef\u4ee5\u4ece\u8fd9\u91cc\u627e\u5230\u5728 category/ \u548c\u540e\u9762\u7684 / \u4e4b\u95f4\u7684\u5b57\u7b26\u4e32,\u5e76\u628a\u5b83\u4f5c\u4e3a\u53c2\u6570 category_name_slug \u4f20\u9012\u7ed9 views.category() \u53c2\u6570.\u4f8b\u5982,URL category/python-books/ \u5c06\u4f1a\u8fd4\u56de\u7684 category_name_slug \u53c2\u6570\u662f python-books .\n\u9700\u8981\u77e5\u9053\u7684\u5341,\u6240\u6709\u7684\u89c6\u56fe\u51fd\u6570\u5fc5\u987b\u5e26\u81f3\u5c11\u4e00\u4e2a\u53c2\u6570.\u8fd9\u4e2a\u53c2\u6570\u662f request  - \u5b83\u4f1a\u63d0\u4f9bHTTP\u8bf7\u6c42\u7528\u6237\u7684\u76f8\u5173\u4fe1\u606f\u3002\u5f53\u53c2\u6570\u5316URL\u65f6,\u53ef\u4ee5\u7ed9\u89c6\u56fe\u6dfb\u52a0\u5df2\u7ecf\u547d\u540d\u5fb7\u5c14\u53c2\u6570.\u4f7f\u7528\u4e0a\u9762\u7684\u4f8b\u5b50,\u6211\u4eec\u7684category\u89c6\u56fe\u662f\u8fd9\u6837\u7684. def category(request, category_name_slug): \n\u9644\u52a0\u53c2\u6570\u7684\u4f4d\u7f6e\u4e0d\u91cd\u8981,\u91cd\u8981\u7684\u662f\u5728URL\u6a21\u5f0f\u4e2d\u5b9a\u4e49\u7684\u53c2\u6570\u540d\u79f0.\u6ce8\u610f\u5982\u4f55\u4e3a\u6211\u4eec\u7684\u89c6\u56fe\u5728URL\u6a21\u5f0f\u5339\u914d\u4e2d\u5b9a\u4e49 category_name_slug \u53c2\u6570.   Note  \u6b63\u5219\u8868\u8fbe\u5f0f\u867d\u7136\u5f00\u59cb\u770b\u8d77\u6765\u6bd4\u8f83\u590d\u6742,\u4f46\u662f\u7f51\u4e0a\u6709\u8bb8\u591a\u8d44\u6599.  This cheat sheet \u5c06\u4f1a\u89e3\u51b3\u4f60\u7684\u7591\u95ee.   7.3.7 \u4fee\u6539index\u6a21\u677f  \u867d\u7136\u6211\u4eec\u7684\u89c6\u56fe\u5df2\u7ecf\u5efa\u7acb\u4e86,\u4f46\u662f\u8fd8\u8981\u505a\u7684\u5de5\u4f5c\u8bb8\u591a.\u6211\u4eec\u7684index\u6a21\u677f\u9700\u8981\u4fee\u6539\u5e76\u63d0\u4f9b\u7ed9\u7528\u6237category\u5217\u8868.\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7slug\u4e3a index.htnl \u6a21\u677f\u4e2d\u6dfb\u52a0\u76ee\u5f55\u9875\u9762.  !DOCTYPE html  html \n     head \n         title Rango /title \n     /head \n\n     body \n         h1 Rango says..hello world! /h1 \n\n        {% if categories %}\n             ul \n                {% for category in categories %}\n                 !-- Following line changed to add an HTML hyperlink -- \n                 li a href= /rango/category/{{ category.slug }} {{ category.name }} /a /li \n                {% endfor %}\n             /ul \n       {% else %}\n             strong There are no categories present. /strong \n       {% endif %}\n\n     /body  /html   \u8fd9\u91cc\u4e3a\u6bcf\u4e2a\u5217\u8868\u5143\u7d20( li )\u589e\u52a0\u4e00\u4e2aHTML\u8d85\u94fe\u63a5( a ).\u8d85\u94fe\u63a5\u6709\u4e00\u4e2a href \u5c5e\u6027,\u6211\u4eec\u7528 {{ category.slug}} \u6765\u5b9a\u4e49\u76ee\u6807URL.  7.3.8 Demo  \u8ba9\u6211\u4eec\u8bbf\u95eerango\u4e3b\u9875.\u4f60\u5c06\u4f1a\u770b\u5230\u5217\u51fa\u6240\u6709\u7684\u76ee\u5f55.\u8fd9\u4e9b\u76ee\u5f55\u90fd\u662f\u53ef\u4ee5\u70b9\u51fb\u7684\u94fe\u63a5.\u70b9\u51fb Python \u5c06\u4f1a\u5e26\u4f60\u738b\u6587 Python \u76ee\u5f55\u89c6\u56fe,\u5982\u4e0b\u56fe\u6240\u793a.\u5982\u679c\u4f60\u770b\u5230\u4e86\u50cf Official Python Tutorial \u5217\u8868,\u8bf4\u660e\u4f60\u5df2\u7ecf\u6210\u529f\u4e86\u5efa\u7acb\u89c6\u56fe.\u8bd5\u7740\u8bbf\u95ee\u4e0d\u5b58\u5728\u7684\u76ee\u5f55,\u6bd4\u5982 /rango/category/computers ,\u4f60\u5c06\u4f1a\u770b\u5230\u9875\u9762\u4e0d\u5b58\u5728\u7684\u4fe1\u606f.", 
            "title": "7.3 \u521b\u5efa\u8be6\u7ec6\u9875\u9762"
        }, 
        {
            "location": "/#74", 
            "text": "\u4e3a\u4e86\u5de9\u56fa\u6240\u5b66\u8bf7\u5b8c\u6210\u4e0b\u9762\u7684\u7ec3\u4e60\u5427.   \u4fee\u6539index\u9875\u9762\u4e5f\u5305\u542b5\u4e2a\u6700\u591a\u8bbf\u95ee\u7684\u9875\u9762.  \u67e5\u770b part three of official Django tutorial   7.4.1 \u63d0\u793a  \u4fee\u6539population\u811a\u672c,\u4e3a\u6bcf\u4e2a\u9875\u9762\u589e\u52a0\u6d4f\u89c8\u6b21\u6570.", 
            "title": "7.4 \u7ec3\u4e60"
        }, 
        {
            "location": "/#8", 
            "text": "\u5230\u76ee\u524d\u4e3a\u6b62\u6211\u4eec\u4ec5\u4ec5\u662f\u901a\u8fc7\u89c6\u56fe\u548c\u6a21\u677f\u6765\u8868\u73b0\u6570\u636e.\u5728\u672c\u7ae0,\u6211\u4eec\u5c06\u4f1a\u5b66\u4e60\u5982\u4f55\u901a\u8fc7web\u8868\u5355\u6765\u83b7\u53d6\u6570\u636e.Django\u5305\u542b\u4e00\u4e9b\u8868\u5355\u5904\u7406\u529f\u80fd,\u5b83\u4f7f\u5728web\u4e0a\u6536\u96c6\u7528\u6237\u4fe1\u606f\u53d8\u5f97\u7b80\u5355.\u901a\u8fc7 Django\u2019s documentation on forms \u6211\u4eec\u77e5\u9053\u8868\u5355\u5904\u7406\u529f\u80fd\u5305\u542b\u4ee5\u4e0b:   \u663e\u793a\u4e00\u4e2aHTML\u8868\u5355\u81ea\u52a8\u751f\u6210\u7684\u7a97\u4f53\u90e8\u4ef6(\u6bd4\u5982\u4e00\u4e2a\u6587\u672c\u5b57\u6bb5\u6216\u8005\u65e5\u671f\u9009\u62e9\u5668).  \u7528\u4e00\u7cfb\u5217\u89c4\u5219\u68c0\u67e5\u63d0\u4ea4\u6570\u636e.  \u9a8c\u8bc1\u9519\u8bef\u7684\u60c5\u51b5\u4e0b\u5c06\u4f1a\u91cd\u65b0\u663e\u793a\u8868\u5355.  \u628a\u63d0\u4ea4\u7684\u8868\u5355\u6570\u636e\u8f6c\u5316\u6210\u76f8\u5173\u7684Python\u6570\u636e\u7c7b\u578b.   \u4f7f\u7528Django\u8868\u5355\u529f\u80fd\u6700\u5927\u7684\u597d\u5904\u5c31\u662f\u5b83\u53ef\u4ee5\u8282\u7701\u4f60\u7684\u5927\u91cf\u65f6\u95f4\u548cHTML\u65b9\u9762\u7684\u9ebb\u70e6.\u8fd9\u90e8\u5206\u6211\u4eec\u5c06\u4f1a\u6ce8\u91cd\u5982\u4f55\u901a\u8fc7\u8868\u5355\u8ba9\u7528\u6237\u589e\u52a0\u76ee\u5f55\u548c\u9875\u9762.", 
            "title": "8 \u6709\u8da3\u7684\u8868\u5355"
        }, 
        {
            "location": "/#81", 
            "text": "\u57fa\u672c\u6b65\u9aa4\u5305\u62ec\u521b\u5efa\u8868\u5355\u548c\u5141\u8bb8\u7528\u6237\u901a\u8fc7\u8868\u5355\u8f93\u5165\u6570\u636e.   \u5728Django\u5e94\u7528\u76ee\u5f55\u521b\u5efa forms.py \u76ee\u5f55\u6765\u5b58\u50a8\u548c\u8868\u5355\u76f8\u5173\u7684\u7c7b.  \u4e3a\u6bcf\u4e2a\u4f7f\u7528\u8868\u5355\u7684\u6a21\u5757\u521b\u5efa ModelForm \u7c7b.  \u5b9a\u5236\u4f60\u7684\u8868\u5355.  \u521b\u5efa\u6216\u4fee\u6539\u8868\u5355\u7684\u89c6\u56fe - \u5305\u62ec\u5c55\u793a\u8868\u5355,\u5b58\u50a8\u8868\u5355\u6570\u636e,\u5f53\u7528\u6237\u8f93\u5165\u9519\u8bef\u6570\u636e(\u6216\u8005\u6839\u672c\u6ca1\u6709\u8f93\u5165)\u65f6\u663e\u793a\u9519\u8bef\u6807\u5fd7.  \u521b\u5efa\u6216\u4fee\u6539\u4f60\u8868\u5355\u7684\u6a21\u677f.  \u4e3a\u65b0\u89c6\u56fe\u589e\u52a0 urlpattern \u6620\u5c04(\u5982\u679c\u4f60\u521b\u5efa\u4e86\u4e00\u4e2a\u65b0\u7684).   \u8fd9\u4e2a\u6d41\u7a0b\u5c06\u4f1a\u6bd4\u5148\u524d\u7684\u90fd\u590d\u6742\u4e9b,\u6211\u4eec\u521b\u5efa\u7684\u89c6\u56fe\u4e5f\u4f1a\u975e\u5e38\u590d\u6742.\u4f46\u662f\u5b70\u80fd\u751f\u5de7,\u5982\u679c\u591a\u7ec3\u51e0\u6b21\u5c31\u975e\u5e38\u597d\u638c\u63e1\u4e86.", 
            "title": "8.1 \u57fa\u672c\u6d41\u7a0b"
        }, 
        {
            "location": "/#82", 
            "text": "\u9996\u5148,\u6211\u4eec\u9700\u8981\u5728 rango \u5e94\u7528\u76ee\u5f55\u91cc\u9ec4\u5efa\u53eb\u505a forms.py \u6587\u4ef6.\u5c3d\u7ba1\u8fd9\u6b65\u6211\u4eec\u5e76\u4e0d\u9700\u8981,\u6211\u4eec\u53ef\u4ee5\u628a\u8868\u5355\u653e\u5728 models.py \u91cc,\u4f46\u662f\u8fd9\u5c06\u4f1a\u4f7f\u6211\u4eec\u7684\u4ee3\u7801\u7b80\u5355\u6613\u61c2.  8.2.1 \u521b\u5efa ModelForm \u7c7b  \u5728rango\u7684 forms.py \u6a21\u5757\u91cc\u6211\u4eec\u5c06\u4f1a\u521b\u5efa\u4e00\u4e9b\u7ee7\u627f\u81ea ModelForm \u7684\u7c7b.\u5b9e\u9645\u4e0a, ModelForm \u662f\u4e00\u4e2a\u5e2e\u52a9\u51fd\u6570,\u5b83\u5141\u8bb8\u4f60\u5728\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u6a21\u578b\u91cc\u521b\u5efaDjango\u8868\u5355.\u56e0\u4e3a\u6211\u4eec\u5b9a\u4e49\u4e86\u4e24\u4e2a\u6a21\u578b( Category \u548c Page ),\u6211\u4eec\u5c06\u4f1a\u5206\u522b\u4e3a\u5b83\u4eec\u521b\u5efa ModelForms .  \u5728 rango/forms.py \u6dfb\u52a0\u4e0b\u9762\u4ee3\u7801:  from django import forms\nfrom rango.models import Page, Category\n\nclass CategoryForm(forms.ModelForm):\n    name = forms.CharField(max_length=128, help_text= Please enter the category name. )\n    views = forms.IntegerField(widget=forms.HiddenInput(), initial=0)\n    likes = forms.IntegerField(widget=forms.HiddenInput(), initial=0)\n    slug = forms.CharField(widget=forms.HiddenInput(), required=False)\n\n    # An inline class to provide additional information on the form.\n    class Meta:\n        # Provide an association between the ModelForm and a model\n        model = Category\n        fields = ('name',)\n\n\nclass PageForm(forms.ModelForm):\n    title = forms.CharField(max_length=128, help_text= Please enter the title of the page. )\n    url = forms.URLField(max_length=200, help_text= Please enter the URL of the page. )\n    views = forms.IntegerField(widget=forms.HiddenInput(), initial=0)\n\n    class Meta:\n        # Provide an association between the ModelForm and a model\n        model = Page\n\n        # What fields do we want to include in our form?\n        # This way we don't need every field in the model present.\n        # Some fields may allow NULL values, so we may not want to include them...\n        # Here, we are hiding the foreign key.\n        # we can either exclude the category field from the form,\n        exclude = ('category',)\n        #or specify the fields to include (i.e. not include the category field)\n        #fields = ('title', 'url', 'views')  TODO(leifos):\u503c\u5f97\u6ce8\u610f\u7684\u662fDjango1.7+\u9700\u8981\u901a\u8fc7 fields \u6307\u5b9a\u5305\u542b\u7684\u5b57\u6bb5,\u6216\u8005\u901a\u8fc7 exclude \u6307\u5b9a\u6392\u9664\u7684\u5b57\u6bb5.  Django\u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u8bb8\u591a\u5b9a\u5236\u8868\u5355\u7684\u65b9\u6cd5.\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d,\u6211\u4eec\u6307\u5b9a\u4e86\u6211\u4eec\u60f3\u8981\u5c55\u793a\u5b57\u6bb5\u7684\u7a97\u53e3\u90e8\u4ef6.\u4f8b\u5982\u5728\u6211\u4eec\u7684 PageForm \u7c7b\u4e2d,\u6211\u4eec\u4e3a title \u5b57\u6bb5\u5b9a\u4e49 forms.CharField ,\u4e3a url \u5b57\u6bb5\u5b9a\u4e49 forms.URLField .\u4e24\u4e2a\u5b57\u6bb5\u90fd\u4e3a\u7528\u6237\u63d0\u4f9b\u6587\u672c\u8f93\u5165.\u6ce8\u610f\u5b57\u6bb5\u91cc\u5305\u542b max_length \u53c2\u6570 - \u5b83\u5b9a\u4e49\u5b57\u6bb5\u6700\u5927\u957f\u5ea6.\u53ef\u4ee5\u8fd4\u56de\u7b2c6\u7ae0\u6216\u8005rango\u7684 models.py \u6587\u4ef6\u67e5\u770b.  \u53ef\u4ee5\u770b\u5230\u5728\u6bcf\u4e2a\u8868\u5355\u90fd\u5305\u542b\u6d4f\u89c8\u548c\u559c\u6b22\u7684 IntegerField \u5b57\u6bb5.\u6211\u4eec\u53ef\u4ee5\u5728\u53c2\u6570\u91cc\u8bbe\u7f6e widget=forms.Hiddeninput() \u6765\u9690\u85cf\u7a97\u53e3\u7ec4\u4ef6,\u8bbe\u7f6e initial=0 \u6765\u8bbe\u7f6e\u9ed8\u8ba4\u503c\u4e3a0.\u8fd9\u662f\u4e0d\u7528\u7528\u6237\u53bb\u81ea\u5df1\u8bbe\u7f6e\u5b57\u6bb5\u4e3a0\u7684\u4e00\u79cd\u65b9\u6cd5.\u7136\u800c\u53ef\u4ee5\u5728 PageForm \u770b\u5230,\u5c3d\u7ba1\u6211\u4eec\u9690\u85cf\u4e86\u5b57\u6bb5,\u4f46\u662f\u6211\u4eec\u8fd8\u662f\u5f97\u5728\u8868\u5355\u91cc\u5305\u542b\u5b57\u6bb5.\u5982\u679c fields \u6392\u9664\u4e86 views ,\u90a3\u4e48\u8868\u5355\u5c06\u4e0d\u5305\u542b\u5b57\u6bb5(\u5c3d\u7ba1\u5df2\u7ecf\u5b9a\u4e49\u4e86)\u800c\u4e14\u5c06\u4e0d\u4f1a\u8fd4\u56de\u7ed9\u6a21\u578b0\u503c.\u7531\u4e8e\u6a21\u578b\u5efa\u7acb\u7684\u4e0d\u540c\u6709\u53ef\u80fd\u4f1a\u5f15\u8d77\u4e00\u4e2a\u9519\u8bef.\u5982\u679c\u5728\u6a21\u578b\u91cc\u6211\u4eec\u628a\u8fd9\u4e9b\u5b57\u6bb5\u5b9a\u4e49\u4e3a default=0 \u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u81ea\u52a8\u7684\u8fd4\u56de\u9ed8\u8ba4\u503c - \u4ece\u800c\u907f\u514d not null \u9519\u8bef.\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5c31\u4e0d\u9700\u8981\u9690\u85cf\u5b57\u6bb5\u4e86.\u5728\u8868\u5355\u91cc\u6211\u4eec\u4e5f\u5305\u542b\u4e86 slug \u5b57\u6bb5\u5e76\u8bbe\u7f6e\u4e3a widget=forms.HiddenInput() \u503c,\u8fd9\u91cc\u6211\u4eec\u5e76\u6ca1\u7ed9\u4ed6\u8bbe\u7f6e\u521d\u59cb\u503c\u6216\u8005\u9ed8\u8ba4\u503c,\u800c\u662f\u8bbe\u7f6e\u4e3a\u4e0d\u9700\u8981( required=False ).\u8fd9\u662f\u56e0\u4e3a\u6211\u4eec\u7684\u6a21\u578b\u5c06\u4f1a\u8d1f\u8d23\u586b\u5145\u5b57\u6bb5.\u5b9e\u9645\u4e0a,\u5f53\u4f60\u5b9a\u4e49\u6a21\u578b\u548c\u8868\u5355\u65f6\u4e00\u5b9a\u8981\u6ce8\u610f\u8868\u5355\u4e00\u5b9a\u8981\u5305\u542b\u548c\u4f20\u9012\u6240\u6709\u7684\u6570\u636e.  \u9664\u4e86 CharField \u548c IntegerField \u7ec4\u4ef6\u8fd8\u6709\u8bb8\u591a.\u4f8b\u5982,Django\u63d0\u4f9b\u4e86 EmailField (e-mail\u5730\u5740\u5165\u53e3), ChoiceField (\u8f93\u5165\u6309\u94ae)\u548c DateField (\u65e5\u671f/\u65f6\u95f4\u5165\u53e3).\u6709\u8bb8\u591a\u5176\u4ed6\u4e0d\u540c\u79cd\u7c7b\u5b57\u6bb5\u53ef\u4ee5\u4f7f\u7528,\u4ed6\u4eec\u53ef\u4ee5\u4e3a\u4f60\u68c0\u67e5\u6267\u884c\u9519\u8bef(\u4f8b\u5982\u662f\u5426\u63d0\u4f9b\u4e86\u4e00\u4e2a\u6709\u6548\u7684\u6574\u6570?).\u5f3a\u70c8\u5efa\u8bae\u4f60\u770b\u4e00\u4e0b official Django documentation on widgets \u6765\u5b9a\u5236\u81ea\u5df1\u7684\u7ec4\u4ef6.  \u6216\u8bb8\u7ee7\u627f ModelForm \u6700\u5927\u7684\u4f5c\u7528\u5c31\u662f\u9700\u8981\u5b9a\u4e49\u6211\u4eec\u8981\u7ed9\u54ea\u4e2a\u6a21\u578b\u63d0\u4f9b\u8868\u5355.\u6211\u4eec\u901a\u8fc7 Meta \u7c7b\u6765\u5b9e\u73b0.\u5728 Meta \u7c7b\u8bbe\u7f6e model \u5c5e\u6027\u4e3a\u6211\u4eec\u9700\u8981\u4f7f\u7528\u7684\u6a21\u578b.\u4f8b\u5982 CategoryForm \u7c7b\u5f15\u7528 Category \u6a21\u578b.\u8fd9\u5bf9Django\u521b\u5efa\u6211\u4eec\u60f3\u8981\u7684\u6a21\u578b\u8868\u5355\u81f3\u5173\u91cd\u8981.\u5b83\u8fd8\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5728\u5b58\u50a8\u548c\u5c55\u793a\u8868\u5355\u6570\u636e\u65f6\u83b7\u53d6\u9519\u8bef.  \u6211\u4eec\u4e5f\u53ef\u4ee5\u7528 Meat \u7c7b\u6765\u5b9a\u4e49\u6211\u4eec\u5e0c\u671b\u5305\u62ec\u7684\u8868\u5355\u5b57\u6bb5.\u7528 fields \u5143\u7ec4\u6765\u5b9a\u4e49\u6240\u9700\u5305\u542b\u7684\u5b57\u6bb5.   Note  \u5f3a\u70c8\u5efa\u8bae\u67e5\u770b  official Django documentation on forms \u6765\u83b7\u53d6\u66f4\u591a.   8.2.2 \u521b\u5efa\u548c\u589e\u52a0\u76ee\u5f55\u89c6\u56fe  \u521b\u5efa CategoryForm \u7c7b\u4ee5\u540e,\u6211\u4eec\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u89c6\u56fe\u6765\u5c55\u793a\u8868\u5355\u5e76\u4f20\u9012\u6570\u636e.\u5728 rango/views.py \u4e2d\u589e\u52a0\u5982\u4e0b\u4ee3\u7801.  from rango.forms import CategoryForm\n\ndef add_category(request):\n    # A HTTP POST?\n    if request.method == 'POST':\n        form = CategoryForm(request.POST)\n\n        # Have we been provided with a valid form?\n        if form.is_valid():\n            # Save the new category to the database.\n            form.save(commit=True)\n\n            # Now call the index() view.\n            # The user will be shown the homepage.\n            return index(request)\n        else:\n            # The supplied form contained errors - just print them to the terminal.\n            print form.errors\n    else:\n        # If the request was not a POST, display the form to enter details.\n        form = CategoryForm()\n\n    # Bad form (or form details), no form supplied...\n    # Render the form with error messages (if any).\n    return render(request, 'rango/add_category.html', {'form': form})  \u65b0\u7684 add_category() \u89c6\u56fe\u589e\u52a0\u51e0\u4e2a\u8868\u5355\u7684\u5173\u952e\u529f\u80fd.\u9996\u5148,\u68c0\u67e5HTTP\u8bf7\u6c42\u65b9\u6cd5\u662f GET \u8fd8\u662f POST .\u6211\u4eec\u6839\u636e\u4e0d\u540c\u7684\u65b9\u6cd5\u6765\u8fdb\u884c\u5904\u7406 - \u4f8b\u5982\u5c55\u793a\u4e00\u4e2a\u8868\u5355(\u5982\u679c\u662f GET )\u6216\u8005\u5904\u7406\u8868\u5355\u6570\u636e(\u5982\u679c\u662f POST ) -\u6240\u6709\u8868\u5355\u90fd\u662f\u76f8\u540cURL. add_category() \u89c6\u56fe\u5904\u7406\u4ee5\u4e0b\u4e09\u79cd\u4e0d\u540c\u60c5\u51b5:   \u4e3a\u6dfb\u52a0\u76ee\u5f55\u63d0\u4f9b\u4e00\u4e2a\u65b0\u7684\u7a7a\u767d\u8868\u5355;  \u4fdd\u5b58\u7528\u6237\u63d0\u4ea4\u7684\u6570\u636e\u7ed9\u6a21\u578b,\u5e76\u8f6c\u5411\u5230Rango\u4e3b\u9875;  \u5982\u679c\u53d1\u751f\u9519\u8bef,\u5728\u8868\u5355\u91cc\u5c55\u793a\u9519\u8bef\u4fe1\u606f.    Note  GET \u548c POST \u662f\u4ec0\u4e48\u610f\u601d?\u4ed6\u4eec\u662fHTTP\u8bf7\u6c42\u7684\u4e24\u4e2a\u4e0d\u540c\u7c7b\u578b.   \u4e00\u4e2aHTTP GET \u7528\u6765\u8bf7\u6c42\u6307\u5b9a\u7684\u8d44\u6e90.\u6362\u53e5\u8bdd\u8bf4,\u4e0d\u7ba1\u4ed6\u662f\u7f51\u9875,\u56fe\u7247\u8fd8\u662f\u6587\u4ef6,\u6211\u4eec\u90fd\u53ef\u4ee5\u7528HTTP GET \u6765\u83b7\u53d6.  \u76f8\u53cd\u7684HTTP POST \u7528\u6765\u63d0\u4ea4\u5ba2\u6237\u7aef\u7f51\u9875\u6d4f\u89c8\u5668\u7684\u6570\u636e.\u8fd9\u79cd\u8bf7\u6c42\u7c7b\u578b\u7528\u6765\u63d0\u4ea4HTML\u8868\u5355.  \u4e00\u4e2aHTTP POST \u4e5f\u53ef\u80fd\u7528\u6765\u5728\u670d\u52a1\u5668\u4e0a\u521b\u5efa\u65b0\u7684\u8d44\u6e90(\u4f8b\u5982\u65b0\u7684\u6570\u636e\u5e93\u6761\u76ee),\u4ee5\u540e\u53ef\u4ee5\u901a\u8fc7HTTP GET \u8bf7\u6c42.    Django\u8868\u5355\u5904\u7406\u6570\u636e\u662f\u7528\u8fc7\u7528\u6237\u6d4f\u89c8\u5668\u7684HTTP POST \u8bf7\u6c42\u5b9e\u73b0.\u5b83\u4e0d\u4ec5\u53ef\u4ee5\u5b58\u50a8\u8868\u5355\u6570\u636e,\u800c\u4e14\u8fd8\u80fd\u5bf9\u6bcf\u4e2a\u8868\u5355\u5b57\u6bb5\u81ea\u52a8\u751f\u6210\u9519\u8bef\u4fe1\u606f.\u8fd9\u5c31\u610f\u5473\u7740Django\u5c06\u4e0d\u4f1a\u5b58\u50a8\u8868\u5355\u7684\u9519\u8bef\u4fe1\u606f\u4ee5\u4fdd\u62a4\u6570\u636e\u5e93\u7684\u6570\u636e\u5b8c\u6574\u6027.\u4f8b\u5982\u5982\u679c\u76ee\u5f55\u540d\u4e3a\u7a7a\u7684\u8bdd\u5c06\u4f1a\u8fd4\u56de\u4e0d\u80fd\u4e3a\u7a7a\u7684\u9519\u8bef.  \u6ce8\u610f\u5230 render() \u4e2d\u5c06\u4f1a\u8c03\u7528 add_category.html \u6a21\u677f,\u8fd9\u4e2a\u6a21\u677f\u5305\u542b\u8868\u5355\u548c\u9875\u9762.  8.2.3 \u521b\u5efa\u589e\u52a0\u76ee\u5f55\u6a21\u677f  \u8ba9\u6211\u4eec\u521b\u5efa templates/rango/add_category.html \u6587\u4ef6.  !DOCTYPE html  html \n     head \n         title Rango /title \n     /head \n\n     body \n         h1 Add a Category /h1 \n\n         form id= category_form  method= post  action= /rango/add_category/ \n\n            {% csrf_token %}\n            {% for hidden in form.hidden_fields %}\n                {{ hidden }}\n            {% endfor %}\n\n            {% for field in form.visible_fields %}\n                {{ field.errors }}\n                {{ field.help_text }}\n                {{ field }}\n            {% endfor %}\n\n             input type= submit  name= submit  value= Create Category  / \n         /form \n     /body  /html   \u597d\u5427,\u8fd9\u4e9b\u4ee3\u7801\u662f\u5e72\u4ec0\u4e48\u7684?\u53ef\u4ee5\u770b\u5230\u5728 body \u6807\u7b7e\u4e2d\u6211\u4eec\u8bbe\u7f6e\u4e86\u4e00\u4e2a form \u5143\u7d20.\u518d\u6765\u770b\u770b form \u4e2d\u7684\u5143\u7d20,\u6240\u6709\u8868\u5355\u4e2d\u7684\u6570\u636e\u5c06\u4f1a\u7528 POST \u8bf7\u6c42\u53d1\u9001\u7ed9 /rango/add_category/ ( method \u5c5e\u6027\u5927\u5c0f\u5199\u4e0d\u654f\u611f,\u6240\u4ee5\u53ef\u4ee5\u5199\u6210 POST \u6216\u662f post  - \u4e24\u8005\u529f\u80fd\u4e00\u6837).\u5728\u8868\u5355\u91cc\u6211\u4eec\u6709\u4e24\u4e2a\u5faa\u73af - \u4e00\u4e2a\u63a7\u5236\u8868\u5355\u9690\u85cf\u5b57\u6bb5,\u53e6\u4e00\u4e2a\u5219\u662f\u53ef\u89c1\u5b57\u6bb5 - \u53ef\u89c1\u5b57\u6bb5\u7684\u8bbe\u7f6e\u662f\u5728 ModelForm \u7684 Meta \u7c7b\u4e2d\u8bbe\u7f6e fields \u5c5e\u6027\u6765\u5b9e\u73b0\u7684.\u8fd9\u4e9b\u5faa\u73af\u5e2e\u52a9\u6211\u4eec\u751f\u6210HTML\u6807\u8bb0.\u5bf9\u4e8e\u8868\u5355\u7684\u53ef\u89c1\u5b57\u6bb5,\u6211\u4eec\u4e5f\u8bbe\u7f6e\u4e00\u4e2a\u7279\u6b8a\u533a\u57df\u6765\u5c55\u793a\u9519\u8bef\u4fe1\u606f,\u540c\u65f6\u8bbe\u7f6e\u5e2e\u52a9\u6587\u672c\u544a\u8bc9\u7528\u6237\u90a3\u9700\u8981\u8f93\u5165\u4ec0\u4e48.   Note  \u4f7f\u7528\u9690\u85cf\u548c\u53ef\u89c1\u8868\u5355\u5b57\u6bb5\u662f\u56e0\u4e3aHTTP\u662f\u65e0\u72b6\u6001\u534f\u8bae.\u4f60\u4e0d\u53ef\u4ee5\u5728\u4e24\u4e2a\u4e0d\u540c\u7684HTTP\u8bf7\u6c42\u4e4b\u95f4\u4fdd\u6301\u72b6\u6001,\u56e0\u4e3a\u5b9e\u73b0\u8d77\u6765\u76f8\u5f53\u590d\u6742.\u4e3a\u4e86\u6446\u8131\u8fd9\u4e2a\u9650\u5236,\u521b\u5efa\u9690\u85cf\u7684HTML\u8868\u5355\u5b57\u6bb5\u53ef\u4ee5\u4f7fweb\u5e94\u7528\u4f20\u9012\u7ed9\u7528\u6237HTML\u8868\u5355\u91cd\u8981\u7684\u6570\u636e,\u53ea\u6709\u7528\u6237\u63d0\u4ea4\u7684\u65f6\u5019\u624d\u4f1a\u8fd4\u56de\u6570\u636e.   \u53ef\u80fd\u4f60\u4e5f\u6ce8\u610f\u5230\u4e86\u4ee3\u7801 {% csrf_token %} ,\u8fd9\u662f\u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020\u4ee4\u724c,\u6709\u52a9\u4e8e\u4fdd\u62a4\u6211\u4eec\u63d0\u4ea4\u8868\u5355\u7684HTTP POST \u65b9\u6cd5\u7684\u5b89\u5168.Django\u6846\u67b6\u8981\u6c42\u4f7f\u7528CSRFtoken.\u5982\u679c\u5fd8\u8bb0\u5728\u4f60\u7684\u8868\u5355\u91cc\u5305\u542bCSRF\u4ee4\u724c,\u6709\u53ef\u80fd\u4f1a\u5728\u63d0\u4ea4\u8868\u5355\u65f6\u9047\u5230\u9519\u8bef.\u67e5\u770b  official Django documentation on CSRF tokens  \u4ee5\u83b7\u53d6\u66f4\u591a\u4fe1\u606f.  8.2.4 \u6620\u5c04\u589e\u52a0\u76ee\u5f55\u89c6\u56fe  \u73b0\u5728\u6211\u4eec\u9700\u8981\u6620\u5c04 add_category() \u89c6\u56fe.\u5728\u6a21\u677f\u91cc\u6211\u4eec\u4f7f\u7528 /rango/add_category/ URL\u6765\u63d0\u4ea4.\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4fee\u6539 rango/urls.py \u7684 urlpattterns .  urlpatterns = patterns('',\n    url(r'^$', views.index, name='index'),\n    url(r'^about/$', views.about, name='about'),\n    url(r'^add_category/$', views.add_category, name='add_category'), # NEW MAPPING!\n    url(r'^category/(?P category_name_slug [\\w\\-]+)/$', views.category, name='category'),)  \u5728\u8fd9\u91cc\u987a\u5e8f\u5e76\u4e0d\u91cd\u8981.\u66f4\u591a\u5185\u5bb9\u9700\u8981\u67e5\u770b official Django documentation on how Django process a request .\u6211\u4eec\u589e\u52a0\u7684URL\u662f /rango/add_category/ .  8.2.5 \u4fee\u6539\u4e3b\u9875\u5185\u5bb9  \u4f5c\u4e3a\u6700\u540e\u4e00\u6b65,\u8ba9\u6211\u4eec\u5728\u9996\u9875\u91cc\u52a0\u5165\u94fe\u63a5.\u4fee\u6539 rango/index.html \u6587\u4ef6,\u5728 /body \u524d\u6dfb\u52a0\u5982\u4e0b\u4ee3\u7801.  a href= /rango/add_category/ Add a New Category /a br /   8.2.6 Demo  \u73b0\u5728\u8bd5\u4e00\u8bd5!\u542f\u52a8Django\u670d\u52a1,\u8fdb\u5165 http://127.0.0.1:8000/rango/ .\u7528\u65b0\u52a0\u7684\u94fe\u63a5\u8df3\u8f6c\u5230\u589e\u52a0\u76ee\u5f55\u9875\u9762,\u7136\u540e\u589e\u52a0\u9875\u9762.\u4e0b\u56fe\u662f\u589e\u52a0\u76ee\u5f55\u548c\u9996\u9875\u622a\u56fe.    Note  \u5982\u679c\u4f60\u589e\u52a0\u8bb8\u591a\u76ee\u5f55,\u5b83\u4eec\u6709\u53ef\u80fd\u4e0d\u4f1a\u51fa\u73b0\u5728\u9996\u9875,\u8fd9\u662f\u56e0\u4e3a\u6211\u4eec\u7d27\u7d27\u5c55\u793a5\u4e2a\u76ee\u5f55.\u5982\u679c\u767b\u5f55\u7ba1\u7406\u754c\u9762\u4f60\u5c31\u80fd\u770b\u5230\u6240\u6709\u8f93\u5165\u7684\u76ee\u5f55\u4e86.#TODO   8.2.7 \u6e05\u7406\u8868\u5355  \u8bb0\u5f97\u6211\u4eec Page \u6a21\u578b\u6709\u4e00\u4e2a url \u5c5e\u6027\u8bbe\u7f6e\u4e3a URLField \u7c7b\u578b.\u5728\u76f8\u5e94\u7684HTML\u8868\u5355,Django\u5e0c\u671b\u4efb\u4f55\u6587\u672c\u8f93\u5165\u7684URL\u5b57\u6bb5\u662f\u4e00\u4e2a\u5b8c\u6574\u7684URL.\u7136\u800c,\u7528\u6237\u80fd\u53d1\u73b0\u8f93\u5165\u50cf http://www.url.com \u8fd9\u79cd\u5f62\u5f0f\u6709\u4e9b\u7e41\u7410 - \u786e\u5b9e,\u7528\u6237  may not even know what forms a correct URL !  \u8bbe\u60f3\u6709\u65f6\u5019\u7528\u6237\u8f93\u5165\u5e76\u4e0d\u662f\u4e00\u5b9a\u6b63\u786e,\u6211\u4eec\u53ef\u4ee5\u91cd\u5199 ModelForm \u6a21\u5757\u91cc clean() \u65b9\u6cd5.\u8fd9\u4e2a\u65b9\u6cd5\u4f1a\u5728\u8868\u5355\u6570\u636e\u5b58\u50a8\u5230\u6a21\u578b\u5b9e\u4f8b\u4e4b\u524d\u88ab\u8c03\u7528,\u6240\u4ee5\u5b83\u53ef\u4ee5\u8ba9\u6211\u4eec\u9a8c\u8bc1\u751a\u81f3\u4fee\u6539\u7528\u6237\u8f93\u5165\u7684\u6570\u636e.\u5728\u6211\u4eec\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d,\u6211\u4eec\u53ef\u4ee5\u68c0\u67e5 url \u5b57\u6bb5\u7684\u503c\u662f\u5426\u4ee5 http:// \u5f00\u5934 - \u5982\u679c\u4e0d\u662f\u6211\u4eec\u53ef\u4ee5\u5728\u7528\u6237\u524d\u9762\u6dfb\u52a0\u4e0a http:// .  class PageForm(forms.ModelForm):\n\n    ...\n\n    def clean(self):\n        cleaned_data = self.cleaned_data\n        url = cleaned_data.get('url')\n\n        # If url is not empty and doesn't start with 'http://', prepend 'http://'.\n        if url and not url.startswith('http://'):\n            url = 'http://' + url\n            cleaned_data['url'] = url\n\n        return cleaned_data  \u5728 clean() \u65b9\u6cd5\u91cc.   \u8868\u5355\u6570\u636e\u7684\u5b57\u5178\u4ece ModelForm \u7684 cleaned_data \u5c5e\u6027\u83b7\u53d6.  \u4f60\u5e0c\u671b\u68c0\u67e5\u7684\u8868\u5355\u5b57\u6bb5\u53ef\u4ee5\u5728 cleaned_data \u5b57\u5178\u4e2d\u83b7\u53d6.\u4f7f\u7528 .get() \u5b57\u5178\u65b9\u6cd5\u83b7\u53d6\u8868\u5355\u503c.\u5982\u679c\u7528\u6237\u6ca1\u6709\u8868\u5355\u5b57\u6bb5,\u90a3\u4e48 cleaned_data \u5b57\u5178\u5c31\u6ca1\u6709\u8fd9\u9879.\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b .get() \u4f1a\u8fd4\u56de None \u800c\u4e0d\u662f\u5f15\u53d1\u5f02\u5e38.\u6d59\u6c5f\u4f1a\u662f\u4f60\u7684\u4ee3\u7801\u66f4\u52a0\u7b80\u6d01!  \u5904\u7406\u4f60\u5e0c\u671b\u5904\u7406\u7684\u8868\u5355\u5b57\u6bb5.\u5982\u679c\u8f93\u5165\u4e86\u4e00\u4e2a\u503c,\u68c0\u67e5\u8fd9\u4e2a\u503c.\u5982\u679c\u4e0d\u662f\u4f60\u5e0c\u671b\u7684\u503c,\u4f60\u53ef\u4ee5\u5728\u5b58\u50a8\u5230 cleaned_data \u5b57\u5178\u4e4b\u524d\u589e\u52a0\u4e00\u4e9b\u903b\u8f91\u6765\u4fee\u6539\u8fd9\u4e2a\u503c.  \u5fc5\u987b\u6bcf\u6b21\u90fd\u662f\u4ee5\u8fd4\u56de cleaned_data \u5b57\u5178\u6765\u7ed3\u675f clean() \u65b9\u6cd5.\u5982\u679c\u6ca1\u6709\u5c06\u4f1a\u5f97\u5230\u9519\u8bef\u63d0\u793a.   \u8fd9\u4e2a\u5c0f\u4f8b\u5b50\u8bf4\u660e\u5982\u4f55\u5728\u8868\u5355\u6570\u636e\u5b58\u50a8\u4e4b\u524d\u8fdb\u884c\u4fee\u6539.\u8fd9\u662f\u975e\u5e38\u65b9\u4fbf\u7684,\u5c24\u5176\u662f\u6709\u4e00\u4e9b\u5b57\u6bb5\u9700\u8981\u8bbe\u5b9a\u9ed8\u8ba4\u503c\u65f6 - \u6216\u8005\u8868\u5355\u4e2d\u7684\u6570\u636e\u53d1\u751f\u4e86\u4e22\u5931.   Note  \u91cd\u5199\u65b9\u6cd5\u662fDjango\u6846\u67b6\u63d0\u4f9b\u7ed9\u6211\u4eec\u589e\u52a0\u5e94\u7528\u989d\u5916\u529f\u80fd\u7684\u4e00\u79cd\u4f18\u96c5\u7684\u65b9\u6cd5.\u5c31\u50cf ModelForm \u6a21\u5757\u4e2d clean() \u65b9\u6cd5\u4e00\u6837,Django\u63d0\u4f9b\u4e86\u8bb8\u591a\u5b89\u5168\u7684\u65b9\u6cd5\u53ef\u4ee5\u4f9b\u4f60\u91cd\u5199.\u68c0\u67e5  the Official Django Documentation on Models \u4ee5\u83b7\u53d6\u66f4\u591a\u4fe1\u606f.", 
            "title": "8.2 \u9875\u9762\u548c\u76ee\u5f55\u8868\u5355"
        }, 
        {
            "location": "/#83", 
            "text": "\u7ec3\u4e60\u4e0b\u9762\u9898\u76ee\u5de9\u56fa\u6240\u5b66.   \u5f53\u5728\u589e\u52a0\u76ee\u5f55\u8868\u5355\u8f93\u5165\u7a7a\u503c\u5c06\u4f1a\u53d1\u751f\u4ec0\u4e48?  \u589e\u52a0\u4e00\u4e2a\u5df2\u5b58\u5728\u7684\u76ee\u5f55\u4f1a\u53d1\u751f\u4ec0\u4e48?  \u8bbf\u95ee\u4e0d\u5b58\u5728\u7684\u76ee\u5f55\u4f1a\u53d1\u751f\u4ec0\u4e48?  \u5f53\u7528\u6237\u8bbf\u95ee\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684\u76ee\u5f55\u65f6\u5982\u4f55\u4f18\u96c5\u7684\u5904\u7406?  \u67e5\u770b  part four of the official Django Tutorial   8.3.1 \u521b\u5efa\u589e\u52a0\u9875\u9762\u89c6\u56fe,\u6a21\u677f\u548cURL\u6620\u5c04  \u4e0b\u4e00\u6b65\u662f\u8981\u6c42\u7528\u6237\u5bf9\u4e8e\u7ed9\u51fa\u7684\u76ee\u5f55\u589e\u52a0\u9875\u9762.\u4e3a\u4e86\u65f6\u95f4\u8fd9\u4e2a,\u6211\u4eec\u9700\u8981\u91cd\u590d\u4e0a\u9762\u76f8\u540c\u7684\u6d41\u7a0b - \u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8bd5\u56fe( add_page() ),\u4e00\u4e2a\u65b0\u7684\u6a21\u677f( rango/add_page.html ),URL\u6620\u5c04\u548c\u5728\u76ee\u5f55\u9875\u9762\u589e\u52a0\u4e00\u4e2a\u94fe\u63a5.\u8fd9\u91cc\u7ed9\u51fa\u4e00\u70b9\u63d0\u793a.  from rango.forms import PageForm\n\ndef add_page(request, category_name_slug):\n\n    try:\n        cat = Category.objects.get(slug=category_name_slug)\n    except Category.DoesNotExist:\n                cat = None\n\n    if request.method == 'POST':\n        form = PageForm(request.POST)\n        if form.is_valid():\n            if cat:\n                page = form.save(commit=False)\n                page.category = cat\n                page.views = 0\n                page.save()\n                # probably better to use a redirect here.\n                return category(request, category_name_slug)\n        else:\n            print form.errors\n    else:\n        form = PageForm()\n\n    context_dict = {'form':form, 'category': cat}\n\n    return render(request, 'rango/add_page.html', context_dict)  8.3.2 \u63d0\u793a   \u4fee\u6539 category() \u89c6\u56fe,\u628a category_name_slug \u52a0\u5165\u8fdb\u89c6\u56fe\u7684 context_dict \u5b57\u5178.  \u4fee\u6539 category.html \u6dfb\u52a0 /rango/category/ category_name_url /add_page/ \u94fe\u63a5.  \u786e\u4fdd\u53ea\u6709\u8bf7\u6c42\u7684\u76ee\u5f55\u5b58\u5728\u65f6\u624d\u4f1a\u51fa\u73b0\u94fe\u63a5 -\u9875\u9762\u5b58\u5728\u6216\u4e0d\u5b58\u5728\u7686\u53ef.\u4f8b\u5982,\u5728\u6a21\u677f\u7528 {% if category %} .... {% else %} A category by this name does not exist {% endif %} .  \u5728 rangp/urls.py \u4fee\u6539URL\u6620\u5c04.", 
            "title": "8.3 \u7ec3\u4e60"
        }, 
        {
            "location": "/#9", 
            "text": "\u6559\u7a0b\u7684\u4e0b\u4e00\u90e8\u5206\u5c06\u6559\u4f1a\u4f60Django\u7684\u7528\u6237\u9a8c\u8bc1\u673a\u5236.\u6211\u4eec\u5c06\u4f1a\u4f7f\u7528Django\u6807\u51c6\u5305 django.contrib.auth \u7684 auth \u5e94\u7528.\u901a\u8fc7  Django\u2019s official documentation on Authentication ,\u5e94\u7528\u5305\u542b\u4e0b\u9762\u51e0\u65b9\u9762.   \u7528\u6237.  \u6743\u9650:\u4e00\u7cfb\u5217\u7684\u4e8c\u8fdb\u5236\u6807\u5fd7(\u4f8b\u5982 yes/no)\u51b3\u5b9a\u7528\u6237\u53ef\u4ee5\u505a\u6216\u4e0d\u53ef\u4ee5\u505a\u4ec0\u4e48.  \u7fa4\u7ec4:\u4e3a\u4e0d\u6b62\u4e00\u4e2a\u7528\u6237\u63d0\u4f9b\u6743\u9650\u7684\u65b9\u6cd5.  \u7528\u6237\u767b\u5f55\u7684\u8868\u5355\u548c\u89c6\u56fe\u5de5\u5177,\u8fd8\u6709\u9650\u5236\u5185\u5bb9.   \u5728\u7528\u6237\u9a8c\u8bc1\u65b9\u9762Django\u53ef\u4ee5\u505a\u5f88\u591a.\u6211\u4eec\u5c06\u4ece\u57fa\u7840\u5f00\u59cb\u5b66\u4e60.\u8fd9\u5c06\u975e\u5e38\u6709\u5229\u4e8e\u5efa\u7acb\u4f7f\u7528\u5b83\u4eec\u7684\u4fe1\u5fc3\u548c\u5b83\u4eec\u8fd0\u884c\u7684\u7406\u5ff5.", 
            "title": "9 \u7528\u6237\u9a8c\u8bc1"
        }, 
        {
            "location": "/#91", 
            "text": "\u5728\u4f60\u4f7f\u7528Django\u7684\u9a8c\u8bc1\u4e4b\u524d,\u4f60\u9700\u8981\u786e\u5b9a\u5728\u4f60\u7684Rango\u9879\u76ee\u7684 settings.py \u6587\u4ef6\u91cc\u5df2\u7ecf\u8bbe\u7f6e\u4e86\u76f8\u5173\u5185\u5bb9.  \u5728 settings.py \u6587\u4ef6\u91cc\u627e\u5230 INSTALLED_APPS \u5143\u7ec4,\u68c0\u67e5 django.contrib.auth \u548c django.contrib.contenttypes \u662f\u5426\u5728\u5143\u7ec4\u91cc.  INSTALLED_APPS = (\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'rango',\n)  django.contrib.auth \u4e3aDjango\u63d0\u4f9b\u8bbf\u95ee\u8ba4\u8bc1\u7cfb\u7edf, django.contrib.contenttypes \u53ef\u4ee5\u901a\u8fc7\u8ba4\u8bc1\u7684\u5e94\u7528\u7a0b\u5e8f\u6765\u8ddf\u8e2a\u5b89\u88c5\u7684\u6570\u636e\u5e93\u6a21\u578b.   Note  \u5982\u679c\u4f60\u9700\u8981\u5728 INSTALLED_APPS \u5143\u7ec4\u91cc\u6dfb\u52a0 auth \u5e94\u7528,\u4f60\u9700\u8981\u7528\u547d\u4ee4 python manage.py migrate \u6765\u8fdb\u884c\u66f4\u65b0\u6570\u636e\u5e93.   \u5bc6\u7801\u9ed8\u8ba4\u5c06\u4f1a\u7528  PBKDF2 algorithm \u8fdb\u884c\u50a8\u5b58,\u5b83\u53ef\u4ee5\u5b89\u5168\u7684\u4fdd\u5b58\u4f60\u7528\u6237\u7684\u6570\u636e.\u5728  official Django documentation on how django stores passwords \u4f60\u53ef\u4ee5\u4e86\u89e3\u5230\u66f4\u591a,\u6587\u6863\u8fd8\u63d0\u4f9b\u4e86\u4f7f\u7528\u4e0d\u540c\u7684\u54c8\u5e0c\u7b97\u6cd5\u6765\u63d0\u9ad8\u5b89\u5168\u7b49\u7ea7.  \u5982\u679c\u4f60\u5e0c\u671b\u63a7\u5236\u4f7f\u7528\u54ea\u79cd\u54c8\u5e0c\u7b97\u6cd5,\u4f60\u9700\u8981\u5728 settings.py \u91cc\u52a0\u5165 PASSWORD_HASHERS \u5143\u7ec4:  PASSWORD_HASHERS = (\n'django.contrib.auth.hashers.PBKDF2PasswordHasher',\n'django.contrib.auth.hashers.PBKDF2SHA1PasswordHasher',\n)  Django\u5c06\u4f1a\u4f7f\u7528 PASSWORD_HASERS \u91cc\u7684\u7b2c\u4e00\u4e2a\u54c8\u5e0c\u7b97\u6cd5(\u4f8b\u5982  settings.PASSWORD_HASHERS[0] ).\u5982\u679c\u60f3\u8981\u83b7\u53d6\u66f4\u591a\u7684\u5b89\u5168\u7684\u54c8\u5e0c\u7b97\u6cd5,\u53ef\u4ee5\u7528 pip install bcrypt \u6765\u5b89\u88c5Bcrypt(\u67e5\u770b https://pypi.python.org/pypi/bcrypt/ ),\u7136\u540e\u5728 PASSWORD_HASHERS \u8bbe\u7f6e\u5982\u4e0b:  PASSWORD_HASHERS = (\n        'django.contrib.auth.hashers.BCryptSHA256PasswordHasher',\n'django.contrib.auth.hashers.BCryptPasswordHasher',\n'django.contrib.auth.hashers.PBKDF2PasswordHasher',\n'django.contrib.auth.hashers.PBKDF2SHA1PasswordHasher',\n)  \u7136\u800c\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f60\u4e0d\u9700\u8981\u4fee\u6539 PASSWORD_HASHERS ,Django\u9ed8\u8ba4\u6dfb\u52a0 django.contrib.auth.hashers.PBKDF2PasswordHasher .", 
            "title": "9.1 \u8bbe\u7f6e\u9a8c\u8bc1"
        }, 
        {
            "location": "/#92", 
            "text": "Django\u8ba4\u8bc1\u7cfb\u7edf\u6700\u91cd\u8981\u7684\u90e8\u5206\u5c31\u662f User \u5bf9\u8c61,\u5b83\u4f4d\u4e8e django.contrib.auth.models.User .\u4e00\u4e2a User \u5bf9\u8c61\u4ee3\u8868\u4e86\u548cDjango\u5e94\u7528\u4ea4\u4e92\u7684\u7528\u6237.  Django documentation on User objects  \u6709\u8be6\u5c3d\u7684\u63cf\u8ff0.  User \u6a21\u578b\u4e3b\u8981\u67095\u4e2a\u5c5e\u6027.\u5b83\u4eec\u662f:   \u8d26\u6237\u7684\u7528\u6237\u540d;  \u8d26\u6237\u5bc6\u7801;  \u7528\u6237\u90ae\u7bb1\u5730\u5740;  \u7528\u6237\u540d;  \u7528\u6237\u59d3;   \u6a21\u578b\u4e5f\u6709\u5176\u4ed6\u4e00\u4e9b\u5c5e\u6027\u50cf is_active (\u51b3\u5b9a\u8d26\u6237\u662f\u6d3b\u52a8\u8fd8\u662f\u975e\u6d3b\u52a8\u72b6\u6001).\u67e5\u770b official Django documentation on the user model ,\u8fd9\u91cc\u6709\u5b8c\u6574\u7684 User \u6a21\u578b\u5c5e\u6027\u5217\u8868.", 
            "title": "9.2 \u7528\u6237\u6a21\u578b"
        }, 
        {
            "location": "/#93", 
            "text": "\u5982\u679c\u4f60\u5e0c\u671b\u5728 User \u6a21\u578b\u91cc\u52a0\u5165\u5176\u4ed6\u5c5e\u6027,\u4f60\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u548c User \u6a21\u578b\u76f8\u5173\u7684\u6a21\u578b.\u5bf9\u4e8e\u6211\u4eec\u7684Rango\u5e94\u7528,\u6211\u4eec\u5e0c\u671b\u4e3a\u6211\u4eec\u7684\u7528\u6237\u589e\u52a0\u4e24\u4e2a\u5c5e\u6027.\u6211\u4eec\u5e0c\u671b\u5305\u542b:   URLField ,\u5141\u8bb8\u7528\u6237\u5199\u660e\u81ea\u5df1\u7684\u7f51\u7ad9;  ImageField ,\u5141\u8bb8\u7528\u6237\u5728\u5b83\u4eec\u7684\u6863\u6848\u91cc\u6dfb\u52a0\u56fe\u7247.   \u53ef\u4ee5\u518dRango\u7684 models.py \u6587\u4ef6\u91cc\u589e\u52a0\u6a21\u578b.\u8ba9\u6211\u4eec\u52a0\u5165 UserProfile \u6a21\u578b:  class UserProfile(models.Model):\n    # This line is required. Links UserProfile to a User model instance.\n    user = models.OneToOneField(User)\n\n    # The additional attributes we wish to include.\n    website = models.URLField(blank=True)\n    picture = models.ImageField(upload_to='profile_images', blank=True)\n\n    # Override the __unicode__() method to return out something meaningful!\n    def __unicode__(self):\n        return self.user.username  \u6ce8\u610f\u6211\u4eec\u5728 User \u6a21\u578b\u91cc\u4f7f\u7528\u4e00\u5bf9\u4e00\u5173\u7cfb.\u56e0\u4e3a\u6211\u4eec\u4f7f\u7528\u4e86\u9ed8\u8ba4 User \u6a21\u578b,\u6211\u4eec\u9700\u8981\u5728 models.py \u6587\u4ef6\u4e2d\u5bfc\u5165.  from django.contrib.auth.models import User  \u5728\u8fd9\u91cc\u6211\u4eec\u8fd8\u53ef\u4ee5\u76f4\u63a5\u7ee7\u627f User \u6a21\u578b\u6765\u589e\u52a0\u8fd9\u4e9b\u5b57\u6bb5.\u4f46\u662f\u56e0\u4e3a\u5176\u4ed6\u5e94\u7528\u4e5f\u53ef\u80fd\u9700\u8981\u5b58\u53d6 User \u6a21\u578b,\u6240\u4ee5\u8fd9\u91cc\u4e0d\u5efa\u8bae\u4f7f\u7528\u7ee7\u627f,\u800c\u662f\u4f7f\u7528\u4e00\u5bf9\u4e00\u5173\u7cfb\u6765\u4ee3\u66ff.  \u5bf9\u4e8eRango\u6211\u4eec\u5df2\u7ecf\u589e\u52a0\u4e86\u4e24\u4e2a\u5b57\u6bb5\u6765\u5b8c\u5584\u7528\u6237\u6863\u6848,\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e2a __unicode__() \u65b9\u6cd5\u8fd4\u56de\u5b9e\u4f8b\u540d\u79f0.  \u5bf9\u4e8e website \u548c picture \u4e24\u4e2a\u5b57\u6bb5,\u6211\u4eec\u90fd\u8bbe\u7f6e\u4e86 blank=True .\u5b83\u4f1a\u4f7f\u6240\u6709\u7684\u5b57\u6bb5\u90fd\u4e3a\u7a7a,\u610f\u5473\u7740\u7528\u6237\u4e0d\u5fc5\u4e3a\u6bcf\u4e00\u4e2a\u90fd\u8bbe\u7f6e\u5b57\u6bb5\u503c.  \u6ce8\u610f ImageField \u5b57\u6bb5\u6709\u4e00\u4e2a upload_to \u5c5e\u6027.\u8fd9\u4e2a\u5c5e\u6027\u503c\u8fde\u63a5\u7740 MEDIA_ROOT \u8bbe\u7f6e\u7528\u6765\u63d0\u4f9b\u4e0a\u4f20\u6587\u6863\u56fe\u7247\u7684\u8def\u5f84.\u4f8b\u5982, MEDIA_ROOT \u8bbe\u7f6e\u4e3a workspace /tango_with_django_project/media/ ,\u90a3\u4e48 upload_to=profile_imges \u5c06\u4f1a\u4f7f\u56fe\u7247\u4fdd\u5b58\u5728 workspace /tango_with_django_project/media/profile_images/ \u76ee\u5f55.   Warning  Django ImageField \u4f7f\u7528python\u56fe\u7247\u5e93(PIL).\u8fd4\u56de\u5230\u7b2c3\u7ae0,\u6211\u4eec\u5728\u5b89\u88c5Django\u65f6\u5df2\u7ecf\u8bb2\u8fc7\u5982\u4f55\u5b89\u88c5PIL.\u5982\u679c\u8fd8\u6ca1\u6709\u5b89\u88c5\u73b0\u5728\u5c31\u53ef\u4ee5\u5b89\u88c5\u4e86.\u5982\u679c\u4f60\u6ca1\u6709\u5b89\u88c5PIL,\u90a3\u4e48\u5c06\u4f1a\u9047\u5230 pil \u6a21\u5757\u4e0d\u80fd\u627e\u5230\u7684\u9519\u8bef!   \u5b9a\u4e49\u5b8c UserProfile \u6a21\u578b,\u6211\u4eec\u9700\u8981\u4fee\u6539Rango\u7684 admin.py \u6587\u4ef6\u4f7f\u7ba1\u7406\u754c\u9762\u5305\u542b UserPrifile \u6a21\u578b.\u5728 admin.py \u6587\u4ef6\u91cc\u6dfb\u52a0\u5982\u4e0b.  from rango.models import UserProfile\n\nadmin.site.register(UserProfile)   Note  \u6211\u4eec\u5728\u4fee\u6539\u6a21\u578b\u540e\u9700\u8981\u66f4\u65b0\u6570\u636e\u5e93.\u5728\u7ec8\u7aef\u91cc\u8fd0\u884c $ python manage.py makemigrations rango \u6765\u4e3a UserProfile \u6a21\u578b\u521b\u5efa\u8fc1\u79fb\u811a\u672c.\u7136\u540e\u8fd0\u884c $ python manage.py migrate .", 
            "title": "9.3 \u589e\u52a0\u7528\u6237\u5c5e\u6027"
        }, 
        {
            "location": "/#94", 
            "text": "\u7528\u6237\u8ba4\u8bc1\u5df2\u7ecf\u5904\u7406\u5b8c\u6bd5,\u6211\u4eec\u73b0\u5728\u9700\u8981\u8ba9\u7528\u6237\u5728\u7f51\u7ad9\u4e0a\u8fdb\u884c\u6ce8\u518c.\u6211\u4eec\u5c06\u901a\u8fc7\u521b\u5efa\u65b0\u89c6\u56fe\u548c\u6a21\u677f\u6765\u8fbe\u5230\u8fd9\u4e2a\u76ee\u7684.   Note  \u8fd9\u91cc\u6709\u8bb8\u591a\u73b0\u6210\u7684\u7528\u6237\u6ce8\u518c\u5305\u53ef\u4ee5\u4f7f\u7528,\u5b83\u4eec\u5927\u5927\u7684\u51cf\u5c11\u521b\u5efa\u6ce8\u518c\u548c\u8868\u5355\u7684\u7e41\u7410\u7a0b\u5ea6.\u7136\u800c\u4f7f\u7528\u8fd9\u6837\u7684\u5e94\u7528\u5bf9\u4e8e\u4e86\u89e3\u5185\u90e8\u673a\u5236\u662f\u975e\u5e38\u597d\u7684.\u5b83\u5c06\u4f1a\u4f7f\u4f60\u52a0\u6df1\u5bf9\u8868\u5355,\u6269\u5c55\u7528\u6237\u6a21\u578b\u548c\u4e0a\u4f20\u5a92\u4f53\u7684\u7406\u89e3.   \u4e3a\u7528\u6237\u63d0\u4f9b\u6ce8\u518c\u670d\u52a1\u6211\u4eec\u9700\u8981\u4ee5\u4e0b\u51e0\u6b65:   \u521b\u5efa UserForm \u548c UserProfileForm .  \u589e\u52a0\u521b\u5efa\u65b0\u7528\u6237\u89c6\u56fe.  \u589e\u52a0\u5c55\u793a UserForm \u548c UserProfileForm \u7684\u6a21\u677f.  \u6620\u5c04URL.  \u5728\u4e3b\u9875\u653e\u7f6e\u6ce8\u518c\u9875\u94fe\u63a5   9.4.1 \u521b\u5efa UserForm \u548c UserProfileForm  \u5728 rango/forms.py \u4e2d,\u6211\u4eec\u9700\u8981\u521b\u5efa\u4e24\u4e2a\u7ee7\u627f\u81ea forms.ModelForm \u7684\u7c7b.\u4e00\u4e2a\u662f\u4e3a User \u6a21\u578b\u521b\u5efa\u7684,\u4e00\u4e2a\u662f\u4e3a UserProfile \u521b\u5efa\u7684.\u8fd9\u4e24\u4e2a\u7ee7\u627f\u81ea ModelForm \u7684\u7c7b\u7ed9\u6211\u4eec\u63d0\u4f9b\u5c55\u793aHTML\u8868\u5355\u6240\u9700\u8981\u7684\u8868\u5355\u5b57\u6bb5.  \u5728 rango/forms.py \u6587\u4ef6,\u8ba9\u6211\u4eec\u521b\u5efa\u8fd9\u4e24\u4e2a\u7c7b.  class UserForm(forms.ModelForm):\n    password = forms.CharField(widget=forms.PasswordInput())\n\n    class Meta:\n        model = User\n        fields = ('username', 'email', 'password')\n\nclass UserProfileForm(forms.ModelForm):\n    class Meta:\n        model = UserProfile\n        fields = ('website', 'picture')  \u6ce8\u610f\u5230\u5728\u4e24\u4e2a\u7c7b\u4e2d\u6211\u4eec\u90fd\u52a0\u5165\u4e86\u4e00\u4e2a nested Meta \u7c7b.\u5728 Meta \u7c7b\u4e2d\u6240\u6709\u5b9a\u4e49\u90fd\u4f1a\u88ab\u5f53\u505a\u5b83\u7684\u9644\u52a0\u5c5e\u6027.\u6bcf\u4e2a Meta \u81f3\u5c11\u5305\u542b\u4e00\u4e2a model \u5b57\u6bb5,\u5b83\u53ef\u4ee5\u548c\u6a21\u578b\u4e4b\u95f4\u5173\u8054.\u4f8b\u5982\u5728\u6211\u4eec\u7684 UserForm \u7c7b\u4e2d\u5c31\u5173\u8054\u4e86 User \u6a21\u578b.\u5728Django1.7\u4e2d\u4f60\u53ef\u4ee5\u7528 fields \u6216\u8005 exclude \u6765\u5b9a\u4e49\u4f60\u9700\u8981\u5c55\u793a\u7684\u5b57\u6bb5.  \u8fd9\u91cc\u6211\u4eec\u4ec5\u4ec5\u9700\u8981\u5c55\u793a User \u6a21\u578b\u7684 username , email \u548c password \u5b57\u6bb5,\u548c UserProfile \u6a21\u578b\u7684 website \u548c picture \u5b57\u6bb5.\u5f53\u7528\u6237\u6ce8\u518c\u7684\u65f6\u5019\u6211\u4eec\u9700\u8981\u8fde\u63a5 UserPrifile \u6a21\u578b\u7684 user \u5b57\u6bb5.  \u770b\u5230\u4e86\u5427 UserForm \u5305\u542b\u4e00\u4e2a\u5b9a\u4e49 password \u5c5e\u6027.\u5f53 User \u6a21\u578b\u5b9e\u4f8b\u9ed8\u8ba4\u5305\u542b password \u5c5e\u6027\u65f6,HTML\u8868\u5355\u5143\u7d20\u5c06\u4e0d\u4f1a\u9690\u85cf\u5bc6\u7801.\u5982\u679c\u7528\u6237\u8f93\u5165\u5bc6\u7801,\u90a3\u4e48\u8fd9\u4e2a\u5bc6\u7801\u5c31\u4f1a\u53ef\u89c1.\u6240\u4ee5\u6211\u4eec\u4fee\u6539 password \u5c5e\u6027\u4f5c\u4e3a CharField \u5b9e\u4f8b\u5e76\u4f7f\u7528 PasswordInput() \u7ec4\u5efa,\u8fd9\u65f6\u7528\u6237\u8f93\u5165\u5c31\u4f1a\u88ab\u9690\u85cf.  \u6700\u540e,\u8bb0\u5f97\u5728 forms.py \u6a21\u5757\u9876\u90e8\u5305\u542b\u4e0b\u9762\u5f15\u7528!  from django import forms\nfrom django.contrib.auth.models import User\nfrom rango.models import Category, Page, UserProfile  9.4.2 \u521b\u5efa register() \u89c6\u56fe  \u4e0b\u9762\u6211\u4eec\u5904\u7406\u8868\u5355\u548c\u8868\u5355\u8f93\u5165\u7684\u6570\u636e.\u5728Rango\u7684 views.py \u6587\u4ef6,\u52a0\u5165\u4e0b\u9762\u89c6\u56fe\u51fd\u6570:  from rango.forms import UserForm, UserProfileForm\n\ndef register(request):\n\n    # A boolean value for telling the template whether the registration was successful.\n    # Set to False initially. Code changes value to True when registration succeeds.\n    registered = False\n\n    # If it's a HTTP POST, we're interested in processing form data.\n    if request.method == 'POST':\n        # Attempt to grab information from the raw form information.\n        # Note that we make use of both UserForm and UserProfileForm.\n        user_form = UserForm(data=request.POST)\n        profile_form = UserProfileForm(data=request.POST)\n\n        # If the two forms are valid...\n        if user_form.is_valid() and profile_form.is_valid():\n            # Save the user's form data to the database.\n            user = user_form.save()\n\n            # Now we hash the password with the set_password method.\n            # Once hashed, we can update the user object.\n            user.set_password(user.password)\n            user.save()\n\n            # Now sort out the UserProfile instance.\n            # Since we need to set the user attribute ourselves, we set commit=False.\n            # This delays saving the model until we're ready to avoid integrity problems.\n            profile = profile_form.save(commit=False)\n            profile.user = user\n\n            # Did the user provide a profile picture?\n            # If so, we need to get it from the input form and put it in the UserProfile model.\n            if 'picture' in request.FILES:\n                profile.picture = request.FILES['picture']\n\n            # Now we save the UserProfile model instance.\n            profile.save()\n\n            # Update our variable to tell the template registration was successful.\n            registered = True\n\n        # Invalid form or forms - mistakes or something else?\n        # Print problems to the terminal.\n        # They'll also be shown to the user.\n        else:\n            print user_form.errors, profile_form.errors\n\n    # Not a HTTP POST, so we render our form using two ModelForm instances.\n    # These forms will be blank, ready for user input.\n    else:\n        user_form = UserForm()\n        profile_form = UserProfileForm()\n\n    # Render the template depending on the context.\n    return render(request,\n            'rango/register.html',\n            {'user_form': user_form, 'profile_form': profile_form, 'registered': registered} )  \u770b\u8d77\u6765\u662f\u4e0d\u662f\u5f88\u96be\u554a?\u53ef\u80fd\u4e00\u5f00\u59cb\u770b\u8d77\u6765\u6bd4\u8f83\u590d\u6742,\u4f46\u5176\u5b9e\u4e0d\u7136.\u548c\u6211\u4eec\u524d\u9762 add_category() \u89c6\u56fe\u5dee\u4e0d\u591a,\u4ec5\u4ec5\u6dfb\u52a0\u4e86\u4e24\u4e2a\u4e0d\u540c\u7684 ModelForm \u5b9e\u4f8b - \u4e00\u4e2a\u662f User \u6a21\u578b\u7684,\u53e6\u4e00\u4e2a\u662f UserProfile \u6a21\u578b\u7684.\u5982\u679c\u7528\u6237\u4e0a\u4f20\u56fe\u50cf\u6211\u4eec\u8fd8\u5f97\u9700\u8981\u5904\u7406\u5b83\u4eec.  \u6211\u4eec\u8fd8\u9700\u8981\u521b\u5efa\u4e24\u4e2a\u6a21\u578b\u5b9e\u4f8b\u4e4b\u95f4\u7684\u8fde\u63a5.\u521b\u5efa\u65b0\u7684 User \u6a21\u578b\u5b9e\u4f8b\u540e,\u6211\u4eec\u9700\u8981\u7528 profile.user = user \u628a\u5b83\u5173\u8054\u5230 UserProfile \u5b9e\u4f8b.\u6211\u4eec\u5728\u5df2\u7ecf\u5728[9.4.1][#94]\u9690\u85cf\u7684 UserProfileForm \u8868\u5355\u91cc\u586b\u5145\u4e86 user \u5c5e\u6027.  9.4.3 \u521b\u5efa\u6ce8\u518c\u6a21\u677f  \u73b0\u5728\u6211\u4eec\u521b\u5efa rang/register.html \u52a0\u5165\u5982\u4e0b\u4ee3\u7801:  !DOCTYPE html  html \n     head \n         title Rango /title \n     /head \n\n     body \n         h1 Register with Rango /h1 \n\n        {% if registered %}\n        Rango says:  strong thank you for registering! /strong \n         a href= /rango/ Return to the homepage. /a br / \n        {% else %}\n        Rango says:  strong register here! /strong br / \n\n         form id= user_form  method= post  action= /rango/register/ \n                enctype= multipart/form-data \n\n            {% csrf_token %}\n\n             !-- Display each form. The as_p method wraps each element in a paragraph\n                 ( p ) element. This ensures each element appears on a new line,\n                 making everything look neater. -- \n            {{ user_form.as_p }}\n            {{ profile_form.as_p }}\n\n             !-- Provide a button to click to submit the form. -- \n             input type= submit  name= submit  value= Register  / \n         /form \n        {% endif %}\n     /body  /html   \u8fd9\u4e2aHTML\u6a21\u677f\u4f7f\u7528 registered \u53d8\u91cf\u6765\u68c0\u6d4b\u6ce8\u518c\u662f\u5426\u6210\u529f.\u5f53 registered \u4e3a False \u65f6\u6a21\u677f\u4f1a\u5c55\u793a\u6ce8\u518c\u8868\u5355 - \u5426\u5219,\u9664\u4e86\u6807\u9898\u5916\u5b83\u53ea\u4f1a\u5c55\u793a\u4e00\u6761\u6210\u529f\u4fe1\u606f.   Warning  \u4f60\u53ef\u80fd\u6ce8\u610f\u5230\u5728 form \u5143\u7d20\u91cc\u7684 enctype \u5c5e\u6027.\u5f53\u4f60\u5e0c\u671b\u7528\u6237\u901a\u8fc7\u8868\u5355\u4e0a\u4f20\u6587\u4ef6\u65f6,\u5fc5\u987b\u628a enctype \u8bbe\u7f6e\u6210 multipart/form-data .\u8fd9\u4e2a\u5c5e\u6027\u4f1a\u8ba9\u4f60\u7684\u6d4f\u89c8\u5668\u4ee5\u7279\u5b9a\u7684\u65b9\u5f0f\u628a\u8868\u5355\u6570\u636e\u8fd4\u56de\u7ed9\u670d\u52a1\u5668.\u5b9e\u9645\u4e0a,\u4f60\u7684\u6587\u4ef6\u4f1a\u88ab\u5206\u6210\u4e00\u5757\u5757\u7684\u4f20\u8f93.\u60f3\u4e86\u89e3\u66f4\u591a\u67e5\u770b  this great Stack Overflow answer .\u4f60\u4e5f\u5e94\u5f53\u8bb0\u5f97\u52a0\u5165CSRF\u4ee4\u724c.\u786e\u4fdd\u5728\u4f60\u7684 form \u5c5e\u6027\u91cc\u5305\u542b {% csrf_token %} .   9.4.4 \u89c6\u56fe register() \u7684URL\u6620\u5c04  \u73b0\u5728\u4e3a\u6211\u4eec\u7684\u65b0\u89c6\u56fe\u52a0\u5165URL\u6620\u5c04.\u5728 rango/urls.py \u6587\u4ef6\u91cc\u4fee\u6539 urlpatterns \u5143\u7ec4\u5982\u4e0b:  urlpatterns = patterns('',\n    url(r'^$', views.index, name='index'),\n    url(r'^about/$', views.about, name='about'),\n    url(r'^category/(?P category_name_slug \\w+)$', views.category, name='category'),\n    url(r'^add_category/$', views.add_category, name='add_category'),\n    url(r'^category/(?P category_name_slug \\w+)/add_page/$', views.add_page, name='add_page'),\n    url(r'^register/$', views.register, name='register'), # ADD NEW PATTERN!\n    )  \u65b0\u52a0\u5165\u7684\u6a21\u5f0f\u7684URL rango/register/ \u6307\u5411 register() \u89c6\u56fe.  9.4.5 \u94fe\u63a5\u5728\u4e00\u8d77  \u6700\u540e,\u6211\u4eec\u9700\u8981\u5728\u4e3b\u9875 index.html \u6a21\u677f\u91cc\u52a0\u5165\u94fe\u63a5.\u5728\u6dfb\u52a0\u76ee\u5f55\u94fe\u63a5\u540e\u52a0\u5165\u4e0b\u9762\u94fe\u63a5.  a href= /rango/register/ Register Here /a   9.4.6 Demo  \u73b0\u5728\u4f60\u53ef\u4ee5\u70b9\u51fb Register Here \u8d85\u94fe\u63a5\u8fdb\u5165\u5230\u6ce8\u518c\u9875\u9762.\u73b0\u5728\u8bd5\u8bd5\u770b!\u542f\u52a8\u4f60\u7684Django\u670d\u52a1\u8bd5\u7740\u6ce8\u518c\u4e00\u4e2a\u8d26\u6237.\u5982\u679c\u4f60\u613f\u610f\u53ef\u4ee5\u4e0a\u4f20\u4e00\u4e2a\u4e2a\u4eba\u56fe\u7247.\u4f60\u7684\u6ce8\u518c\u8868\u5355\u770b\u8d77\u6765\u50cf\u4e0b\u9762\u4e00\u6837.   \u770b\u5230 thank you for registering! \u5c31\u8bf4\u660e\u4f60\u6210\u529f\u6ce8\u518c\u4e86,\u6570\u636e\u5e93\u5c06\u4f1a\u4e3a User \u548c UserProfile \u5efa\u7acb\u65b0\u7684\u9879\u76ee.", 
            "title": "9.4 \u521b\u5efa\u7528\u6237\u6ce8\u518c\u89c6\u56fe\u548c\u6a21\u677f"
        }, 
        {
            "location": "/#95", 
            "text": "\u5b8c\u6210\u4e86\u6ce8\u518c\u529f\u80fd,\u6211\u4eec\u9700\u8981\u6dfb\u52a0\u767b\u5f55\u7684\u529f\u80fd.\u6211\u4eec\u9700\u8981\u505a\u4ee5\u4e0b\u51e0\u6b65:   \u521b\u5efa\u767b\u5f55\u89c6\u56fe\u5904\u7406\u7528\u6237\u9a8c\u8bc1  \u521b\u5efa\u767b\u5f55\u6a21\u677f\u5c55\u793a\u767b\u5f55\u8868\u5355  \u6620\u5c04url  \u5728\u9996\u9875\u63d0\u4f9b\u767b\u5f55\u8868\u5355\u94fe\u63a5   9.5.1 \u521b\u5efa login() \u89c6\u56fe  \u5728 rango/views.py \u521b\u5efa user_login() \u51fd\u6570,\u4ee3\u7801\u5982\u4e0b:  def user_login(request):\n\n    # If the request is a HTTP POST, try to pull out the relevant information.\n    if request.method == 'POST':\n        # Gather the username and password provided by the user.\n        # This information is obtained from the login form.\n                # We use request.POST.get(' variable ') as opposed to request.POST[' variable '],\n                # because the request.POST.get(' variable ') returns None, if the value does not exist,\n                # while the request.POST[' variable '] will raise key error exception\n        username = request.POST.get('username')\n        password = request.POST.get('password')\n\n        # Use Django's machinery to attempt to see if the username/password\n        # combination is valid - a User object is returned if it is.\n        user = authenticate(username=username, password=password)\n\n        # If we have a User object, the details are correct.\n        # If None (Python's way of representing the absence of a value), no user\n        # with matching credentials was found.\n        if user:\n            # Is the account active? It could have been disabled.\n            if user.is_active:\n                # If the account is valid and active, we can log the user in.\n                # We'll send the user back to the homepage.\n                login(request, user)\n                return HttpResponseRedirect('/rango/')\n            else:\n                # An inactive account was used - no logging in!\n                return HttpResponse( Your Rango account is disabled. )\n        else:\n            # Bad login details were provided. So we can't log the user in.\n            print  Invalid login details: {0}, {1} .format(username, password)\n            return HttpResponse( Invalid login details supplied. )\n\n    # The request is not a HTTP POST, so display the login form.\n    # This scenario would most likely be a HTTP GET.\n    else:\n        # No context variables to pass to the template system, hence the\n        # blank dictionary object...\n        return render(request, 'rango/login.html', {})  \u8fd9\u4e2a\u89c6\u56fe\u53ef\u80fd\u770b\u8d77\u6765\u76f8\u5f53\u7684\u590d\u6742.\u548c\u524d\u9762\u7684\u4f8b\u5b50\u4e00\u6837, user_login() \u89c6\u56fe\u8d1f\u8d23\u5904\u7406\u548c\u4f20\u9012\u8868\u5355.  \u9996\u5148,\u5982\u679c\u8bbf\u95ee\u89c6\u56fe\u7684\u65b9\u5f0f\u662fHTTP GET,\u90a3\u4e48\u5c31\u4f1a\u5c55\u793a\u767b\u5f55\u8868\u5355.\u5982\u679c\u662f\u901a\u8fc7HTTP POST,\u90a3\u4e48\u5b83\u5c06\u5bf9\u8868\u5355\u8fdb\u884c\u5904\u7406.  \u5982\u679c\u8868\u5355\u88ab\u53d1\u9001,\u90a3\u4e48\u7528\u6237\u540d\u548c\u5bc6\u7801\u5c06\u4f1a\u4ece\u8868\u5355\u4e2d\u62bd\u79bb\u51fa\u6765.\u5b83\u4eec\u5c06\u4f1a\u88ab\u7528\u4f5c\u9a8c\u8bc1\u7528\u6237(\u4f7f\u7528Django\u7684 authenticate() \u51fd\u6570).\u5982\u679c\u7528\u6237\u540d/\u5bc6\u7801\u5728\u6570\u636e\u5e93\u4e2d\u5b58\u5728 authenticate() \u5c31\u4f1a\u8fd4\u56de\u4e00\u4e2a User \u5bf9\u8c61 - \u53cd\u4e4b\u5219\u4f1a\u8fd4\u56de None .  \u5982\u679c\u6211\u4eec\u67e5\u627e\u4e00\u4e2a User \u5bf9\u8c61,\u6211\u4eec\u53ef\u4ee5\u68c0\u67e5\u8d26\u6237\u662f\u5904\u4e8e\u6fc0\u6d3b\u6216\u975e\u6fc0\u6d3b\u72b6\u6001 - \u7136\u540e\u4f1a\u8fd4\u56de\u6d4f\u89c8\u5668\u76f8\u5e94\u7684\u72b6\u6001.  \u7136\u800c\u5982\u679c\u53d1\u9001\u4e86\u65e0\u6548\u7684\u8868\u5355,\u662f\u56e0\u4e3a\u6ca1\u6709\u6dfb\u52a0\u7528\u6237\u540d\u548c\u5bc6\u7801\u5bfc\u81f4\u8fd4\u56de\u9519\u8bef\u4fe1\u606f(\u4f8b\u5982\u7528\u6237\u540d/\u5bc6\u7801\u4e22\u5931).  \u4e0a\u9762\u4ee3\u7801\u6700\u6709\u610f\u601d\u7684\u662f\u7528Django\u5185\u5efa\u7684\u673a\u5236\u6765\u5b9e\u73b0\u9a8c\u8bc1\u8fc7\u7a0b. authenticate() \u51fd\u6570\u7528\u6765\u68c0\u67e5\u7528\u6237\u540d\u548c\u5bc6\u7801\u662f\u5426\u548c\u8d26\u6237\u5339\u914d,\u800c login() \u51fd\u6570\u7528\u6765\u6807\u8bb0\u7528\u6237\u767b\u5f55.  \u4f60\u4e5f\u53ef\u80fd\u6ce8\u610f\u5230\u6211\u4eec\u4f7f\u7528\u4e86 HttpResponseRedirect \u7c7b.\u770b\u5230\u540d\u5b57\u5c31\u731c\u5230\u4e86,\u6700\u540e\u4ee3\u7801\u8fd4\u56de\u7684\u662f\u4e00\u4e2a HttpResponseRedirect \u7c7b\u5b9e\u4f8b,\u5b83\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u8df3\u8f6c\u5730\u5740,\u7528\u6765\u4f7f\u7528\u6237\u7684\u6d4f\u89c8\u5668\u8df3\u8f6c\u5230\u8be5\u5730\u5740.\u6ce8\u610f\u5b83\u8fd4\u56de\u7684\u72b6\u6001\u7801\u4e0d\u662f\u6b63\u5e38\u72b6\u6001\u4e0b\u7684200\u800c\u662f302,\u5b83\u8868\u793a\u4e00\u4e2a\u91cd\u5b9a\u5411.\u53c2\u770b official Django documentation on Redirection \u4ee5\u83b7\u53d6\u66f4\u591a\u4fe1\u606f.  \u6240\u6709\u7684\u8fd9\u4e9b\u51fd\u6570\u548c\u7c7b\u90fd\u5728Django\u4e4b\u4e2d,\u6240\u4ee5\u4f60\u9700\u8981\u5bfc\u5165\u5b83\u4eec,\u5728 rango/views.py \u4e2d\u52a0\u5165\u4e0b\u9762.  from django.contrib.auth import authenticate, login\nfrom django.http import HttpResponseRedirect, HttpResponse  9.5.2 \u521b\u5efa\u767b\u5f55\u6a21\u677f  \u6211\u4eec\u5df2\u7ecf\u521b\u5efa\u5b8c\u89c6\u56fe,\u6240\u4ee5\u63a5\u4e0b\u6765\u6211\u4eec\u9700\u8981\u521b\u5efa\u767b\u5f55\u6a21\u677f\u4e86.\u6211\u4eec\u77e5\u9053\u6a21\u677f\u5b58\u50a8\u5728 templates/rango/ \u76ee\u5f55,\u6240\u4ee5\u6211\u4eec\u5728\u8fd9\u91cc\u521b\u5efa login.html \u6587\u4ef6,\u4ee3\u7801\u5982\u4e0b:  !DOCTYPE html  html \n     head \n         !-- Is anyone getting tired of repeatedly entering the header over and over?? -- \n         title Rango /title \n     /head \n\n     body \n         h1 Login to Rango /h1 \n\n         form id= login_form  method= post  action= /rango/login/ \n            {% csrf_token %}\n            Username:  input type= text  name= username  value=  size= 50  / \n             br / \n            Password:  input type= password  name= password  value=  size= 50  / \n             br / \n\n             input type= submit  value= submit  / \n         /form \n\n     /body  /html   \u786e\u4fdd\u5728input name \u5c5e\u6027\u8981\u548c user_login() \u89c6\u56fe\u91cc\u7684\u540d\u5b57\u76f8\u540c - \u4f8b\u5982, username \u4f5c\u4e3a\u7528\u6237\u540d, password \u4f5c\u4e3a\u5bc6\u7801.\u540c\u65f6\u4e0d\u8981\u5fd8\u8bb0 {% csrf_token %} !  9.5.3 \u6dfb\u52a0\u767b\u5f55\u89c6\u56feURL\u6620\u5c04  \u63a5\u4e0b\u6765\u6211\u4eec\u9700\u8981\u5bf9 user_login() \u89c6\u56fe\u6620\u5c04URL.\u4fee\u6539 urls.py \u6587\u4ef6\u91cc\u7684 urlpatterns \u5143\u7ec4\u5982\u4e0b.  urlpatterns = patterns('',\n    url(r'^$', views.index, name='index'),\n    url(r'^about/$', views.about, name='about'),\n    url(r'^category/(?P category_name_slug \\w+)$', views.category, name='category'),\n    url(r'^add_category/$', views.add_category, name='add_category'),\n    url(r'^category/(?P category_name_slug \\w+)/add_page/$', views.add_page, name='add_page'),\n    url(r'^register/$', views.register, name='register'),\n    url(r'^login/$', views.user_login, name='login'),\n    )  9.5.4 \u6dfb\u52a0\u94fe\u63a5  \u6700\u540e\u4e00\u6b65\u662f\u4e3a\u6211\u4eec\u7684\u767b\u5f55\u9875\u63d0\u4f9b\u94fe\u63a5.\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4fee\u6539\u5728 tmplates/rango \u76ee\u5f55\u91cc\u7684 index.html \u6587\u4ef6.\u627e\u5230\u5148\u524d\u521b\u5efa\u7684\u589e\u52a0\u76ee\u5f55\u94fe\u63a5\u548c\u6ce8\u518c\u94fe\u63a5,\u5728\u540e\u9762\u6dfb\u52a0.\u5982\u679c\u4f60\u5e0c\u671b\u8fdb\u884c\u5206\u5272\u4ee5\u4e0b\u53ef\u4ee5\u5728\u94fe\u63a5\u524d\u9762\u5305\u542b( br / ).  a href= /rango/login/ Login /a   \u5728\u5934\u90e8\u66ff\u6362\u4e0b\u9762\u7684\u4ee3\u7801.\u6ce8\u610f\u5230\u6211\u4eec\u4f7f\u7528\u4e86 user \u5bf9\u8c61,\u5b83\u662f\u901a\u8fc7\u4e0a\u4e0b\u6587\u4f20\u9012\u7ed9Django\u7684\u6a21\u677f\u7684.\u901a\u8fc7\u5b83\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u7528\u6237\u662f\u5426\u767b\u5f55(\u9a8c\u8bc1).\u5982\u679c\u7528\u6237\u767b\u5f55\u4e86\u6211\u4eec\u53ef\u4ee5\u63d0\u4f9b\u7ed9\u8be6\u7ec6\u4fe1\u606f.  {% if user.is_authenticated %} h1 Rango says... hello {{ user.username }}! /h1 \n{% else %} h1 Rango says... hello world! /h1 \n{% endif %}  \u6b63\u5982\u4f60\u770b\u5230\u7684\u6211\u4eec\u7528Django\u6a21\u677f\u8bed\u8a00 {% if user.is_authenticated %} \u6765\u68c0\u67e5\u7528\u6237\u662f\u5426\u901a\u8fc7\u9a8c\u8bc1.\u5982\u679c\u7528\u6237\u6210\u529f\u767b\u5f55\u90a3\u4e48\u6211\u4eec\u4f20\u9012\u7ed9\u6a21\u677f\u7684\u4e0a\u4e0b\u6587\u53d8\u91cf\u4f1a\u5305\u542b\u4e00\u4e2a\u7528\u6237\u53d8\u91cf - \u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u68c0\u67e5\u7528\u6237\u662f\u5426\u767b\u5f55.\u5982\u679c\u767b\u5f55\u7528\u6237\u4f1a\u5f97\u5230\u4e00\u4e2a\u6b22\u8fce\u7528\u6237\u7684\u4fe1\u606f,\u6bd4\u5982 Rango says... hello leifos! .\u5426\u5219\u7684\u8bdd\u53ea\u4f1a\u8fd4\u56de Rango says... hello world! \u901a\u7528\u7684\u6b22\u8fce\u4fe1\u606f.  9.5.5 Demo  \u770b\u770b\u662f\u5426\u548c\u4e0b\u9762\u56fe\u7247\u4e00\u6837.   \u5230\u76ee\u524d\u4e3a\u6b62,\u6211\u4eec\u5df2\u7ecf\u5b8c\u6210\u4e86\u7528\u6237\u7684\u767b\u5f55\u529f\u80fd!\u5f00\u542fDjango\u670d\u52a1\u5c1d\u8bd5\u6ce8\u518c\u65b0\u7528\u6237.\u6ce8\u518c\u6210\u529f\u4e4b\u540e,\u53ef\u4ee5\u767b\u5f55\u770b\u770b\u5b83\u7ed9\u7684\u63d0\u793a\u4fe1\u606f.", 
            "title": "9.5 \u589e\u52a0\u767b\u5f55\u529f\u80fd"
        }, 
        {
            "location": "/#96", 
            "text": "\u73b0\u5728\u7528\u6237\u53ef\u4ee5\u767b\u5f55Rango,\u73b0\u5728\u6211\u4eec\u9700\u8981\u5bf9\u4e00\u4e9b\u7279\u6b8a\u7684\u90e8\u5206\u9650\u5236\u8bbf\u95ee,\u4f8b\u5982\u53ea\u6709\u6ce8\u518c\u7528\u6237\u624d\u80fd\u589e\u52a0\u76ee\u5f55\u548c\u9875\u9762.\u5728Django\u91cc\u6211\u4eec\u6709\u4e24\u79cd\u65b9\u6cd5\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd:   \u901a\u8fc7\u68c0\u67e5 request \u5bf9\u8c61\u548c\u68c0\u67e5\u7528\u6237\u662f\u5426\u767b\u5f55.  \u7528\u4e00\u4e2a\u65b9\u4fbf\u7684\u88c5\u9970\u5668\u6765\u68c0\u67e5\u7528\u6237\u662f\u5426\u767b\u5f55.   \u7b2c\u4e00\u4e2a\u662f\u901a\u8fc7 user.is_authenticated() \u65b9\u6cd5\u67e5\u770b\u7528\u6237\u662f\u5426\u767b\u5f55. user \u5bf9\u8c61\u662f\u901a\u8fc7 request \u5bf9\u8c61\u4f20\u9012\u7ed9\u89c6\u56fe\u7684.\u4e0b\u9762\u662f\u7b80\u5355\u7684\u4f8b\u5b50.  available via the request object passed into a view. The following example demonstrates this approach.\n\ndef some_view(request):\n    if not request.user.is_authenticated():\n        return HttpResponse( You are logged in. )\n    else:\n        return HttpResponse( You are not logged in. )  \u7b2c\u4e8c\u4e2a\u662f\u4f7f\u7528\u4e86 python\u88c5\u9970\u5668 .\u88c5\u9970\u5668\u662f\u7531 \u540c\u540d\u7684\u8f6f\u4ef6\u8bbe\u8ba1\u6a21\u5f0f \u547d\u540d\u7684.\u5b83\u4eec\u53ef\u4ee5\u52a8\u6001\u7684\u4fee\u6539\u4e00\u4e2a\u51fd\u6570,\u65b9\u6cd5\u6216\u8005\u7c7b\u800c\u4e0d\u7528\u53bb\u76f4\u63a5\u4fee\u6539\u5b83\u4eec\u7684\u6e90\u4ee3\u7801.  Django\u63d0\u4f9b\u4e86\u53eb\u505a login_required() \u7684\u88c5\u9970\u5668,\u5b83\u53ef\u4ee5\u5728\u89c6\u56fe\u91cc\u8981\u6c42\u7528\u6237\u8fdb\u884c\u767b\u5f55.\u5982\u679c\u4e00\u4e2a\u7528\u6237\u6ca1\u6709\u767b\u5f55\u5e76\u4e14\u5c1d\u8bd5\u8bbf\u95ee\u4e00\u4e2a\u89c6\u56fe,\u90a3\u4e48\u8fd9\u4e2a\u7528\u6237\u5c06\u4f1a\u91cd\u5b9a\u5411\u5230\u4f60\u8bbe\u5b9a\u7684\u9875\u9762,\u901a\u5e38\u662f\u4e00\u4e2a\u767b\u5f55\u9875\u9762.  9.6.1 \u4f7f\u7528\u88c5\u9970\u5668\u8fdb\u884c\u9650\u5236\u8bbf\u95ee  \u6211\u4eec\u5c1d\u8bd5\u5728 views.py \u6587\u4ef6\u91cc\u8c03\u7528 retricted() ,\u4ee3\u7801\u5982\u4e0b:  @login_required\ndef restricted(request):\n    return HttpResponse( Since you're logged in, you can see this text! )  \u8fd9\u91cc\u6211\u4eec\u7528\u4e86\u4e00\u4e2a\u88c5\u9970\u5668,\u5b83\u4f4d\u4e8e\u51fd\u6570\u5b9a\u4e49\u524d,\u5e76\u4e14\u7528@\u7b26\u53f7\u5f00\u5934.Python\u4f1a\u5728\u6267\u884c\u51fd\u6570/\u65b9\u6cd5\u524d\u6267\u884c\u88c5\u9970\u5668.\u5728\u4f7f\u7528\u88c5\u9970\u5668\u524d\u540c\u6837\u9700\u8981\u5bfc\u5165,\u50cf\u4e0b\u9762\u4e00\u6837\u5bfc\u5165:  from django.contrib.auth.decorators import login_required  \u540c\u6837\u7684\u8fd8\u662f\u8981\u5728 urls.py \u6587\u4ef6\u7684 urlpatterns \u5143\u7ec4\u8fdb\u884c\u4fee\u6539.\u6211\u4eec\u7684\u5143\u7ec4\u770b\u8d77\u6765\u548c\u4e0b\u9762\u7684\u4f8b\u5b50\u4e00\u6837.  urlpatterns = patterns('',\n    url(r'^$', views.index, name='index'),\n    url(r'^add_category/$', views.add_category, name='add_category'),\n    url(r'^register/$', views.register, name='register'),\n    url(r'^login/$', views.user_login, name='login'),\n    url(r'^(?P category_name_slug \\w+)', views.category, name='category'),\n    url(r'^restricted/', views.restricted, name='restricted'),\n    )  \u6211\u4eec\u540c\u6837\u9700\u8981\u5904\u7406\u7528\u6237\u672a\u767b\u5f55\u65f6\u7684 restricted() \u89c6\u56fe.\u6211\u4eec\u600e\u4e48\u505a\u5462?\u6700\u7b80\u5355\u7684\u5c31\u662f\u91cd\u5b9a\u5411\u7528\u6237\u7684\u6d4f\u89c8\u5668.Django\u5141\u8bb8\u6211\u4eec\u81ea\u5b9a\u4e49\u9879\u76ee\u91cc\u7684 settings.py \u6587\u4ef6.\u5728 settings.py \u6587\u4ef6\u91cc\u8bbe\u7f6e LOGIN_URL \u53d8\u91cf\u4e3a\u6211\u4eec\u5e0c\u671b\u8df3\u8f6c\u7684URL,\u4f8b\u5982\u767b\u5f55\u9875\u4f4d\u4e8e /rango/login/ :  LOGIN_URL = '/rango/login/'  \u8fd9\u5c31\u786e\u4fdd\u7528\u6237\u5728\u6ca1\u6709\u767b\u5f55\u7684\u60c5\u51b5\u4e0b\u76f4\u63a5\u8df3\u8f6c\u81f3 /rango/login/ .", 
            "title": "9.6 \u9650\u5236\u8bbf\u95ee"
        }, 
        {
            "location": "/#97", 
            "text": "\u786e\u4fdd\u7528\u6237\u80fd\u591f\u4f18\u96c5\u7684\u6ce8\u9500\u9700\u8981\u7ed9\u7528\u6237\u63d0\u4f9b\u6ce8\u9500\u7684\u9009\u9879.Django\u7684 logout() \u51fd\u6570\u5c06\u4f1a\u786e\u4fdd\u7528\u6237\u6ce8\u9500,\u4ee5\u53ca\u7ec8\u6b62\u5b83\u4eec\u7684ession,\u5982\u679c\u7528\u6237\u968f\u540e\u7ee7\u7eed\u8bbf\u95ee\u89c6\u56fe,\u5c06\u4f1a\u62d2\u7edd\u5b83\u4eec\u7684\u8bf7\u6c42.  \u5728 rango/views.py \u4e2d\u52a0\u5165 user_logout() \u51fd\u6570:  from django.contrib.auth import logout\n\n# Use the login_required() decorator to ensure only those logged in can access the view.\n@login_required\ndef user_logout(request):\n    # Since we know the user is logged in, we can now just log them out.\n    logout(request)\n\n    # Take the user back to the homepage.\n    return HttpResponseRedirect('/rango/')  \u540c\u6837\u6211\u4eec\u9700\u8981\u7ed9 user_logout() \u6dfb\u52a0URL\u6620\u5c04,\u6253\u5f00 urls.py \u6587\u4ef6\u4fee\u6539 urlpaatterns \u5143\u7ec4:  urlpatterns = patterns('',\n    url(r'^$', views.index, name='index'),\n    url(r'^about/$', views.about, name='about'),\n    url(r'^category/(?P category_name_slug \\w+)$', views.category, name='category'),\n    url(r'^add_category/$', views.add_category, name='add_category'),\n    url(r'^category/(?P category_name_slug \\w+)/add_page/$', views.add_page, name='add_page'),\n    url(r'^register/$', views.register, name='register'),\n    url(r'^login/$', views.user_login, name='login'),\n    url(r'^restricted/$', views.restricted, name='restricted'),\n    url(r'^logout/$', views.user_logout, name='logout'),\n    )  \u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u5b8c\u6210\u4e86\u7528\u6237\u6ce8\u9500\u7684\u529f\u80fd,\u6211\u4eec\u9700\u8981\u5728\u4e3b\u9875\u4e0a\u521b\u5efa\u4e00\u4e2a\u94fe\u63a5,\u5f53\u7528\u6237\u70b9\u51fb\u5373\u53ef\u8fdb\u884c\u6ce8\u9500.\u4f46\u662f\u5bf9\u4e8e\u6ca1\u6709\u767b\u5f55\u7684\u7528\u6237\u6765\u8bf4\u8fd9\u4e2a\u94fe\u63a5\u5c31\u6beb\u65e0\u610f\u4e49\u4e86.\u6700\u597d\u662f\u8fd9\u6837\u5f53\u7528\u6237\u6ca1\u6709\u767b\u5f55\u65f6\u6211\u4eec\u53ef\u4ee5\u63d0\u4f9b\u4e00\u4e2a\u6ce8\u518c\u7684\u94fe\u63a5.  \u548c\u524d\u9762\u7684\u7ae0\u8282\u4e00\u6837,\u6211\u4eec\u9700\u8981\u4fee\u6539 index.html \u6a21\u677f,\u4f7f\u7528\u6a21\u677f\u4e0a\u4e0b\u6587\u4e2d\u7684 user \u5bf9\u8c61\u6765\u51b3\u5b9a\u6211\u4eec\u9700\u8981\u73b0\u5b9e\u4ec0\u4e48\u94fe\u63a5.\u5728\u9875\u9762\u5e95\u90e8\u627e\u5230\u94fe\u63a5\u5217\u8868\u7528\u4e0b\u9762\u7684HTML\u4ee3\u66ff\u5b83.\u6ce8\u610f\u522b\u5fd8\u4e86\u52a0\u5165\u6ce8\u518c\u9875\u9762\u7684\u94fe\u63a5 /rango/restricted/ .  {% if user.is_authenticated %} a href= /rango/restricted/ Restricted Page /a br /  a href= /rango/logout/ Logout /a br / \n{% else %} a href= /rango/register/ Register Here /a br /  a href= /rango/login/ Login /a br / \n{% endif %} a href= /rango/about/ About /a br/  a href= /rango/add_category/ Add a New Category /a br /   \u5f53\u7528\u6237\u9a8c\u8bc1\u767b\u5f55\u540e,\u5c31\u80fd\u770b\u5230 Restricted Page \u548c Logout \u94fe\u63a5.\u5982\u679c\u7528\u6237\u6ca1\u6709\u767b\u5f55,\u5c31\u4f1a\u663e\u793a Register Here \u548c Login . About \u548c Add a New Category \u5e76\u4e0d\u5728\u6a21\u677f\u7684\u6761\u4ef6\u4ee3\u7801\u91cc,\u8fd9\u4e24\u4e2a\u94fe\u63a5\u5728\u7528\u6237\u533f\u540d\u6216\u767b\u5f55\u65f6\u90fd\u53ef\u4ee5\u770b\u89c1.", 
            "title": "9.7 \u6ce8\u9500"
        }, 
        {
            "location": "/#98", 
            "text": "\u8fd9\u7ae0\u4e3b\u8981\u8bb2\u8ff0\u5728Django\u91cc\u5982\u4f55\u7ba1\u7406\u7528\u6237\u9a8c\u8bc1.\u5728\u6211\u4eec\u7684\u9879\u76ee\u91cc\u8bb2\u8ff0\u4e86\u5982\u4f55\u5b89\u88c5Django django.contrib.auth \u5e94\u7528.\u53e6\u5916,\u6211\u4eec\u4e5f\u5c55\u793a\u4e86\u5982\u4f55\u5728 django.contrib.auth.models.User \u6a21\u578b\u91cc\u52a0\u5165\u7528\u6237\u4e2a\u4eba\u6a21\u578b\u7684\u989d\u5916\u5b57\u6bb5.\u6211\u4eec\u8fd8\u8be6\u7ec6\u7684\u5217\u51fa\u7528\u6237\u5982\u4f55\u6ce8\u518c,\u767b\u5f55,\u6ce8\u9500\u548c\u8bbf\u95ee\u9650\u5236.\u66f4\u591a\u4fe1\u606f\u8bf7\u770b Django\u2019s official documentation on Authentication .   \u5b9a\u5236\u4f60\u7684\u5e94\u7528,\u53ea\u6709\u6ce8\u518c\u7528\u6237\u624d\u80fd\u6dfb\u52a0/\u4fee\u6539\u76ee\u5f55/\u9875\u9762,\u975e\u6ce8\u518c\u7528\u6237\u53ea\u80fd\u6d4f\u89c8/\u4f7f\u7528\u76ee\u5f55/\u9875\u9762.\u4f60\u4e5f\u53ef\u4ee5\u5b9a\u5236\u589e\u52a0/\u4fee\u6539\u9875\u9762\u7684\u94fe\u63a5\u5728\u53ea\u6709\u7528\u6237\u767b\u5f55\u65f6\u624d\u4f1a\u5c55\u793a.  \u5f53\u7528\u6237\u8f93\u5165\u9519\u8bef\u7528\u6237\u540d\u548c\u5bc6\u7801\u65f6\u63d0\u4f9b\u9519\u8bef\u901a\u77e5.   \u5728\u5927\u591a\u6570\u5e94\u7528\u4e2d,\u4f60\u8981\u6ce8\u518c\u548c\u7ba1\u7406\u7528\u6237\u65f6\u9700\u8981\u8bf7\u6c42\u4e0d\u540c\u7684\u5b89\u5168\u7ea7\u522b - \u4f8b\u5982,\u786e\u4fdd\u7528\u6237\u6709\u6743\u9650\u8f93\u5165\u90ae\u7bb1\u5730\u5740,\u6216\u8005\u53d1\u9001\u7ed9\u7528\u6237\u88ab\u5fd8\u8bb0\u7684\u5bc6\u7801.\u867d\u7136\u6211\u4eec\u53ef\u4ee5\u81ea\u5df1\u8fdb\u884c\u5f00\u53d1\u6765\u5b9e\u73b0\u8fd9\u4e9b\u529f\u80fd\u4f46\u662f django-registration-redux \u5e94\u7528\u5df2\u7ecf\u5f88\u597d\u7684\u5b9e\u73b0\u4e86\u8fd9\u4e00\u529f\u80fd - \u8bbf\u95ee https://django-registration-redux.readthedocs.org \u67e5\u770b\u66f4\u591a\u7ec6\u8282.\u6a21\u677f\u53ef\u4ee5\u5728\u8fd9\u91cc\u627e\u5230:https://github.com/macdhuibh/django-registration-templates", 
            "title": "9.8 \u7ec3\u4e60"
        }, 
        {
            "location": "/#10", 
            "text": "\u5230\u76ee\u524d\u4e3a\u6b62\u6211\u4eec\u5df2\u7ecf\u4e3a\u6211\u4eec\u5e94\u7528\u91cc\u8bb8\u591a\u7684\u4e0d\u7528\u9875\u9762\u521b\u5efa\u4e86Django HTML\u6a21\u677f.\u53ef\u80fd\u4f60\u5df2\u7ecf\u6ce8\u610f\u5230\u4e86\u5728\u6a21\u677f\u91cc\u6709\u8bb8\u591a\u91cd\u590d\u7684HTML\u4ee3\u7801.  \u5927\u591a\u6570\u7f51\u7ad9\u5c06\u4f1a\u6709\u5927\u91cf\u91cd\u590d\u7684\u7ed3\u6784(\u4f8b\u5982\u9876\u90e8,\u5219\u8fb9\u680f,\u5e95\u90e8\u7b49\u7b49),\u5728\u6bcf\u4e2a\u6a21\u677f\u4e2d\u91cd\u590d\u8fd9\u4e9bHTML\u53ef\u4e0d\u662f\u4e00\u4e2a\u597d\u7684\u65b9\u6cd5.\u5728Django\u6a21\u677f\u8bed\u8a00\u4e2d\u4f7f\u7528\u5b83\u63d0\u4f9b\u7684\u7ee7\u627f\u529f\u80fd\u53ef\u4ee5\u51cf\u5c11\u4ee3\u7801\u5927\u91cf\u7684\u5197\u4f59,\u800c\u4e0d\u662f\u505a\u5927\u91cf\u7684\u91cd\u590d\u590d\u5236\u548c\u7c98\u8d34.  \u57fa\u672c\u7684\u6a21\u677f\u7ee7\u627f\u6b65\u9aa4\u5982\u4e0b:   \u5b9a\u4e49\u5e94\u7528\u91cc\u6bcf\u4e2a\u9875\u9762\u91cd\u590d\u51fa\u73b0\u7684\u90e8\u5206(\u4f8b\u5982\u6807\u9898\u680f,\u4fa7\u8fb9\u680f,\u5e95\u90e8,\u5185\u5bb9\u7a97\u683c)  \u5728\u57fa\u7840\u6a21\u677f\u91cc\u63d0\u4f9b\u9875\u9762\u57fa\u672c\u7684\u6846\u67b6\u548c\u901a\u7528\u5185\u5bb9(\u4f8b\u5982\u5728\u9875\u5e95\u7684\u7248\u6743\u58f0\u660e,\u4ee5\u53ca\u9875\u9762\u4e2d\u7684\u6807\u8bc6\u548c\u6807\u9898),\u7136\u540e\u5b9a\u4e49\u4e00\u4e9b\u4ee3\u7801\u6bb5,\u7528\u6237\u53ef\u4ee5\u5b9a\u4e49\u9700\u8981\u7684\u4ee3\u7801\u6bb5.  \u521b\u5efa\u5177\u4f53\u7684\u6a21\u677f - \u5b83\u4eec\u90fd\u7ee7\u627f\u81ea\u57fa\u7840\u6a21\u677f - \u5e76\u4e14\u5236\u5b9a\u6bcf\u4e2a\u5757\u7684\u5185\u5bb9.", 
            "title": "10 \u4f7f\u7528\u6a21\u677f"
        }, 
        {
            "location": "/#10-1-html", 
            "text": "\u5f88\u660e\u663e\u6211\u4eec\u521b\u5efa\u7684\u51e0\u4e2a\u6a21\u677f\u90fd\u6709\u5f88\u591a\u91cd\u590d\u7684HTML\u4ee3\u7801.\u4e0b\u9762\u6211\u4eec\u62bd\u79bb\u51fa\u6bcf\u4e2a\u6a21\u677f\u4e2d\u90fd\u91cd\u590d\u7684\u90e8\u5206.  !DOCTYPE html  html \n     head \n         title Rango /title \n     /head \n\n     body \n         !-- Page specific content goes here -- \n     /body  /html   \u4ece\u73b0\u5728\u5f00\u59cb\u8ba9\u5b83\u505a\u6211\u4eec\u7684\u57fa\u7840\u6a21\u677f,\u5e76\u4e14\u5305\u5b58\u5728 templates \u76ee\u5f55\u7684 base.html \u6587\u4ef6(\u4f8b\u5982  templates/base.html )   Note  \u5e94\u5f53\u5c3d\u53ef\u80fd\u591a\u7684\u62bd\u79bb\u51fa\u91cd\u590d\u7684\u5185\u5bb9.\u867d\u7136\u5728\u5f00\u59cb\u7684\u65f6\u5019\u4f1a\u6709\u4e00\u4e9b\u56f0\u96be,\u4f46\u662f\u4e00\u65e6\u505a\u5b8c\u4ee5\u540e\u4f1a\u7701\u4e0b\u5927\u91cf\u7684\u65f6\u95f4.\u60f3\u60f3\u5427:\u4f60\u5e0c\u671b\u770b\u5230\u8bb8\u591a\u540c\u6837\u4ee3\u7801\u7684\u62f7\u8d1d\u5417?    Warning  !DOCTYPE html \u5fc5\u987b\u653e\u5728\u9875\u9762\u7684\u7b2c\u4e00\u884c!\u4e0d\u8fd9\u6837\u505a\u5c06\u610f\u5473\u7740\u4f60\u7684\u6807\u8bb0\u4e0d\u7b26\u5408W3C HTML5\u51c6\u5219\u3002", 
            "title": "10 .1 \u91cd\u590d\u7684HTML\u548c\u57fa\u7840\u6a21\u677f"
        }, 
        {
            "location": "/#102", 
            "text": "\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u5b9a\u4e49\u4e86\u6211\u4eec\u7684\u57fa\u7840\u6a21\u677f,\u6211\u4eec\u53ef\u4ee5\u628a\u5b83\u53d8\u4e3a\u6211\u4eec\u9700\u8981\u7ee7\u627f\u7684\u6a21\u677f.\u6211\u4eec\u9700\u8981\u5728\u6a21\u677f\u4e2d\u52a0\u5165\u4e00\u4e2a\u6a21\u677f\u6807\u7b7e\u4ee5\u4fbf\u4e8e\u6211\u4eec\u80fd\u5728\u57fa\u7840\u6a21\u677f\u91cc\u91cd\u5199 - \u8fd9\u9700\u8981\u7528\u5230 blocks .  \u5728\u57fa\u7840\u6a21\u677f\u91cc\u589e\u52a0 body_block \u5982\u4e0b.  !DOCTYPE html  html \n     head lang= en \n         meta charset= UTF-8 \n         title Rango /title \n     /head \n\n     body \n        {% block body_block %}{% endblock %}\n     /body  /html   \u7528 {% \u548c %} \u6807\u7b7e\u8c03\u7528\u6807\u51c6\u7684Django\u6a21\u677f\u547d\u4ee4.\u4e3a\u4e86\u5f00\u542f\u4e00\u4e2a\u5757,\u6a21\u677f\u547d\u4ee4\u662f block  NAME ,\u8fd9\u91cc NAME \u662f\u4f60\u5e0c\u671b\u521b\u5efa\u5757\u7684\u540d\u5b57.\u6700\u540e\u9700\u8981\u4fdd\u8bc1\u7528 endblock \u547d\u4ee4\u5173\u95ed\u5757.  \u4f60\u4e5f\u53ef\u4ee5\u518d\u5757\u4e2d\u8bbe\u7f6e'\u9ed8\u8ba4\u5185\u5bb9',\u4f8b\u5982:  {% block body_block %}This is body_block's default content.{% endblock %}  \u5f53\u6211\u4eec\u521b\u5efa\u6a21\u677f\u65f6\u6211\u4eec\u4f1a\u7ee7\u627f base.html \u548c\u91cd\u5199 body_block \u91cc\u7684\u5185\u5bb9.\u4f60\u4e5f\u53ef\u4ee5\u5728\u6a21\u677f\u4e2d\u653e\u7f6e\u66f4\u591a\u7684\u5757,\u4f8b\u5982,\u4f60\u53ef\u4ee5\u5206\u522b\u4e3a\u9875\u9762\u6807\u9898,\u5e95\u90e8,\u4fa7\u8fb9\u680f\u8bbe\u7f6e\u5757.Django\u6a21\u677f\u7cfb\u7edf\u4e2d\u7684\u5757\u5341\u5206\u7684\u6709\u7528,  official Django documentation on templates \u67e5\u770b\u66f4\u591a\u5185\u5bb9.  10.2.1 \u66f4\u591a\u7684\u62bd\u8c61  \u65e2\u7136\u5df2\u7ecf\u7406\u89e3\u4e86Django\u5757,\u8ba9\u6211\u4eec\u62bd\u8c61\u51fa\u66f4\u591a\u7684\u57fa\u7840\u6a21\u677f.\u91cd\u65b0\u6253\u5f00 base.html \u6a21\u677f\u4fee\u6539\u5982\u4e0b.  !DOCTYPE html  html \n     head \n         title Rango - {% block title %}How to Tango with Django!{% endblock %} /title \n     /head \n\n     body \n         div \n            {% block body_block %}{% endblock %}\n         /div \n\n         hr / \n\n         div \n             ul \n            {% if user.is_authenticated %}\n                 li a href= /rango/restricted/ Restricted Page /a /li \n                 li a href= /rango/logout/ Logout /a /li \n                 li a href= /rango/add_category/ Add a New Category /a /li \n            {% else %}\n                 li a href= /rango/register/ Register Here /a /li \n                 li a href= /rango/login/ Login /a /li \n            {% endif %}\n\n                 li a href= /rango/about/ About /a /li \n             /ul \n         /div \n     /body  /html   \u6211\u4eec\u5728\u6a21\u677f\u4e2d\u5f15\u5165\u4e24\u4e2a\u65b0\u7684\u7279\u6027.   \u7b2c\u4e00\u4e2a\u662f\u52a0\u5165\u65b0\u7684Django\u6a21\u677f\u5757 title .\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u4e3a\u7ee7\u627f\u81ea\u57fa\u7840\u6a21\u677f\u7684\u9875\u9762\u5b9a\u5236\u6807\u9898.\u5982\u679c\u9875\u9762\u6ca1\u6709\u4f7f\u7528\u8fd9\u4e2a\u5757,\u90a3\u4e48\u8fd9\u4e2a\u6807\u9898\u4f1a\u9ed8\u8ba4\u4e3a Rango - How to Tango with Django! .  \u6211\u4eec\u4e5f\u53ef\u4ee5\u628a index.html \u6a21\u677f\u4e2d\u7684\u94fe\u63a5\u5217\u8868\u52a0\u5165\u5230 body_block \u5757\u7684\u540e\u90e8.\u8fd9\u5c06\u4f1a\u4e3a\u6240\u6709\u7ee7\u627f\u57fa\u7840\u6a21\u677f\u7684\u9875\u9762\u5c55\u793a\u8fd9\u4e9b\u94fe\u63a5.\u53ef\u4ee5\u5728 body_block \u5185\u5bb9\u548c\u94fe\u63a5\u4e4b\u95f4\u52a0\u5165\u4e00\u4e2a\u6c34\u5e73\u7ebf( )\u4ee5\u4fbf\u6211\u4eec\u533a\u5206\u8fd9\u4e24\u90e8\u5206.   \u6ce8\u610f\u6211\u4eec\u7684 body_block \u5305\u542b\u5728HTML div \u6807\u7b7e\u91cc - \u6211\u4eec\u5c06\u5728[24\u7ae0][24]\u89e3\u91ca div \u610f\u4e49.\u6211\u4eec\u7684\u94fe\u63a5\u540c\u6837\u4f7f\u7528 ul \u548c li \u6807\u7b7e\u5305\u542b\u5728HTML\u65e0\u5e8f\u5217\u8868\u91cc.", 
            "title": "10.2 \u6a21\u677f\u5757"
        }, 
        {
            "location": "/#103", 
            "text": "\u6211\u4eec\u5df2\u7ecf\u521b\u5efa\u4e86\u5e26\u5757\u7684\u57fa\u7840\u6a21\u677f,\u73b0\u5728\u6211\u4eec\u9700\u8981\u4fee\u6539\u90a3\u4e9b\u7ee7\u627f\u57fa\u7840\u6a21\u677f\u7684\u6a21\u677f.\u4f8b\u5982,\u8ba9\u6211\u4eec\u91cd\u6784 rango/category.html \u6a21\u677f.  \u9996\u5148\u6211\u4eec\u9700\u8981\u79fb\u9664\u6240\u6709\u91cd\u590d\u7684HTML\u4ee3\u7801\u548c\u6a21\u677f\u6807\u7b7e/\u547d\u4ee4.\u7136\u540e\u52a0\u5165\u4ee3\u7801:  {% extends 'base.html' %}  extends \u547d\u4ee4\u643a\u5e26\u4e00\u4e2a\u53c2\u6570,\u8fd9\u4e2a\u53c2\u6570\u662f\u8981\u7ee7\u627f\u7684\u6a21\u677f(\u4f8b\u5982 rango/base.html).\u7136\u540e\u4fee\u6539 category.html \u6a21\u677f\u5982\u4e0b.   Note  \u63d0\u4f9b\u7ed9 extends \u547d\u4ee4\u7684\u53c2\u6570\u7684\u9ed8\u8ba4\u8def\u5f84\u662f\u9879\u76ee\u7684 templates \u76ee\u5f55.\u4f8b\u5982,Rango\u6240\u6709\u6a21\u677f\u5e94\u5f53\u662f\u4ece rango/base.html \u6269\u5c55\u800c\u4e0d\u662f base.html .   {% extends 'base.html' %}\n\n{% load staticfiles %}\n\n{% block title %}{{ category_name }}{% endblock %}\n\n{% block body_block %}\n     h1 {{ category_name }} /h1 \n    {% if category %}\n        {% if pages %}\n         ul \n                {% for page in pages %}\n                 li a href= {{ page.url }} {{ page.title }} /a /li \n                {% endfor %}\n                 /ul \n        {% else %}\n                 strong No pages currently in category. /strong \n                {% endif %}\n\n        {% if user.is_authenticated %}\n                 a href= /rango/category/{{category.slug}}/add_page/ Add a Page /a \n                {% endif %}\n        {% else %}\n                 The specified category {{ category_name }} does not exist!\n    {% endif %}\n\n{% endblock %}  \u5728 category.html \u6a21\u677f\u91cc\u4f7f\u7528 extends \u547d\u4ee4\u6765\u7ee7\u627f base.html .\u5728\u8fd9\u91cc\u4f60\u4e0d\u9700\u8981\u5199\u4e00\u4e2a\u5b8c\u6574\u7684HTML\u6587\u6863,\u56e0\u4e3a base.html \u5df2\u7ecf\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5b8c\u6574\u7684\u6846\u67b6.\u4f60\u53ea\u8981\u628a\u589e\u6dfb\u7684\u5185\u5bb9\u5199\u5230\u57fa\u7840\u6a21\u677f\u91cc,\u5b83\u5c31\u4f1a\u521b\u5efa\u4e00\u4e2a\u5b8c\u6574\u7684HTML\u6587\u6863\u53d1\u9001\u7ed9\u7528\u6237\u6d4f\u89c8\u5668.   Note  \u6a21\u677f\u975e\u5e38\u5f3a\u5927,\u4f60\u751a\u81f3\u53ef\u4ee5\u521b\u5efa\u4f60\u81ea\u5df1\u7684\u6a21\u677f\u6807\u7b7e.\u5728\u8fd9\u91cc\u6211\u4eec\u5c06\u6f14\u793a\u5982\u4f55\u51cf\u5c0f\u6a21\u677f\u91cc\u91cd\u590d\u7684HTML\u7ed3\u6784.   \u7136\u800c,\u6a21\u677f\u53ef\u4ee5\u51cf\u5c0f\u5e94\u7528\u89c6\u56fe\u91cc\u7684\u4ee3\u7801.\u4f8b\u5982,\u5982\u679c\u4f60\u60f3\u5728\u4f60\u7684\u5e94\u7528\u589e\u52a0\u4e00\u4e9b\u76f8\u540c\u7684\u6570\u636e\u5e93\u9a71\u52a8\u7684\u5185\u5bb9,\u4f60\u9700\u8981\u8c03\u7528\u7279\u5b9a\u7684\u89c6\u56fe\u6765\u5904\u7406\u7f51\u9875\u4e2d\u91cd\u590d\u7684\u90e8\u5206.\u8fd9\u6837\u5728\u6bcf\u4e2a\u89c6\u56fe\u91cc\u5c31\u4e0d\u7528\u91cd\u590d\u8c03\u7528Django ORM\u51fd\u6570\u6765\u6536\u96c6\u6570\u636e\u4e86.\n\u67e5\u770b\u66f4\u591a\u5185\u5bb9\u8bf7\u67e5\u770b  Django documentation on templates .", 
            "title": "10.3 \u6a21\u677f\u7ee7\u627f"
        }, 
        {
            "location": "/#104-url", 
            "text": "\u5230\u76ee\u524d\u4e3a\u6b62\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u7684\u5728\u6a21\u677f\u91cc\u952e\u5165\u9875\u9762/\u89c6\u56fe\u7684URL,\u4f8b\u5982 a href=\"/rango/about/\"  About   /a .\u7136\u800c\u6700\u597d\u7684\u65b9\u5f0f\u662f\u4f7f\u7528 url \u6a21\u677f\u6807\u7b7e\u6765\u67e5\u627e\u5728 urls.py \u6587\u4ef6\u4e2d\u7684url.\u6211\u4eec\u9700\u8981\u6539\u5199\u4e00\u4e0b.  li a href= {% url 'about' %} About /a /li   \u5728\u8fd9\u91cc\u6211\u4eec\u8981\u6307\u5b9a\u5e94\u7528\u548cabout\u89c6\u56fe.  \u73b0\u5728\u53ef\u4ee5\u4fee\u6539\u57fa\u7840\u6a21\u677f\u7684 url \u6a21\u677f\u6807\u7b7e:  div \n         ul \n    {% if user.is_authenticated %}\n         li a href= {% url 'restricted' %} Restricted Page /a /li \n         li a href= {% url 'logout' %} Logout /a /li \n         li a href= {% url 'add_category' %} Add a New Category /a /li \n    {% else %}\n         li a href= {% url 'register' %} Register Here /a /li \n         li a href= {% url 'login' %} Login /a /li \n    {% endif %}\n\n     li a href= {% url 'about' %} About /a /li \n     /ul  /div   \u5728\u6211\u4eec\u7684 index.html \u6a21\u677f\u91cc\u6709\u4e00\u4e2a\u5e26\u53c2\u6570\u7684url\u6a21\u5f0f,\u4f8b\u5982 category \u4f1a\u5e26\u4e00\u4e2a category.slug \u53c2\u6570.\u5728\u8fd9\u91cc\u4f60\u53ef\u4ee5\u4f7f\u7528\u6a21\u677f\u6807\u7b7e\u6765\u4f20\u9012\u8fd9\u4e2a category.slug \u53c2\u6570,\u4f8b\u5982\u5728\u6a21\u677f\u91cc\u5199\u5165 {% url \u2018category\u2019 category.slug %} :  {% for category in categories %}\n     li a href= {% url 'category'  category.slug %} {{ category.name }} /a /li \n{% endfor %}  TODO(leifos):\u5b98\u65b9\u63d0\u4f9b\u7684\u5982\u4f55\u4f7f\u7528\u6a21\u677f\u6807\u7b7e,http://django.readthedocs.org/en/latest/intro/tutorial03.html \u8fd9\u4e2astackoverflow\u4e5f\u5f88\u6709\u5e2e\u52a9 http://stackoverflow.com/questions/4599423/using-url-in-django-templates  TODO(leifos):\u6307\u51fa\u5982\u4f55\u628aurl\u653e\u5230\u4e00\u4e2a\u547d\u540d\u7a7a\u95f4\u5e76\u5f15\u7528,\u89c1http://django.readthedocs.org/en/latest/intro/tutorial03.html", 
            "title": "10.4 \u6a21\u677f\u91cc\u52a0\u5165URL"
        }, 
        {
            "location": "/#105", 
            "text": "\u5b8c\u6210\u4e0b\u9762\u7684\u7ec3\u4e60\u4f60\u5c06\u4f1a\u6210\u4e3aDjango\u6a21\u677f\u4e13\u5bb6.   \u66f4\u6539\u6240\u6709\u6a21\u677f\u4f7f\u4ed6\u4eec\u90fd\u7ee7\u627f base.html \u6a21\u677f.\u6b65\u9aa4\u548c\u4e0a\u9762\u7684\u4f8b\u5b50\u4e00\u6837.\u5c31\u548c\u4e0b\u56fe\u4e00\u6837,\u6240\u6709\u7684\u6a21\u677f\u90fd\u4f1a\u7ee7\u627f base.html .\u5f53\u5b8c\u6210\u540e\u8bb0\u5f97\u5220\u9664 index.html \u6a21\u677f\u91cc\u7684\u94fe\u63a5.\u6211\u4eec\u4e0d\u518d\u9700\u8981\u5b83\u4eec\u4e86!\u4f60\u4e5f\u53ef\u4ee5\u79fb\u9664\u5728 about.html \u6a21\u677f\u91cc\u7684\u94fe\u63a5.  \u5728\u9650\u5236\u9875\u9762\u4f7f\u7528\u6a21\u677f.\u6a21\u677f\u53d6\u540d\u4e3a restricted.html ,\u5e76\u4e14\u4fdd\u8bc1\u5b83\u4e5f\u7ee7\u627f base.html \u6a21\u677f.  \u4f7f\u7528url\u6a21\u677f\u6807\u7b7e\u4ee3\u66ff\u6240\u6709\u7684url.  \u6dfb\u52a0\u4e00\u4e2a\u5730\u5740\u4f7f\u7528\u6237\u4e0d\u8bba\u5728\u7f51\u7ad9\u7684\u54ea\u4e2a\u4f4d\u7f6e\u90fd\u80fd\u8fd4\u56de\u5230\u4e3b\u9875.    Warning  \u8bb0\u5f97\u5728\u6bcf\u4e2a\u6a21\u677f\u5934\u90e8\u52a0\u5165 {% load static %} \u4ee5\u4f7f\u7528\u9759\u6001\u5a92\u4f53.\u5982\u679c\u6ca1\u6709\u8fd9\u6837\u505a,\u5c06\u4f1a\u4ea7\u751f\u4e00\u4e2a\u9519\u8bef!Django\u6a21\u677f\u6a21\u5757\u9700\u8981\u5206\u522b\u5355\u72ec\u5bfc\u5165 - \u4f60\u4e0d\u53ef\u4ee5\u8c03\u7528\u5728\u4f60\u6269\u5c55\u7684\u6a21\u677f\u91cc\u7684\u6a21\u5757.     Note  \u5b8c\u6210\u4e0a\u9762\u7684\u7ec3\u4e60\u540e,\u6240\u6709Rango\u7684\u6a21\u677f\u90fd\u4f1a\u7ee7\u627f bashe .html.\u8ba9\u6211\u4eec\u56de\u8fc7\u5934\u770b\u770b base.html \u7684\u5185\u5bb9, user \u5bf9\u8c61 - \u5728Django\u8bf7\u6c42\u7684\u4e0a\u4e0b\u6587\u4e2d - \u5c06\u4f1a\u7528\u6765\u68c0\u67e5\u5f53\u524d\u7684Rnago\u7528\u6237\u662f\u5426\u5df2\u7ecf\u767b\u5f55(\u901a\u8fc7\u4f7f\u7528 user.is_authenticated ).\u56e0\u4e3a\u6240\u6709\u7684Rango\u6a21\u677f\u90fd\u4f1a\u7ee7\u627f\u57fa\u7840\u6a21\u677f,\u6240\u4ee5\u6240\u6709\u7684Rango\u6a21\u677f\u7684\u8bbf\u95ee\u90fd\u8981\u4f9d\u8d56\u4e8e\u6240\u53d1\u9001\u8bf7\u6c42\u7684\u4e0a\u4e0b\u6587.  \u56e0\u4e3a\u8fd9\u4e2a\u65b0\u7684\u4f9d\u8d56,\u4f60\u5fc5\u987b\u68c0\u67e5\u6bcf\u4e2aRango\u7684Django\u89c6\u56fe.\u5bf9\u4e8e\u6bcf\u4e2a\u89c6\u56fe,\u786e\u4fdd\u6bcf\u4e2a\u8bf7\u6c42\u5bf9\u4e8eDjango\u6a21\u677f\u5f15\u64ce\u90fd\u662f\u53ef\u7528\u7684.\u901a\u8fc7\u8fd9\u4e2a\u6559\u7a0b,\u6211\u4eec\u901a\u8fc7 render() \u4f20\u9012\u8bf7\u6c42\u4f5c\u4e3a\u53c2\u6570\u6765\u8fbe\u5230\u8fd9\u4e2a\u76ee\u7684.\u6709\u65f6\u4f1a\u53d1\u751f\u8fd9\u6837\u7684\u60c5\u51b5,\u5982\u679c\u4f60\u7684\u8bf7\u6c42\u88ab\u9519\u8bef\u7684\u4f20\u9001\u53ef\u80fd\u51fa\u73b0\u7528\u6237\u6ca1\u6709\u767b\u5f55,\u4f46\u662fDjango\u8ba4\u4e3a\u5df2\u7ecf\u767b\u5f55.  \u8fd9\u91cc\u6211\u4eec\u4ee5 about \u89c6\u56fe\u4f5c\u4e3a\u4f8b\u5b50\u6765\u8fdb\u884c\u68c0\u67e5.\u5f00\u59cb\u7528\u786c\u7f16\u7801\u7684\u65b9\u5f0f\u8fdb\u884c,\u4ee3\u7801\u5982\u4e0b.\u6ce8\u610f\u6211\u4eec\u53ea\u53d1\u9001\u5b57\u7b26\u4e32 - \u6211\u4eec\u6ca1\u6709\u4f7f\u7528 request \u53c2\u6570.   def about(request):\n    return HttpResponse('Rango says: Here is the about page.  a href= /rango/ Index /a ')  \u4e3a\u4e86\u4f7f\u7528\u6a21\u677f\u6211\u4eec\u9700\u8981\u8c03\u7528`render`\u51fd\u6570\u4f20\u9012`request`\u5bf9\u8c61.\u8fd9\u5c06\u4f1a\u4f7f\u6211\u4eec\u7684\u6a21\u677f\u5f15\u64ce\u53ef\u4ee5\u83b7\u53d6\u50cf`user`\u8fd9\u6837\u7684\u5bf9\u8c61,\u5b83\u53ef\u4ee5\u5141\u8bb8\u6a21\u677f\u5f15\u64ce\u67e5\u770b\u7528\u6237\u662f\u5426\u767b\u5f55.(\u4f8b\u5982\u8fdb\u884c\u9a8c\u8bc1).  def about(request):\n    return render(request, 'rango/about.html', {})  \u8bb0\u4f4f,`render()`\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u5b57\u5178,\u5b83\u53ef\u4ee5\u6dfb\u52a0\u989d\u5916\u7684\u6570\u636e\u4f20\u9012\u7ed9Django\u6a21\u677f\u5f15\u64ce.\u56e0\u4e3a\u6211\u4eec\u6ca1\u6709\u4ec0\u4e48\u989d\u5916\u7684\u6570\u636e\u4f20\u9012\u7ed9\u6a21\u677f\u6240\u4ee5\u8fd9\u91cc\u4e3a\u7a7a.\u67e5\u770b[5.1.3](#51)\u7ae0\u8282\u590d\u4e60\u5173\u4e8e`render()`\u7684\u77e5\u8bc6.", 
            "title": "10.5 \u7ec3\u4e60"
        }, 
        {
            "location": "/#11-cokkiessessions", 
            "text": "\u5728\u672c\u7ae0\u4e2d\u6211\u4eec\u5c06\u8981\u4ecb\u7ecdsessions\u548ccookies,\u5b83\u4eec\u4e24\u4e2a\u5728\u73b0\u4ee3wen\u5e94\u7528\u4e2d\u6709\u7740\u81f3\u5173\u91cd\u8981\u7684\u4f5c\u7528.\u5728\u4e0a\u4e00\u7ae0,Django\u6846\u67b6\u4f7f\u7528sessions\u548ccookies\u6765\u5904\u7406\u7528\u6237\u767b\u5f55\u548c\u6ce8\u9500\u529f\u80fd(\u90fd\u5728\u80cc\u540e\u8fd0\u884c).\u8fd9\u91cc\u6211\u4eec\u5c06\u8981\u63a2\u7d22cookies\u7684\u5176\u4ed6\u7528\u9014.", 
            "title": "11 Cokkies\u548cSessions"
        }, 
        {
            "location": "/#111-cookiescookies", 
            "text": "\u5982\u679c\u4f60\u5df2\u7ecf\u719f\u77e5cookies\u7684\u6982\u5ff5\u548c\u5b83\u80cc\u540e\u7684\u8fd0\u884c\u673a\u5236,\u90a3\u4e48\u8bf7\u76f4\u63a5\u8df3\u8f6c\u5230 11.2 ,\u5982\u679c\u6ca1\u6709\u8ba9\u6211\u4eec\u7ee7\u7eed.  \u5f53\u6211\u4eec\u8bf7\u6c42\u8bbf\u95ee\u4e00\u4e2a\u7f51\u7ad9\u65f6,\u670d\u52a1\u5668\u4f1a\u8fd4\u56de\u8bf7\u6c42\u9875\u9762\u7684\u5185\u5bb9.\u53e6\u5916\u8fd8\u6709\u4e00\u4e2a\u6216\u8005\u591a\u4e2acookies\u88ab\u4f20\u9001\u7ed9\u5ba2\u6237\u7aef,\u5b83\u4eec\u5c06\u4f1a\u4fdd\u5b58\u5728\u6d4f\u89c8\u5668\u7684cache\u91cc.\u5f53\u4e00\u4e2a\u7528\u6237\u5728\u540c\u4e00\u4e2a\u7f51\u7ad9\u670d\u52a1\u5668\u8bf7\u6c42\u65b0\u7684\u9875\u9762\u65f6,\u6240\u6709\u7684\u5173\u4e8e\u8fd9\u4e2a\u9875\u9762\u7684cookies\u4e5f\u4f1a\u53d1\u9001\u5230\u8bf7\u6c42\u91cc.\u670d\u52a1\u5668\u4f1a\u89e3\u6790\u8bf7\u6c42\u91cc\u7684cookies\u5b57\u6bb5\u5e76\u4e14\u751f\u6210\u4e00\u4e2a\u7279\u5b9a\u7684\u54cd\u5e94.   \u8fd9\u91cc\u6211\u5c31\u4e0d\u7ffb\u8bd1\u4e86~~\u90fd\u662f\u4e00\u4e9b\u79d1\u666e\u4e86", 
            "title": "11.1 Cookies,\u65e0\u5904\u4e0d\u5728\u7684Cookies!"
        }, 
        {
            "location": "/#112-sessions", 
            "text": "\u6240\u6709\u7684\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u4ea4\u4e92\u90fd\u4f1a\u901a\u8fc7 HTTP\u534f\u8bae .\u901a\u8fc7 \u7b2c8\u7ae0 \u7b80\u5355\u7684\u63a5\u89e6\u6211\u4eec\u77e5\u9053HTTP\u662f \u65e0\u72b6\u6001\u534f\u8bae .\u8fd9\u5c31\u610f\u5473\u7740\u6bcf\u6b21\u5ba2\u6237\u7aef\u8bf7\u6c42(HTTP GET )\u6216\u8005\u53d1\u9001(HTTP POST )\u8d44\u6e90\u7ed9\u670d\u52a1\u5668\u90fd\u5fc5\u987b\u65b0\u5efa\u7acb\u4e00\u4e2a\u8fde\u63a5(\u4e00\u4e2aTCP\u8fde\u63a5).  \u56e0\u4e3a\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u6ca1\u6709\u6301\u7eed\u7684\u8fde\u63a5,\u4e24\u7aef\u7684\u8f6f\u4ef6\u4e0d\u80fd\u4ec5\u4ec5\u901a\u8fc7\u5355\u72ec\u7684\u8fde\u63a5\u4fdd\u6301\u4f1a\u8bdd\u72b6\u6001.\u4f8b\u5982,\u5ba2\u6237\u7aef\u6bcf\u6b21\u90fd\u9700\u8981\u544a\u8bc9\u670d\u52a1\u5668\u8c01\u5728\u8fd9\u4e2a\u4e3b\u673a\u4e0a\u767b\u5f55\u4e86\u8fd9\u4e2aweb\u5e94\u7528.\u8fd9\u5c31\u662f\u7528\u6237\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u4f1a\u8bdd,\u8fd9\u4e5f\u662fsession\u7684\u57fa\u672c -  a semi-permanent exchange of information .\u4f5c\u4e3a\u4e00\u4e2a\u65e0\u72b6\u6001\u534f\u8bae,HTTP\u9700\u8981\u4fdd\u6301\u4f1a\u8bdd\u72b6\u6001\u975e\u5e38\u7684\u56f0\u96be - \u4f46\u662f\u5f88\u8d70\u8fd0\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u51e0\u79cd\u6280\u672f\u6765\u7ed5\u8fc7\u8fd9\u4e2a\u95ee\u9898.  \u6700\u5e38\u7528\u7684\u4e00\u79cd\u4fdd\u6301\u72b6\u6001\u7684\u65b9\u6cd5\u5c31\u662f\u4f7f\u7528session ID,\u548ccookies\u4e00\u6837\u5b58\u50a8\u5728\u5ba2\u6237\u7aef\u7535\u8111.session ID\u53ef\u4ee5\u8ba4\u4e3a\u662f\u4e00\u79cd\u4ee4\u724c(\u4e00\u5927\u4e32\u5b57\u7b26\u4e32),\u5b83\u80fd\u591f\u552f\u4e00\u6807\u8bc6\u7279\u5b9aweb\u5e94\u7528\u91cc\u7684\u4f1a\u8bdd.\u548ccookies\u5b58\u50a8\u8bb8\u591a\u4e0d\u540c\u79cd\u7c7b\u7684\u6570\u636e\u4e0d\u4e00\u6837(\u50cf\u7528\u6237\u540d,\u540d\u5b57,\u5bc6\u7801),\u5b83\u53ea\u5b58\u50a8session ID,\u5e76\u4e14\u6620\u5c04\u5230web\u670d\u52a1\u5668\u7684\u4e00\u4e2a\u6570\u636e\u7ed3\u6784.\u5728\u8fd9\u4e2a\u6570\u636e\u7ed3\u6784\u91cc,\u4f60\u53ef\u4ee5\u5b58\u50a8\u4efb\u4f55\u4f60\u9700\u8981\u7684\u4fe1\u606f.\u8fd9\u5bf9\u4e8e\u7528\u6237\u6765\u8bf4\u662f\u66f4\u5b89\u5168\u7684\u5b58\u50a8\u65b9\u6cd5.\u7528\u8fd9\u79cd\u65b9\u6cd5,\u8fd9\u4e9b\u6570\u636e\u4e0d\u4f1a\u88ab\u4e00\u4e2a\u4e0d\u5b89\u5168\u7684\u5ba2\u6237\u7aef\u548c\u8fde\u63a5\u6240\u76d1\u542c.  \u5982\u679c\u4f60\u7684\u6d4f\u89c8\u5668\u652f\u6301cookies,\u5f53\u4f60\u8bbf\u95ee\u6240\u6709\u7684\u7f51\u7ad9\u65f6\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u4f1a\u8bdd.\u4f60\u53ef\u4ee5\u81ea\u5df1\u67e5\u770b\u4e0b,\u5982\u56fe\u6240\u793a.\u5728Google Chrome\u7684\u5f00\u53d1\u8005\u5de5\u5177\u4e2d,\u4f60\u53ef\u4ee5\u67e5\u770b\u5230web\u670d\u52a1\u5668\u53d1\u9001\u7ed9\u4f60\u7684cookies.\u5728\u4e0b\u56fe\u4e2d,\u4f60\u53ef\u4ee5\u89c2\u5bdf\u5230\u9009\u4e2d\u7684 sessionid cookie.\u8fd9\u4e2acookie\u5305\u542b\u4e00\u7cfb\u5217\u7684\u5b57\u6bcd\u548c\u6570\u5b57,\u5b83\u53ef\u4ee5\u4f7fDjango\u552f\u4e00\u6807\u8bc6\u4e00\u4e2a\u4f1a\u8bdd.\u5230\u73b0\u5728,\u6240\u6709\u7684session\u7ec6\u8282\u90fd\u8868\u8ff0\u5b8c\u4e86 - \u4f46\u662f\u670d\u52a1\u5668\u7aef\u8fd8\u6ca1\u8bb2.   session ID\u4e5f\u53ef\u4ee5\u4e0d\u5b58\u50a8\u5728cookies\u4e2d.\u4f20\u7edf\u7684PHP\u5e94\u7528\u4f1a\u628a\u5b83\u4eec\u505a\u6210\u4e00\u4e2a\u8bf7\u6c42\u5b57\u7b26\u4e32\u6216\u662fURL\u7684\u4e00\u90e8\u5206\u6765\u8bf7\u6c42\u8d44\u6e90.\u5982\u679c\u4f60\u5076\u7136\u95f4\u8bbf\u95ee\u50cf http://www.site.com/index.php?sessid=omgPhPwtfIsThisIdDoingHere332i942394 \u8fd9\u6837\u7684URL,\u5f88\u53ef\u80fd\u662f\u670d\u52a1\u5668\u552f\u4e00\u8bc6\u522b\u4f60\u7684\u6807\u8bc6.\u5f88\u6709\u8da3\u5427!   Note  \u4ed4\u7ec6\u770b\u4e0a\u56fe,\u6ce8\u610f\u5230 csrftoken \u4ee4\u724c\u4e86\u5417?\u8fd9\u4e2acookie\u5e2e\u52a9\u6211\u4eec\u907f\u514d\u8de8\u7ad9\u8bf7\u6c42.", 
            "title": "11.2 Sessions\u548c\u65e0\u72b6\u6001\u534f\u8bae"
        }, 
        {
            "location": "/#113-djangosessions", 
            "text": "\u5c3d\u7ba1\u6211\u4eec\u5df2\u7ecf\u8bbe\u7f6e\u597d\u5e76\u4e14\u6b63\u786e\u5de5\u4f5c,\u4f46\u662f\u5982\u679c\u5b66\u4f1aDjango\u7684\u6a21\u5757\u63d0\u4f9b\u54ea\u4e9b\u5de5\u4f5c\u5c31\u4f1a\u66f4\u597d\u4e86.\u5173\u4e8esessions\u65b9\u9762Django\u63d0\u4f9b\u4e86 middleware \u6765\u63d0\u4f9bsession\u529f\u80fd.  \u4e3a\u4e86\u68c0\u67e5\u4e00\u5207\u90fd\u8bbe\u7f6e\u59a5\u5f53,\u6253\u5f00Django\u9879\u76ee\u91cc\u7684 settings.py \u6587\u4ef6.\u627e\u5230 MIDDLEWARE_CLASSES \u5143\u7ec4.\u4f60\u53ef\u4ee5\u5728\u5143\u7ec4\u4e2d\u770b\u5230 django.contrib.sessions.middleware.SessionMiddleware \u6a21\u5757 - \u5982\u679c\u6ca1\u6709\u770b\u5230\u73b0\u5728\u5c31\u52a0\u8fdb\u53bb.\u6b63\u5f0f\u8fd9\u4e2a SessionMiddleware \u4e2d\u95f4\u4ef6\u80fd\u591f\u521b\u5efa\u552f\u4e00\u7684 sessionid cookies.  SessionMiddleware \u53ef\u4ee5\u7075\u6d3b\u7684\u4f7f\u7528\u4e0d\u540c\u7684\u65b9\u6cd5\u6765\u5b58\u50a8session\u4fe1\u606f.\u4f60\u53ef\u4ee5\u91c7\u53d6\u5f88\u591a\u65b9\u6cd5\u50a8\u5b58 - \u5b58\u5728\u6587\u4ef6,\u6570\u636e\u5e93\u751a\u81f3\u5728cache\u4e2d.\u6700\u76f4\u63a5\u7684\u65b9\u6cd5\u662f\u4f7f\u7528 django.contrib.sessions \u5e94\u7528\u628asession\u4fe1\u606f\u5b58\u50a8\u5230Django\u6a21\u578b/\u6570\u636e\u5e93\u4e2d(\u8be6\u7ec6\u7684\u8bf4\u662f django.contrib.sessions.models.Session \u6a21\u578b).\u4f7f\u7528\u8fd9\u79cd\u65b9\u6cd5,\u4f60\u5fc5\u987b\u9996\u5148\u786e\u4fdd\u5728Django\u9879\u76ee\u7684 settings.py \u6587\u4ef6\u91cc django.contrib.sessions \u4fdd\u5b58\u5728 INSTALLED_APPS \u5143\u7ec4\u91cc.\u5982\u679c\u4f60\u73b0\u5728\u8981\u6dfb\u52a0\u5e94\u7528,\u4f60\u9700\u8981\u4f7f\u7528\u8fc1\u79fb\u547d\u4ee4\u6765\u66f4\u65b0\u6570\u636e\u5e93.   Note  \u5982\u679c\u4f60\u5e0c\u671b\u4f7f\u7528\u8f7b\u91cf\u5feb\u6377\u7684\u65b9\u5f0f,\u4f60\u53ef\u4ee5\u628asession\u4fe1\u606f\u5b58\u50a8\u5728cache\u4e2d.\u53ef\u4ee5\u67e5\u770b  official Django documentation for advice on cached sessions .", 
            "title": "11.3 \u5728Django\u91cc\u8bbe\u7f6eSessions"
        }, 
        {
            "location": "/#114-cookiesession", 
            "text": "\u6211\u4eec\u73b0\u5728\u6d4b\u8bd5\u6211\u4eec\u7684\u6d4f\u89c8\u5668\u662f\u5426\u652f\u6301cookies.\u73b0\u4ee3\u6d4f\u89c8\u5668\u90fd\u652f\u6301cookies,\u4f60\u53ef\u4ee5\u67e5\u770b\u4f60\u6d4f\u89c8\u5668\u7684cookies\u4fe1\u606f.\u5982\u679c\u4f60\u7684\u6d4f\u89c8\u5668\u5b89\u5168\u7b49\u7ea7\u8bbe\u5b9a\u7684\u975e\u5e38\u9ad8,\u4e00\u4e9b\u7279\u5b9a\u7684cookies\u4f1a\u88ab\u963b\u585e.\u67e5\u770b\u6d4f\u89c8\u5668\u6587\u6863\u83b7\u53d6\u66f4\u591a\u4fe1\u606f,\u8bbe\u5b9a\u4f7f\u7528cookies.  11.4.1 \u6d4b\u8bd5Cookie\u529f\u80fd  \u4e3a\u4e86\u6d4b\u8bd5cookies,\u4f60\u53ef\u4ee5\u4f7f\u7528Django\u7684 request \u5bf9\u8c61\u63d0\u4f9b\u7684\u4fbf\u6377\u65b9\u6cd5.\u5176\u4e2d set_test_cookie() , test_cookie_worked() \u548c delete_test_cookie() \u65b9\u6cd5\u5bf9\u6211\u4eec\u6bd4\u8f83\u6709\u7528.\u5728\u4e00\u4e2a\u89c6\u56fe\u91cc,\u4f60\u9700\u8981\u8bbe\u7f6e\u4e00\u4e2acookie.\u5728\u53e6\u4e00\u4e2a\u89c6\u56fe\u4f60\u9700\u8981\u68c0\u67e5cookie\u662f\u5426\u5b58\u5728.\u4e24\u4e2a\u4e0d\u540c\u7684\u89c6\u56fe\u90fd\u8981\u8bf7\u6c42cookies,\u662f\u56e0\u4e3a\u4f60\u8981\u67e5\u770b\u662f\u5426\u5ba2\u6237\u7aef\u63a5\u6536\u4e86\u6765\u81ea\u670d\u52a1\u5668\u7684cookie.  \u6211\u4eec\u5c06\u4f1a\u4f7f\u7528\u524d\u9762\u521b\u5efa\u7684\u4e24\u4e2a\u89c6\u56fe, index() \u548c register() .\u5982\u679c\u4f60\u5b9e\u73b0\u4e86\u7528\u6237\u9a8c\u8bc1\u529f\u80fd,\u4f60\u9700\u8981\u786e\u4fdd\u4f60\u5df2\u7ecf\u8fdb\u884c\u4e86\u6ce8\u9500.\u6211\u4eec\u4e0d\u4f1a\u5728\u7f51\u9875\u4e0a\u5c55\u793a\u800c\u662f\u5728\u7ec8\u7aef\u91cc\u8f93\u51faDjango\u670d\u52a1\u5668\u9a8c\u8bc1cookies\u662f\u5426\u6b63\u5e38\u5de5\u4f5c.\u5f53\u6211\u4eec\u6210\u529f\u786e\u8ba4cookies\u786e\u5b9e\u6b63\u5e38\u5de5\u4f5c,\u6211\u4eec\u4f1a\u79fb\u9664\u4ee3\u7801\u6062\u590d\u539f\u72b6.  \u5728Rango\u7684 views.py \u6587\u4ef6,\u627e\u5230 index() \u89c6\u56fe.\u5728\u91cc\u9762\u6dfb\u52a0\u4e0b\u9762\u8fd9\u4e00\u884c.\u4e3a\u4e86\u786e\u4fdd\u8fd9\u884c\u80fd\u591f\u6267\u884c,\u628a\u5b83\u653e\u5728\u89c6\u56fe\u7684\u7b2c\u4e00\u884c,\u4e0d\u8981\u5305\u542b\u5728\u6761\u4ef6\u8bed\u6bb5\u91cc.  request.session.set_test_cookie()  \u5728 register() \u89c6\u56fe\u9876\u90e8\u52a0\u5165\u4e0b\u97623\u884c\u4ee3\u7801 - \u540c\u6837\u662f\u4e3a\u4e86\u4fdd\u8bc1\u5b83\u4eec\u80fd\u88ab\u6267\u884c.  if request.session.test_cookie_worked():\n    print   TEST COOKIE WORKED! \n    request.session.delete_test_cookie()  \u66f4\u6539\u5b8c\u4ee5\u540e\u8fd0\u884cDjango\u670d\u52a1\u5e76\u6253\u5f00Rango\u9996\u9875, http://127.0.0.1:8000/rango/ .\u9875\u9762\u52a0\u8f7d\u5b8c\u540e,\u524d\u5f80\u6ce8\u518c\u9875\u9762.\u5f53\u6ce8\u518c\u9875\u9762\u52a0\u8f7d\u540e,\u4f60\u5c06\u4f1a\u548c\u4e0b\u56fe\u4e00\u6837\u5728\u7ec8\u7aef\u91cc\u770b\u5230  TEST COOKIE WORKED! .   \u5982\u679c\u6ca1\u6709\u770b\u5230\u4e0a\u9762\u7684\u4fe1\u606f,\u8bf7\u68c0\u67e5\u4e00\u4e0b\u4f60\u7684\u6d4f\u89c8\u5668\u5b89\u5168\u8bbe\u7f6e,\u6709\u53ef\u80fd\u4f1a\u963b\u6b62\u6d4f\u89c8\u5668\u63a5\u53d7cookie.   Note  \u4f60\u53ef\u4ee5\u5220\u9664\u589e\u52a0\u7684\u4ee3\u7801 - \u6211\u4eec\u53ea\u662f\u62ff\u5b83\u7528\u6765\u9a8c\u8bc1\u4ee5\u4e0bcookies", 
            "title": "11.4 \u57fa\u4e8ecookie\u7684session"
        }, 
        {
            "location": "/#115-cookies", 
            "text": "\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u77e5\u9053cookies\u662f\u5982\u4f55\u5de5\u4f5c\u7684,\u8ba9\u6211\u4eec\u5b9e\u73b0\u4e00\u4e2a\u7b80\u5355\u7684\u7f51\u7ad9\u8bbf\u95ee\u8ba1\u6570.\u9996\u5148\u6211\u4eec\u9700\u8981\u521b\u5efa\u4e24\u4e2acookies:\u4e00\u4e2a\u7528\u6765\u8ffd\u8e2a\u7528\u6237\u8bbf\u95eeRango\u7f51\u7ad9\u6b21\u6570,\u53e6\u4e00\u4e2a\u7528\u6765\u8ffd\u8e2a\u4e0a\u4e00\u6b21\u767b\u5f55\u7684\u65f6\u95f4.\u4fdd\u6301\u8ffd\u8e2a\u7528\u6237\u4e0a\u4e00\u6b21\u7684\u8bbf\u95ee\u65f6\u95f4\u548c\u65e5\u671f\u5c06\u5141\u8bb8\u6211\u4eec\u6bcf\u5929\u53ea\u80fd\u589e\u957f\u4e00\u6b21\u8bbf\u95ee\u6b21\u6570.  \u5047\u8bbe\u7528\u6237\u8bbf\u95ee\u7684Rango\u9875\u9762\u4e00\u822c\u4e3a\u9996\u9875.\u6253\u5f00 rango/view.py \u5e76\u4fee\u6539 index() \u89c6\u56fe\u5982\u4e0b.  def index(request):\n\n    category_list = Category.objects.all()\n    page_list = Page.objects.order_by('-views')[:5]\n    context_dict = {'categories': category_list, 'pages': page_list}\n\n    # Get the number of visits to the site.\n    # We use the COOKIES.get() function to obtain the visits cookie.\n    # If the cookie exists, the value returned is casted to an integer.\n    # If the cookie doesn't exist, we default to zero and cast that.\n    visits = int(request.COOKIES.get('visits', '1'))\n\n    reset_last_visit_time = False\n    response = render(request, 'rango/index.html', context_dict)\n    # Does the cookie last_visit exist?\n    if 'last_visit' in request.COOKIES:\n        # Yes it does! Get the cookie's value.\n        last_visit = request.COOKIES['last_visit']\n        # Cast the value to a Python date/time object.\n        last_visit_time = datetime.strptime(last_visit[:-7],  %Y-%m-%d %H:%M:%S )\n\n        # If it's been more than a day since the last visit...\n        if (datetime.now() - last_visit_time).days   0:\n            visits = visits + 1\n            # ...and flag that the cookie last visit needs to be updated\n            reset_last_visit_time = True\n    else:\n        # Cookie last_visit doesn't exist, so flag that it should be set.\n        reset_last_visit_time = True\n\n        context_dict['visits'] = visits\n\n        #Obtain our Response object early so we can add cookie information.\n        response = render(request, 'rango/index.html', context_dict)\n\n    if reset_last_visit_time:\n        response.set_cookie('last_visit', datetime.now())\n        response.set_cookie('visits', visits)\n\n    # Return response back to the user, updating any cookies that need changed.\n    return response  \u8bfb\u4e0b\u6765\u8fd9\u6bb5\u4ee3\u7801\u4f60\u5c06\u4f1a\u770b\u5230\u5927\u90e8\u5206\u7684\u4ee3\u7801\u90fd\u662f\u5728\u5904\u7406\u5f53\u524d\u65e5\u671f\u548c\u65f6\u95f4.\u6240\u4ee5\u5728\u8fd9\u91cc\u4f60\u9700\u8981\u5728 views.py \u6587\u4ef6\u7684\u5934\u90e8\u52a0\u5165Python\u7684 datetime \u6a21\u5757.  from datatime import datetime  \u786e\u4fdd\u5f15\u8fdb\u4e86 datetime \u6a21\u5757\u91cc\u7684 datetime \u5bf9\u8c61.  \u5728\u4ee3\u7801\u4e2d\u6211\u4eec\u68c0\u67e5 last_visit \u662f\u5426\u5b58\u5728.\u5982\u679c\u5b58\u5728\u6211\u4eec\u5c31\u4f7f\u7528 request.COOKIES['cookie_name'] \u8bed\u6cd5\u6765\u83b7\u53d6\u5b83\u7684\u503c,\u8fd9\u91cc\u7684 request \u5c31\u662f request \u5bf9\u8c61\u7684\u540d\u5b57, cookie_name \u5c31\u662f\u4f60\u5e0c\u671b\u8ddf\u8e2a\u7684cookie\u540d. \u6ce8\u610f\u8fd4\u56de\u7684\u6240\u6709\u7684cookie\u503c\u90fd\u662f\u5b57\u7b26\u4e32 ;\u4e0d\u8981\u8ba4\u4e3acookie\u4fdd\u5b58\u7684\u662f\u6570\u5b57\u5c31\u4f1a\u8fd4\u56de\u6574\u578b.\u4f60\u9700\u8981\u81ea\u5df1\u628a\u5b83\u4eec\u8f6c\u5316\u6210\u6b63\u786e\u7684\u5f62\u5f0f.\u5982\u679c\u8fd9\u4e2acookie\u4e0d\u5b58\u5728,\u4f60\u9700\u8981\u4f7f\u7528 response \u5bf9\u8c61\u7684 set_cookie() \u65b9\u6cd5\u6765\u521b\u5efacookie.\u8fd9\u4e2a\u65b9\u6cd5\u5305\u542b\u4e24\u4e2a\u503c,cookie\u540d(\u5b57\u7b26\u4e32)\u548ccookie\u503c.\u4e0d\u7ba1\u4f60\u8f93\u5165\u7684\u662f\u4ec0\u4e48\u5f62\u5f0f - \u5b83\u90fd\u4f1a\u81ea\u52a8\u8f6c\u5316\u6210\u5b57\u7b26\u4e32.   \u5982\u679c\u4f60\u73b0\u5728\u6253\u5f00Rango\u4e3b\u9875,\u68c0\u67e5\u4f60\u6d4f\u89c8\u5668\u4e2d\u7684\u5f00\u53d1\u8005\u5de5\u5177,\u4f60\u5c06\u4f1a\u770b\u5230 visits \u548c last_visit \u4e24\u4e2acookie.\u5982\u4e0a\u56fe\u6240\u793a.   Note  \u4f60\u6216\u8bb8\u6ce8\u610f\u5230\u4e86\u5237\u65b0\u6d4f\u89c8\u5668\u5e76\u4e0d\u80fd\u4f7f visits \u589e\u957f.\u4e3a\u4ec0\u4e48?\u56e0\u4e3a\u4e0a\u9762\u7ed9\u51fa\u7684\u793a\u4f8b\u4ee3\u7801\u53ea\u5728\u7528\u6237\u4e0a\u6b21\u8bbf\u95ee\u8ddd\u4eca\u662f1\u5929\u65f6\u624d\u589e\u52a0.\u5f53\u6211\u4eec\u6d4b\u8bd5\u7684\u65f6\u5019\u8fd9\u4e2a\u503c\u6709\u70b9\u4e0d\u5408\u7406 - \u6240\u4ee5\u4e3a\u4ec0\u4e48\u6211\u4eec\u4e0d\u7f29\u77ed\u4ee5\u4e0b\u8fd9\u4e2a\u65f6\u95f4\u5462?\u4fee\u6539 index() \u89c6\u56fe,\u627e\u5230\u4e0b\u9762\u8fd9\u4e00\u884c.  if (datetime.now() - last_visit_time).days   0:  \u6211\u4eec\u53ef\u4ee5\u628a\u5b83\u4eec\u66f4\u6539\u4e3a\u79d2\u6570\u7ea7\u522b\u7684\u6bd4\u8f83.\u5728\u4e0b\u9762\u7684\u4f8b\u5b50,\u6211\u4eec\u68c0\u67e5\u662f\u5426\u57285\u79d2\u4e4b\u5916\u6709\u767b\u5f55.  if (datetime.now() - last_visit_time).seconds   5:  \u8fd9\u5c31\u610f\u5473\u7740\u4f60\u53ea\u9700\u8981\u7b49\u5f855\u79d2\u7684\u65f6\u95f4\u5c31\u80fd\u770b\u5230 visits cookie\u7684\u589e\u957f,\u800c\u4e0d\u9700\u8981\u4e00\u6574\u5929.\u5f53\u4f60\u8fd9\u4e48\u73a9\u5b8c\u4ee5\u540e,\u5c31\u53ef\u4ee5\u628a\u5b83\u6539\u56de\u6765\u4e86.  \u5728\u4e0d\u540c\u7684\u65f6\u95f4\u91cc\u4f7f\u7528 - \u64cd\u4f5c\u7b26\u53ef\u4ee5\u6c42\u51fa\u5b83\u4eec\u7684\u5dee\u503c\u662fPython\u63d0\u4f9b\u7ed9\u6211\u4eec\u7684\u975e\u5e38\u4f7f\u7528\u7684\u529f\u80fd.\u5f53\u65f6\u95f4\u76f8\u51cf,\u5c31\u4f1a\u8fd4\u56de\u4e00\u4e2a timedelta \u5bf9\u8c61,\u5c31\u50cf\u4e0a\u9762\u4ee3\u7801\u5b83\u63d0\u4f9b\u7ed9\u6211\u4eec days \u548c seconds \u5c5e\u6027.\u4f60\u53ef\u4ee5\u67e5\u770b  official Python documentation \u6765\u83b7\u53d6\u66f4\u591a\u5173\u4e8e\u5bf9\u8c61\u7c7b\u578b\u548c\u5176\u4ed6\u5c5e\u6027\u7684\u4fe1\u606f.   \u6211\u4eec\u53ef\u4ee5\u4fee\u6539 index.html \u5728\u91cc\u9762\u52a0\u5165 p  visits: {{ visits }} /p \u6765\u73b0\u5b9e\u8bbf\u95ee\u6b21\u6570.", 
            "title": "11.5 \u5ba2\u6237\u7aefCookies:\u4e00\u4e2a\u7f51\u7ad9\u6280\u672f\u7684\u4f8b\u5b50"
        }, 
        {
            "location": "/#116-session", 
            "text": "\u5728\u524d\u4e00\u4e2a\u4f8b\u5b50\u4e2d\u6211\u4eec\u4f7f\u7528\u4e86\u5ba2\u6237\u7aef\u7684cookies.\u7136\u800c,\u53e6\u4e00\u79cd\u66f4\u5b89\u5168\u7684\u65b9\u6cd5\u662f\u628asession\u4fe1\u606f\u5b58\u50a8\u5728\u670d\u52a1\u5668\u7aef.\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5b58\u50a8\u5728\u5ba2\u6237\u7aef\u7684session ID cookie\u4f5c\u4e3a\u89e3\u9501\u6570\u636e\u7684\u94a5\u5319.  \u4f7f\u7528\u57fa\u4e8ecookie\u7684session\u4f60\u9700\u8981\u5b8c\u6210\u4ee5\u4e0b\u51e0\u6b65.   \u786e\u4fdd settings.py \u6587\u4ef6\u7684 MIDDLEWARE_CLASSES \u5305\u542b django.contrib.sessions.middleware.SessionMiddleware .  \u914d\u7f6esession\u540e\u53f0.\u786e\u5b9a django.contrib.sessions \u5728\u4f60 settings.py \u6587\u4ef6\u7684 INSTALLED_APPS \u91cc.\u5982\u679c\u6ca1\u6709\u5219\u6dfb\u52a0\u5e76\u4e14\u8fd0\u884c\u6570\u636e\u5e93\u8fc1\u79fb\u547d\u4ee4 python manage.py migrate .  \u5047\u8bbe\u4f7f\u7528\u6570\u636e\u5e93\u4f5c\u4e3a\u540e\u53f0,\u4f46\u662f\u4f60\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u6210\u5176\u4ed6(\u6bd4\u5982cache).\u53c2\u89c1  official Django Documentation on Sessions for other backend configurations .   \u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u8c03\u7528 request.session.get() \u65b9\u6cd5\u8bbf\u95ee\u670d\u52a1\u5668\u7aef\u7684cookies,\u4f7f\u7528 request.session[] \u5b58\u50a8\u5b83\u4eec.\u6ce8\u610fsession ID cookie\u4ecd\u7136\u7528\u6765\u6807\u8bb0\u5ba2\u6237\u7aef\u673a\u5668(\u4e25\u683c\u7684\u8bf4\u662f\u5b58\u5728\u4e00\u4e2a\u6d4f\u89c8\u5668\u7aef\u7684cookie),\u4f46\u662f\u6240\u6709\u7684\u6570\u636e\u90fd\u5b58\u50a8\u5728\u670d\u52a1\u5668\u7aef.\u4e0b\u9762\u6211\u4eec\u4fee\u6539 index() \u51fd\u6570\u4f7f\u7528\u57fa\u4e8ecookie\u7684session:  def index(request):\n\n    category_list = Category.objects.order_by('-likes')[:5]\n    page_list = Page.objects.order_by('-views')[:5]\n\n    context_dict = {'categories': category_list, 'pages': page_list}\n\n    visits = request.session.get('visits')\n    if not visits:\n        visits = 1\n    reset_last_visit_time = False\n\n    last_visit = request.session.get('last_visit')\n    if last_visit:\n        last_visit_time = datetime.strptime(last_visit[:-7],  %Y-%m-%d %H:%M:%S )\n\n        if (datetime.now() - last_visit_time).seconds   0:\n            # ...reassign the value of the cookie to +1 of what it was before...\n            visits = visits + 1\n            # ...and update the last visit cookie, too.\n            reset_last_visit_time = True\n    else:\n        # Cookie last_visit doesn't exist, so create it to the current date/time.\n        reset_last_visit_time = True\n\n    if reset_last_visit_time:\n        request.session['last_visit'] = str(datetime.now())\n        request.session['visits'] = visits\n    context_dict['visits'] = visits\n\n\n    response = render(request,'rango/index.html', context_dict)\n\n    return response   Warning  \u5f3a\u70c8\u5efa\u8bae\u4f60\u5728\u542f\u7528\u57fa\u4e8esession\u6570\u636e\u4e4b\u524d\u5220\u9664\u6240\u6709\u5ba2\u6237\u7aef\u7684cookies.\u4f60\u53ef\u4ee5\u5728\u4f60\u7684\u6d4f\u89c8\u5668\u91cc\u5bf9\u5b83\u4eec\u8fdb\u884c\u5220\u9664,\u6216\u8005\u662f\u76f4\u63a5\u6e05\u7a7a\u6d4f\u89c8\u5668\u7684cache - \u786e\u4fddcookies\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u5220\u9664.    Note  \u4f7f\u7528session\u5b58\u50a8\u6570\u636e\u7684\u53e6\u4e00\u4e2a\u4f18\u70b9\u662f\u5b83\u53ef\u4ee5\u628a\u6570\u636e\u4ece\u5b57\u7b26\u4e32\u8f6c\u5316\u6210\u54cd\u5e94\u7684\u7c7b\u578b.\u7136\u800c\u53ea\u6709\u50cf int , float , long , complex \u548c boolean \u8fd9\u6837\u7684 \u5185\u7f6e\u7c7b\u578b \u624d\u6709\u7528.\u5982\u679c\u4f60\u5e0c\u671b\u5b58\u50a8\u5b57\u5178\u6216\u662f\u5176\u4ed6\u590d\u6742\u7684\u7c7b\u578b\u5c31\u4e0d\u53ef\u4ee5\u5566.\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4f60\u9700\u8981  pickling your objects .", 
            "title": "11.6 Session\u6570\u636e"
        }, 
        {
            "location": "/#117-browser-length-and-persistent-sessions", 
            "text": "\u5f53\u4f60\u4f7f\u7528cookies\u65f6\u4f60\u53ef\u4ee5\u4f7f\u7528Django\u7684session\u6846\u67b6\u6765\u8bbe\u7f6ebrowser-lenght sessions\u6216\u8005persistent sessions.\u8fd9\u4e24\u4e2a\u540d\u5b57\u7684\u89e3\u91ca\u5982\u4e0b:   browser-length sessions\u662f\u5f53\u6d4f\u89c8\u5668\u5173\u95ed\u65f6\u622a\u81f3.  persistent sessions\u53ef\u4ee5\u968f\u4f60\u7684\u9009\u62e9\u800c\u7ed3\u675f.\u5b83\u53ef\u4ee5\u662f\u4e00\u4e2a\u5c0f\u65f6\u751a\u81f3\u662f\u4e00\u4e2a\u6708.   \u9ed8\u8ba4\u7684browser-length sessions\u662f\u88ab\u5173\u95ed\u7684.\u4f60\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6eDjango\u7684 settings.py \u6765\u5f00\u542f\u5b83(\u589e\u52a0 SESSION_EXPIRE_AT_BROWSER_CLOSE \u5e76\u8bbe\u7f6e\u4e3a true ).  persistent session\u9ed8\u8ba4\u662f\u5f00\u542f\u7684,\u53ef\u4ee5\u8bbe\u7f6e SESSION_EXPIRE_AT_BROWSER_CLOSE \u4e3a False \u8fdb\u884c\u5f00\u542f.persistent sessions\u6709\u4e00\u4e2a\u989d\u5916\u7684\u8bbe\u7f6e SESSION_COOKIE_AGE ,\u5b83\u53ef\u4ee5\u5141\u8bb8\u4f60\u8bbe\u7f6ecookie\u7684\u5b58\u6d3b\u65f6\u95f4.\u8fd9\u4e2a\u503c\u662f\u4e00\u4e2a\u6574\u578b,\u4ee3\u8868\u7740cookie\u80fd\u5b58\u6d3b\u7684\u79d2\u6570.\u4f8b\u5982\u4fee\u6539\u4e3a 1209600 \u610f\u5473\u7740\u7f51\u9875\u7684cookies\u5c06\u4f1a\u5728\u4e24\u5468\u540e\u8fc7\u671f.  \u67e5\u770b  official Django documentation on cookies  \u83b7\u53d6\u66f4\u591a\u53ef\u7528\u7684\u8bbe\u7f6e.\u4e5f\u53ef\u4ee5\u67e5\u770b  Eli Bendersky\u2019s blog \u8fd9\u7bc7\u8bb2\u8ff0Django\u548ccookie\u7684\u6587\u7ae0.", 
            "title": "11.7 Browser-Length and Persistent Sessions"
        }, 
        {
            "location": "/#118-sessions", 
            "text": "Session cookies\u662f\u4e0d\u65ad\u7d2f\u79ef\u7684.\u6240\u4ee5\u5982\u679c\u4f60\u662f\u4f7f\u7528\u6570\u636e\u5e93\u4f5c\u4e3a\u540e\u53f0\u4f60\u9700\u8981\u5b9a\u671f\u7684\u6e05\u9664\u5b58\u50a8\u7684cookies.\u53ef\u4ee5\u7528 python manage.py clearsessions \u547d\u4ee4\u6765\u5b9e\u73b0.Django\u6587\u6863\u91cc\u5efa\u8bae\u6bcf\u5929\u8fd0\u884c\u4e00\u6b21.\u53c2\u89c1https://docs.djangoproject.com/en/1.7/topics/http/sessions/#clearing-the-session-store", 
            "title": "11.8 \u6e05\u9664Sessions\u6570\u636e\u5e93"
        }, 
        {
            "location": "/#119", 
            "text": "\u5728Django\u5e94\u7528\u4e2d\u4f7f\u7528cookies,\u6709\u4e00\u4e9b\u4e8b\u60c5\u4f60\u9700\u8981\u6ce8\u610f:   \u9996\u5148,\u8003\u8651\u4f60\u7684web\u5e94\u7528\u9700\u8981\u4ec0\u4e48\u7c7b\u578b\u7684cookies.\u4f60\u4fdd\u5b58\u7684\u4fe1\u606f\u9700\u8981\u6301\u7eed\u5b58\u50a8\u8fd8\u662f\u5728\u4f1a\u8bdd\u7ed3\u675f\u540e\u5c31\u622a\u81f3?  \u5bf9\u4f60\u4f7f\u7528cookies\u50a8\u5b58\u7684\u4fe1\u606f\u8981\u683c\u5916\u5c0f\u5fc3.\u5b58\u50a8\u5728cookies\u91cc\u7684\u4fe1\u606f\u540c\u6837\u4f1a\u5448\u73b0\u5728\u7528\u6237\u7684\u7535\u8111\u4e0a.\u8fd9\u6837\u505a\u7684\u98ce\u9669\u975e\u5e38\u7684\u5927:\u4f60\u4e0d\u4f1a\u77e5\u9053\u7528\u6237\u7684\u7535\u8111\u662f\u591a\u4e48\u7684\u5371\u9669.\u5982\u679c\u4fdd\u5b58\u4e00\u4e9b\u654f\u611f\u7684\u4fe1\u606f\u8fd8\u662f\u5b58\u5728\u670d\u52a1\u5668\u7aef\u5427.  \u53e6\u4e00\u4e2a\u81f4\u547d\u7684\u662f\u7528\u6237\u53ef\u4ee5\u8bbe\u7f6e\u4ed6\u7684\u6d4f\u89c8\u5668\u7ea7\u522b\u975e\u5e38\u7684\u9ad8,\u8fd9\u5c06\u4f1a\u963b\u6b62\u4f60\u7684cookies.\u4e00\u65e6\u4f60\u7684cookies\u88ab\u963b\u62e6,\u4f60\u7684\u7f51\u7ad9\u529f\u80fd\u5c31\u4f1a\u5f02\u5e38.\u4f60\u5fc5\u987b\u60f3\u5230\u8fd9\u4e00\u70b9 - \u4f60\u65e0\u6cd5\u7a7a\u503c\u7528\u6237\u6d4f\u89c8\u5668.   \u5982\u679c\u4f60\u7684\u60c5\u51b5\u9002\u5408\u5ba2\u6237\u7aefcookies,\u4f60\u53ef\u4ee5\u6309\u7167\u5982\u4e0b\u6b65\u9aa4\u8fdb\u884c:   \u9996\u5148\u68c0\u67e5\u4f60\u5e0c\u671b\u7684cooki\u662f\u5426\u5b58\u5728.\u53ef\u4ee5\u7528\u68c0\u67e5 request \u53c2\u6570\u5b9e\u73b0. request.COOKIES.has_key(' cookie_name ') \u51fd\u6570\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\u6765\u544a\u8bc9\u6211\u4eec\u662f\u5426\u6709\u4e00\u4e2a\u53eb cookie_name \u7684cookie\u5b58\u5728.  \u5982\u679c\u8fd9\u4e2acookie\u5b58\u5728,\u4f60\u53ef\u4ee5\u901a\u8fc7 request.COOKIES[] \u6765\u83b7\u53d6. COOKIES \u5c5e\u6027\u662f\u4e00\u4e2a\u5b57\u5178,\u4f60\u53ef\u4ee5\u628a\u4f60\u5e0c\u671b\u83b7\u53d6\u7684cookie\u540d\u5199\u5165\u65b9\u62ec\u53f7\u4e2d.\u8bb0\u4f4f\u6240\u6709\u7684cookies\u90fd\u8fd4\u56de\u4e3a\u5b57\u7b26\u4e32.\u56e0\u6b64\u4f60\u5fc5\u987b\u628a\u5b83\u4eec\u8f6c\u5316\u6210\u6b63\u786e\u7684\u7c7b\u578b.  \u5982\u679ccookie\u4e0d\u5b58\u5728\u6216\u8005\u4f60\u5e0c\u671b\u66f4\u65b0cookie.\u4f60\u53ef\u4ee5\u4f7f\u7528 response.set_cookie(' cookie_name ', value) \u51fd\u6570\u6765\u5b9e\u73b0,\u8fd9\u91cc\u7684\u4e24\u4e2a\u53c2\u6570\u5206\u522b\u662fcookie\u7684\u540d\u5b57\u548c\u4ed6\u4eec\u7684\u503c.   \u5982\u679c\u4f60\u9700\u8981\u66f4\u5b89\u5168\u7684cookies,\u90a3\u4e48\u5c31\u9700\u8981\u4f7f\u7528\u57fa\u4e8ecookies\u7684session:   \u786e\u4fdd settings.py \u4e2d\u7684 MIDDLEWARE_CLASSES \u5305\u542b django.contrib.sessions.middleware.SessionMiddleware .  \u8bbe\u7f6e\u4f60\u7684session\u540e\u53f0 SESSION_ENGINE .\u67e5\u770b  official Django Documentation on Sessions  \u83b7\u53d6\u4e0d\u540c\u540e\u53f0\u7684\u4e0d\u540c\u8bbe\u7f6e.  \u901a\u8fc7 requests.sessions.get() \u6765\u83b7\u53d6\u5b58\u5728\u7684cookie.  \u901a\u8fc7 requests.session[' cookie_name '] \u66f4\u6539\u6216\u8bbe\u7f6ecookie.", 
            "title": "11.9 \u57fa\u672c\u7684\u6ce8\u610f\u4e8b\u9879\u548c\u6d41\u7a0b"
        }, 
        {
            "location": "/#1110", 
            "text": "\u73b0\u5728\u4f60\u5df2\u7ecf\u5b8c\u6210\u4e86\u8fd9\u7ae0,\u4e0b\u9762\u6765\u505a\u4e00\u4e9b\u7b80\u5355\u7684\u7ec3\u4e60.   \u68c0\u67e5\u670d\u52a1\u5668\u7aefcookies.\u6e05\u9664\u6d4f\u89c8\u5668cache\u548ccookies,\u7136\u540e\u786e\u5b9a last_visit \u548c visits \u90fd\u88ab\u5220\u9664.\u6ce8\u610f\u4f60\u5c06\u4ecd\u7136\u6069\u53ef\u4ee5\u770b\u5230 sessionid cookie.Django\u4f7f\u7528\u8fd9\u4e2acookie\u53ef\u4ee5\u53bb\u67e5\u8be2\u6570\u636e\u5e93,\u8fd9\u4e2a\u6570\u636e\u5e93\u50a8\u5b58\u6240\u6709\u7684\u5173\u4e8e\u670d\u52a1\u7aef\u7684session.  \u66f4\u6539About\u9875\u9762\u89c6\u56fe\u548c\u6a21\u677f,\u73b0\u5b9e\u7528\u6237\u8bbf\u95ee\u7f51\u7ad9\u7684\u6b21\u6570.   11.10.1 \u63d0\u793a  \u4e3a\u4e86\u5e2e\u52a9\u4f60\u5b8c\u6210\u4e0a\u9762\u7684\u7ec3\u4e60,\u4e0b\u9762\u7684\u63d0\u793a\u53ef\u80fd\u5e2e\u52a9\u4f60.  \u4f60\u5fc5\u987b\u628acookie\u7684\u503c\u4f20\u9012\u7ed9\u6a21\u677f\u7684\u4e0a\u4e0b\u6587,\u4f7f\u5b83\u4f20\u9012\u7ed9\u9875\u9762,\u4ee3\u7801\u5982\u4e0b:  # If the visits session varible exists, take it and use it.\n# If it doesn't, we haven't visited the site so set the count to zero.\nif request.session.get('visits'):\n    count = request.session.get('visits')\nelse:\n    count = 0\n\n# remember to include the visit data\nreturn render(request, 'rango/about.html', {'visits': count})", 
            "title": "11.10 \u7ec3\u4e60"
        }, 
        {
            "location": "/#12-drr", 
            "text": "\u5728Django\u91cc\u6709\u8bb8\u591a\u7684\u5e94\u7528\u63d0\u4f9b\u767b\u5f55,\u6ce8\u518c\u548c\u9a8c\u8bc1\u673a\u5236.\u8bb8\u591a\u7684\u5e94\u7528\u90fd\u63d0\u4f9b\u8fd9\u79cd\u529f\u80fd\u800c\u4e14\u51e0\u4e4e\u4e0d\u91cd\u5199url,\u89c6\u56fe\u548c\u6a21\u677f.\u5728\u8fd9\u7ae0,\u6211\u4eec\u9700\u8981\u4f7f\u7528 django-registration-redux \u5305\u6765\u63d0\u4f9b\u8fd9\u4e9b\u529f\u80fd.\u8fd9\u5c31\u610f\u5473\u7740\u6211\u4eec\u9700\u8981\u91cd\u6784\u6211\u4eec\u7684\u4ee3\u7801 - \u7136\u800c\u5b83\u5c06\u4f1a\u6559\u7ed9\u6211\u4eec\u5982\u4f55\u4f7f\u7528\u5916\u90e8\u5e94\u7528\u4ee5\u53ca\u5982\u4f55\u8f7b\u677e\u7684\u5728\u6211\u4eecDjango\u9879\u76ee\u91cc\u52a0\u5165\u5e94\u7528.\u5b83\u4e5f\u4f1a\u4f7f\u6211\u4eec\u7684\u5e94\u7528\u66f4\u52a0\u7b80\u6d01.   Note  \u8fd9\u7ae0\u5e76\u4e0d\u662f\u5fc5\u8981\u7684,\u4f60\u53ef\u4ee5\u8df3\u8fc7,\u4f46\u662f\u5728\u968f\u540e\u7684\u7ae0\u8282\u91cc\u6211\u4eec\u4f1a\u5047\u8bbe\u4f60\u5df2\u7ecf\u66f4\u65b0\u4e86\u9a8c\u8bc1\u673a\u5236.", 
            "title": "12 \u4f7f\u7528DRR\u8fdb\u884c\u9a8c\u8bc1"
        }, 
        {
            "location": "/#121-drr", 
            "text": "\u5f00\u59cb\u6211\u4eec\u5148\u5b89\u88c5 django-registration-redux :  $ pip install django-registration-redux  \u5b89\u88c5\u597d\u540e,\u6211\u4eec\u9700\u8981\u544a\u8bc9Django\u6211\u4eec\u4f7f\u7528\u8fd9\u4e2a\u5e94\u7528.\u6253\u5f00 settings.py \u6587\u4ef6,\u4fee\u6539 INSTALLED_APPS \u5143\u7ec4:  INSTALLED_APPS = (\n'django.contrib.admin',\n'django.contrib.auth',\n'django.contrib.contenttypes',\n'django.contrib.sessions',\n'django.contrib.messages',\n'django.contrib.staticfiles',\n'rango',\n'registration', # add in the registration package\n)  \u540c\u65f6\u5728 settings.py \u6587\u4ef6\u4f60\u53ef\u4ee5\u52a0\u5165:  REGISTRATION_OPEN = True                # If True, users can register\nACCOUNT_ACTIVATION_DAYS = 7     # One-week activation window; you may, of course, use a different value.\nREGISTRATION_AUTO_LOGIN = True  # If True, the user will be automatically logged in.\nLOGIN_REDIRECT_URL = '/rango/'  # The page you want users to arrive at after they successful log in\nLOGIN_URL = '/accounts/login/'  # The page users are directed to if they are not logged in,\n                                                                # and are trying to access pages requiring authentication  \u4e0a\u9762\u8fd9\u4e9b\u8bbe\u7f6e\u90fd\u5e26\u4e86\u6ce8\u91ca.\u73b0\u5728\u5728 tango_with_django_project/urls.py \u91cc\u4fee\u6539 urlpatterns \u4ee5\u589e\u52a0\u6ce8\u518c\u5305\u7684\u5f15\u7528:  urlpatterns = patterns('',\n\nurl(r'^admin/', include(admin.site.urls)),\nurl(r'^rango/', include('rango.urls')),\n(r'^accounts/', include('registration.backends.simple.urls')),\n)  django-registration-redux \u5305\u63d0\u4f9b\u4e86\u8bb8\u591a\u4e0d\u540c\u7684\u6ce8\u518c\u540e\u53f0\u4f9b\u4f60\u9009\u62e9.\u5728 registration.backend.simple.urls ,\u5b83\u63d0\u4f9b\u4e86:   registration -  /accounts/register/  registration complete -  /accounts/register/complete  login -  /accounts/login/  logout -  /accounts/logout/  password change -  /password/change/  password reset -  /password/reset/   \u5728 registration.backends.default.urls \u91cc\u4e5f\u63d0\u4f9b\u4e86\u4e24\u6b65\u6fc0\u6d3b\u8d26\u6237\u7684\u529f\u80fd:   \u5168\u9762\u6fc0\u6d3b(\u4f7f\u7528\u4e24\u6b65\u6ce8\u518c) -   ctivate/complete/  \u6fc0\u6d3b(\u5982\u679c\u8d26\u6237\u6fc0\u6d3b\u5931\u8d25) -   ctivate/ activation_key /  \u6fc0\u6d3b\u90ae\u4ef6(\u901a\u77e5\u7528\u6237\u6fc0\u6d3b\u90ae\u4ef6\u5df2\u7ecf\u53d1\u9001)  \u6fc0\u6d3b\u90ae\u4ef6\u4e3b\u4f53(\u6587\u672c\u6587\u4ef6,\u5305\u542b\u6fc0\u6d3b\u90ae\u4ef6\u7684\u6587\u672c)  \u6fc0\u6d3b\u90ae\u4ef6\u6807\u9898(\u6587\u672c\u6587\u4ef6,\u5305\u542b\u6fc0\u6d3b\u6587\u4ef6\u7684\u6807\u9898)     \u6ce8\u610fDjango Registration Redux\u53ea\u63d0\u4f9b\u529f\u80fd,\u6ca1\u6709\u63d0\u4f9b\u6a21\u677f.\u6240\u4ee5\u6211\u4eec\u9700\u8981\u81ea\u5df1\u5199\u6a21\u677f\u6765\u8fde\u63a5\u6bcf\u4e2a\u89c6\u56fe.", 
            "title": "12.1 \u8bbe\u7f6eDRR"
        }, 
        {
            "location": "/#123", 
            "text": "\u5728\u8fd9\u7bc7  https://django-registration-redux.readthedocs.org/en/latest/quickstart.html \u5feb\u901f\u5165\u95e8\u91cc\u53ea\u63d0\u4f9b\u4e86\u4e00\u822c\u7684\u6a21\u677f\u9700\u6c42,\u6ca1\u6709\u6e05\u695a\u7684\u8bf4\u660e\u6bcf\u4e2a\u6a21\u677f\u90fd\u5e94\u5f53\u5305\u542b\u4ec0\u4e48.  \u5728\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u4e0b\u8f7dAnders Hofstee\u7684Github\u9879\u76ee,https://github.com/macdhuibh/django-registration-templates ,\u4f60\u53ef\u4ee5\u5728\u8fd9\u91cc\u627e\u5230\u8be6\u7ec6\u7684\u6a21\u677f.\u6211\u4eec\u5c06\u4f7f\u7528\u8fd9\u4e2a\u6a21\u677f\u4f5c\u4e3a\u6211\u4eec\u7684\u6307\u5bfc.  \u9996\u5148,\u6211\u4eec\u9700\u8981\u5728 templates \u76ee\u5f55\u65b0\u5efa\u4e00\u4e2a registration \u76ee\u5f55.\u8fd9\u91cc\u5c06\u5b58\u50a8\u6240\u6709\u5173\u4e8e Django Registration Redux\u5e94\u7528\u7684\u9875\u9762.  12.3.1 \u767b\u5f55\u6a21\u677f  \u5728 templates/registration \u521b\u5efa login.htnl \u6587\u4ef6,\u4ee3\u7801\u5982\u4e0b:  {% extends  rango/base.html  %}\n\n{% block body_block %} h1 Login /h1 \n         form method= post  action= . \n                {% csrf_token %}\n                {{ form.as_p }}\n\n                 input type= submit  value= Log in  / \n                 input type= hidden  name= next  value= {{ next }}  / \n                 /form \n\n         p Not  a member?  a href= {% url 'registration_register' %} Register /a ! /p \n{% endblock %}  \u6ce8\u610f\u6bcf\u4e2aurl\u5f15\u7528\u90fd\u8981\u7528 url \u6a21\u677f\u6807\u7b7e\u6765\u5f15\u7528.\u5982\u679c\u4f60\u8bbf\u95ee  http://127.0.0.1:8000/accounts/ \u4f60\u5c31\u4f1a\u770b\u5230\u7ed1\u5b9a\u7684url\u5217\u8868,\u6bcf\u4e2a\u5217\u8868\u540e\u8fb9\u90fd\u6709\u5b83\u7684\u540d\u5b57.  12.3.2 \u6ce8\u518c\u6a21\u677f  \u5728 templates/registration \u521b\u5efa registration_form.html \u6587\u4ef6:  {% extends  rango/base.html  %}\n\n\n{% block body_block %} h1 Register Here /h1 \n         form method= post  action= . \n                {% csrf_token %}\n                {{ form.as_p }}\n\n                 input type= submit  value= Submit  / \n         /form \n{% endblock %}  12.3.3 \u6ce8\u518c\u5b8c\u6210\u6a21\u677f  \u5728 templates/registration \u521b\u5efa registration_complete.html \u6587\u4ef6:  {% extends  rango/base.html  %}\n\n\n{% block body_block %} h1 Registration Complete /h1 \n         p You are now registered /p \n{% endblock %}  12.3.4 \u6ce8\u9500\u6a21\u677f  \u5728 templates/registration \u76ee\u5f55\u521b\u5efa logout.html \u6587\u4ef6:  {% extends  rango/base.html  %}\n\n\n{% block body_block %} h1 Logged Out /h1 \n         p You are now logged out. /p \n{% endblock %}  12.3.5 \u5c1d\u8bd5\u6ce8\u518c  \u8fd0\u884cDjango\u670d\u52a1\u5668,\u8bbf\u95ee:  http://127.0.0.1:8000/accounts/register/  \u6ce8\u610f\u5230\u6ce8\u518c\u8868\u5355\u5305\u542b\u4e24\u4e2a\u5bc6\u7801\u5b57\u6bb5 - \u5b83\u53ef\u4ee5\u8fdb\u884c\u68c0\u8f66.\u5c1d\u8bd5\u8f93\u5165\u4e0d\u540c\u7684\u5bc6\u7801.  \u5b83\u80fd\u591f\u6b63\u5e38\u7684\u8fd0\u884c,\u4f46\u5e76\u4e0d\u662f\u6240\u6709\u7684\u4e1c\u897f\u90fd\u505a\u597d\u4e86,\u6211\u4eec\u8fd8\u9700\u8981\u4e00\u4e9b\u903b\u8f91\u4ee3\u7801.  12.3.6 \u91cd\u6784\u9879\u76ee  \u73b0\u5728\u9700\u8981\u4fee\u6539 bashe.html \u6765\u4f7f\u7528\u5fc3\u5f97\u6ce8\u518curl/\u89c6\u56fe:   \u4fee\u6539\u6ce8\u518curl\u4e3a a href=\"{% url 'registration_register' %}\"  \u767b\u5f55\u4e3a a href=\"{% url 'auth_login' %}\"  \u6ce8\u9500\u4e3a a href=\"{% url 'auth_logout' %}?next=/rango/\"  \u4fee\u6539 settings.py \u4e2d\u7684 LOGIN_URL \u4e3a /accounts/login/ .   \u6ce8\u610f\u5230\u6ce8\u9500\u9875\u9762\u6211\u4eec\u5305\u542b\u4e86 ?next=/rango/ .\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u5f53\u6211\u4eec\u6ce8\u9500\u65f6\u4f1a\u91cd\u5b9a\u5411\u5230rango\u4e3b\u9875.\u5982\u679c\u6211\u4eec\u4e0d\u52a0\u5165\u5b83,\u6211\u4eec\u5c06\u4f1a\u91cd\u5b9a\u5411\u5230\u6ce8\u9500\u9875\u9762(\u4f46\u662f\u8fd9\u6837\u505a\u4e0d\u592a\u53cb\u597d).  \u4e0b\u9762\u5c31\u662f\u89e3\u7ed1 rango \u5e94\u7528\u7684 register , login , logout \u7684\u529f\u80fd,\u4f8b\u5982\u5220\u9664urls,\u89c6\u56fe\u548c\u6a21\u677f(\u6216\u8005\u628a\u5b83\u4eec\u6ce8\u91ca\u6389)  12.3.7 \u4fee\u6539\u6ce8\u518c\u6d41\u7a0b  \u8fd9\u65f6\u5019\u5982\u679c\u7528\u6237\u8fdb\u884c\u6ce8\u518c,\u5b8c\u6210\u540e\u5b83\u4f1a\u91cd\u5b9a\u5411\u5230\u6ce8\u518c\u5b8c\u6210\u9875\u9762.\u8fd9\u6709\u4e9b\u7b28\u91cd,\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u91cd\u5b9a\u5411\u5230\u4e3b\u9875.\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u91cd\u5199 registration.backends.simple.views \u7684 RegistrationView \u6765\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd.\u597d\u4e86,\u73b0\u5728\u5728 tango_with_django_project/urls.py \u6587\u4ef6\u91cc\u5f15\u5165 RegistrationView ,\u589e\u52a0\u4e00\u4e2a\u65b0\u7684\u6ce8\u518c\u7c7b,\u7136\u540e\u66f4\u65b0 urlpatterns \u5982\u4e0b:  from registration.backends.simple.views import RegistrationView\n\n# Create a new class that redirects the user to the index page, if successful at logging\nclass MyRegistrationView(RegistrationView):\n    def get_success_url(self,request, user):\n        return '/rango/'\n\n\nurlpatterns = patterns('',\n    url(r'^admin/', include(admin.site.urls)),\n    url(r'^rango/', include('rango.urls')),\n        #Add in this url pattern to override the default pattern in accounts.\n    url(r'^accounts/register/$', MyRegistrationView.as_view(), name='registration_register'),\n    (r'^accounts/', include('registration.backends.simple.urls')),\n)  TODO(leifos):\u589e\u52a0\u4e00\u4e2a\u5b9a\u5236\u6ce8\u518c\u8868\u5355...", 
            "title": "12.3 \u8bbe\u7f6e\u6a21\u677f"
        }, 
        {
            "location": "/#124", 
            "text": "\u4e3a\u7528\u6237\u63d0\u4f9b\u4fee\u6539\u5bc6\u7801\u7684\u529f\u80fd.", 
            "title": "12.4 \u7ec3\u4e60"
        }, 
        {
            "location": "/#13-bootstraprango", 
            "text": "\u5728\u672c\u7ae0,\u6211\u4eec\u5c06\u4f7f\u7528Bootstrap3.2\u5957\u4ef6\u6765\u88c5\u9970\u6211\u4eec\u7684Rango.\u6211\u4eec\u4e0d\u9700\u8981\u4e86\u89e3Bootstrap\u5de5\u4f5c\u7684\u7ec6\u8282,\u4f46\u662f\u6211\u4eec\u5047\u8bbe\u4f60\u4e86\u89e3\u4e00\u4e9bCSS.\u5982\u679c\u6ca1\u6709\u7684\u8bdd,\u53bb\u67e5\u770b\u4ee5\u4e0bCSS\u7ae0\u8282\u6216\u8005\u4e00\u4e9bBootstrap\u6559\u7a0b\u4e86\u89e3\u4e00\u4e0b\u57fa\u7840\u77e5\u8bc6.\u73b0\u5728,\u4f60\u9700\u8981\u901a\u8fc7\u8fd9\u4e00\u7ae0\u628a\u6240\u6709\u96f6\u788e\u7684\u77e5\u8bc6\u70b9\u8fde\u63a5\u8d77\u6765.  \u5f00\u59cb\u6211\u4eec\u5148\u770b\u4e00\u4e0b Bootstrap 3.2.0 website  - \u5b83\u63d0\u4f9b\u4e86\u5b9e\u4f8b\u4ee3\u7801\u548c\u4e0d\u540c\u7684\u7ec4\u4ef6,\u5e76\u4e14\u63d0\u4f9b\u600e\u4e48\u52a0\u5165\u6837\u5f0f\u6807\u7b7e\u7684\u65b9\u6cd5.\u5728Bootstrap\u7f51\u7ad9\u5b83\u4eec\u63d0\u4f9b\u4e86\u8bb8\u591a example layouts \u53ef\u4ee5\u7ed9\u6211\u4eec\u4f7f\u7528.  \u4e3a\u4e86\u4fee\u6539Rango\u6837\u5f0f\u6211\u4eec\u9700\u8981\u5b9a\u4e49 dashboard style \u6765\u6ee1\u8db3\u6211\u4eec\u7684\u8981\u6c42,\u4f8b\u5982\u5728\u9876\u90e8\u7684\u83dc\u5355\u680f,\u4fa7\u8fb9\u680f(\u7528\u6765\u5c55\u793a\u76ee\u5f55)\u548c\u4e00\u4e2a\u4e3b\u5185\u5bb9\u533a\u57df.\u5728\u4f7f\u7528Bootstrap\u7684HTML\u4e4b\u524d\u6211\u4eec\u8fd8\u9700\u8981\u505a\u4e00\u4e9b\u5de5\u4f5c.\u4e0b\u9762\u4f7f\u6211\u4eec\u9700\u8981\u505a\u7684:   \u628a\u6240\u6709\u7684 ../../ \u6539\u6210 http://getbootstrap.com  \u4fee\u6539 dashboard.css \u4e3a\u7edd\u5bf9\u8def\u5f84 http://getbootstrap.com/examples/dashboard/dashboard.css  \u8d77\u521d\u9876\u90e8\u5bfc\u822a\u680f\u7684\u641c\u7d22\u8868\u5355  \u628a\u6240\u6709\u6ca1\u6709\u5fc5\u8981\u7684\u5185\u5bb9\u5220\u9664\u5e76\u7528 {% block body_block %}{% endblock %} \u66ff\u6362.  \u8bbe\u7f6e\u6807\u9898\u5143\u7d20\u4e3a title Rango - {% block title %}How to Tango with Django!{% endblock %} /title  \u628a\u9879\u76ee\u7684\u540d\u5b57\u6539\u4e3a Rango  \u4e3a\u9876\u90e8\u5bfc\u822a\u7684\u4e3b\u9875,\u767b\u5f55,\u6ce8\u518c\u6dfb\u52a0\u94fe\u63a5.  \u6dfb\u52a0\u4fa7\u8fb9\u5757,\u4f8b\u5982 {% block side_block %}{% endblock %}", 
            "title": "13 Bootstrap\u548cRango"
        }, 
        {
            "location": "/#131", 
            "text": "!DOCTYPE html  html lang= en \n   head \n     meta charset= utf-8 \n     meta http-equiv= X-UA-Compatible  content= IE=edge \n     meta name= viewport  content= width=device-width, initial-scale=1 \n     meta name= description  content= \n     meta name= author  content= \n     link rel= icon  href= http://getbootstrap.com/favicon.ico \n\n     title Rango - {% block title %}How to Tango with Django!{% endblock %} /title \n\n     link href= http://getbootstrap.com/dist/css/bootstrap.min.css  rel= stylesheet \n     link href= http://getbootstrap.com/examples/dashboard/dashboard.css  rel= stylesheet \n\n     !--[if lt IE 9] \n       script src= https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js /script \n       script src= https://oss.maxcdn.com/respond/1.4.2/respond.min.js /script \n     ![endif]-- \n   /head \n\n   body \n\n     div class= navbar navbar-inverse navbar-fixed-top  role= navigation \n       div class= container-fluid \n         div class= navbar-header \n           button type= button  class= navbar-toggle collapsed  data-toggle= collapse  data-target= .navbar-collapse \n             span class= sr-only Toggle navigation /span \n             span class= icon-bar /span \n             span class= icon-bar /span \n             span class= icon-bar /span \n           /button \n           a class= navbar-brand  href= /rango/ Rango /a \n         /div \n         div class= navbar-collapse collapse \n           ul class= nav navbar-nav navbar-right \n                 li a href= {% url 'index' %} Home /a /li \n                    {% if user.is_authenticated %}\n                         li a href= {% url 'restricted' %} Restricted Page /a /li \n                         li a href= {% url 'auth_logout' %}?next=/rango/ Logout /a /li \n                         li a href= {% url 'add_category' %} Add a New Category /a /li \n                    {% else %}\n                         li a href= {% url 'registration_register' %} Register Here /a /li \n                         li a href= {% url 'auth_login' %} Login /a /li \n                    {% endif %}\n                                 li a href= {% url 'about' %} About /a /li \n\n               /ul \n         /div \n       /div \n     /div \n\n     div class= container-fluid \n       div class= row \n         div class= col-sm-3 col-md-2 sidebar \n                {% block side_block %}{% endblock %}\n\n         /div \n         div class= col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main \n            div \n                {% block body_block %}{% endblock %}\n                 /div \n         /div \n       /div \n     /div \n\n     !-- Bootstrap core JavaScript\n    ================================================== -- \n     !-- Placed at the end of the document so the pages load faster -- \n     script src= https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js /script \n     script src= http://getbootstrap.com/dist/js/bootstrap.min.js /script \n     !-- IE10 viewport hack for Surface/desktop Windows 8 bug -- \n     script src= http://getbootstrap.com/assets/js/ie10-viewport-bug-workaround.js /script \n   /body  /html   \u5982\u679c\u4ed4\u7ec6\u770bdashboard\u7684html\u6e90\u4ee3\u7801,\u4f1a\u53d1\u73b0\u8bb8\u591a\u7ed3\u6784\u90fd\u662f\u901a\u8fc7 div \u6807\u7b7e\u521b\u5efa\u7684.\u9875\u9762\u88ab\u5206\u4e3a\u4e24\u90e8\u5206 - \u9876\u90e8\u5bfc\u822a\u680f\u548c\u4e3b\u9762\u677f,\u90fd\u88ab div class=\"container-fluid\" \u5305\u542b.\u5728\u5bfc\u822a\u680f\u533a\u57df,\u6211\u4eec\u52a0\u5165\u6211\u4eec\u7f51\u7ad9\u7684\u94fe\u63a5.\u5728\u4e3b\u9762\u677f\u533a\u57df\u6709\u4e24\u5217\u4e13\u680f,\u4e00\u4e2a\u662f side_block ,\u53e6\u4e00\u4e2a\u662f body_block .", 
            "title": "13.1 \u65b0\u7684\u57fa\u7840\u6a21\u677f"
        }, 
        {
            "location": "/#132", 
            "text": "\u4f7f\u7528\u4e0a\u9762\u7684html\u4ee3\u7801\u66f4\u65b0\u4f60\u7684 base.html (\u5047\u8bbe\u4f60\u5df2\u7ecf\u5b8c\u6210\u4e8612\u7ae0\u7684\u5185\u5bb9,\u4f7f\u7528\u4e86django-registration-redux \u5305,\u5982\u679c\u6ca1\u6709\u4f60\u9700\u8981\u66f4\u65b0\u8fd9\u4e9burl\u6a21\u677f\u6807\u7b7e).\u91cd\u65b0\u52a0\u8f7d\u4f60\u7684\u5e94\u7528.\u4f60\u9700\u8981\u8054\u7f51\u624d\u80fd\u4e0b\u8f7dcss,js\u548c\u5176\u4ed6\u76f8\u5173\u6587\u4ef6.\u4f60\u6ce8\u610f\u5230\u4e86\u4f60\u7684\u5e94\u7528\u770b\u8d77\u6765\u53d8\u5316\u975e\u5e38\u5927.\u8bd5\u7740\u6d4f\u89c8\u5176\u4ed6\u9875\u9762\u770b\u4e00\u770b.\u56e0\u4e3a\u5b83\u4eec\u90fd\u7ee7\u627f\u81ea\u57fa\u7840\u6a21\u677f,\u5b83\u4eec\u770b\u8d77\u6765\u90fd\u975e\u5e38\u597d\u770b.\u867d\u7136\u4e0d\u5b8c\u7f8e\u4f46\u662f\u975e\u5e38\u597d.   Note  \u4f60\u5e94\u5f53\u4e0b\u8f7d\u6240\u6709\u5173\u8054\u7684\u6587\u4ef6\u5e76\u5b58\u50a8\u5230\u9759\u6001\u6587\u4ef6\u5939.\u5982\u679c\u8fd9\u4e48\u505a\u4ee5\u540e,\u5728\u57fa\u7840\u6a21\u677f\u4fee\u6539\u9759\u6001\u6587\u4ef6\u7684\u5f15\u7528.   \u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u8bbe\u7f6e\u597d base.html ,\u6211\u4eec\u53ef\u4ee5\u5feb\u901f\u7684\u4f7f\u7528Bootstrap\u7ec4\u5efa\u6765\u5b9a\u5236\u6211\u4eec\u7684\u9875\u9762.  \u8ba9\u6211\u4eec\u4fee\u6539 about.html \u6a21\u677f,\u5728\u9875\u9762\u91cc\u653e\u7f6e\u4e00\u4e2a\u9875\u9762\u5934(http://getbootstrap.com/components/#page-header) .\u5728\u4f8b\u5b50\u4e2d,\u6211\u4eec\u9700\u8981\u52a0\u5165 div \u5e76\u4e14\u4f7f\u7528 class=\"page-header\" \u5c5e\u6027:  {% extends 'base.html' %}\n\n{% load staticfiles %}\n\n{% block title %}About{% endblock %}\n\n{% block body_block %}\n     div class= page-header \n                 h1 About /h1 \n             /div \n             div \n             p /strong . /p \n\n             img  width= 90  height= 100  src= {% static  images/rango.jpg  %}  alt= Picture of Rango  /   !-- New line -- \n             /div \n{% endblock %}   \u6ce8\u610f\u5230\u6211\u4eec\u7684\u4fa7\u8fb9\u680f\u662f\u7a7a\u7684,\u5728\u4e0b\u4e00\u7ae0\u6211\u4eec\u4f1a\u6392\u5217\u5bfc\u822a\u680f\u7684\u94fe\u63a5.\u4f46\u662f\u9996\u5148\u6211\u4eec\u9700\u8981\u5904\u7406\u4e00\u4e0b\u9996\u9875.  13.2.1 \u9996\u9875  \u56e0\u4e3a\u6211\u4eec\u53ea\u5c01\u88c5\u4e86\u6807\u9898\u548c\u9875\u9762,\u4f8b\u5982 div class=\"page-header\" ,\u6211\u4eec\u8fd8\u6ca1\u6709\u771f\u6b63\u5229\u7528Bootstrap\u7ed9\u6211\u4eec\u63d0\u4f9b\u7684\u6837\u5f0f.\u6240\u4ee5\u6211\u4eec\u91c7\u7528\u5217\u6d41\u9875\u9762\u5e76\u4f7f\u7528\u5b83\u4eec\u5bb9\u7eb3\u9876\u7ea7\u76ee\u5f55\u548c\u9876\u7ea7\u9875\u9762.\u56e0\u4e3a\u539f\u6765\u7684\u9875\u9762\u67094\u4e2a\u5217,\u6211\u4eec\u4f7f\u7528\u4e24\u4e2a\u5e76\u628a\u5b83\u4eec\u7684\u5c3a\u5bf8\u8c03\u5927.\u4fee\u6539 index.html \u6a21\u677f:  {% extends 'base.html' %}\n\n{% load staticfiles %}\n\n{% block title %}Index{% endblock %}\n\n        {% block body_block %}\n{% if user.is_authenticated %}\n     div class= page-header \n\n                 h1 Rango says... hello {{ user.username }}! /h1 \n            {% else %}\n                 h1 Rango says... hello world! /h1 \n            {% endif %} /div \n\n          div class= row placeholders \n             div class= col-xs-12 col-sm-6 placeholder \n                h4 Categories /h4 \n\n              {% if categories %}\n                     ul \n                        {% for category in categories %}\n                          li a href= {% url 'category'  category.slug %} {{ category.name }} /a /li \n                        {% endfor %}\n                     /ul \n                {% else %}\n                     strong There are no categories present. /strong \n                {% endif %}\n\n             /div \n             div class= col-xs-12 col-sm-6 placeholder \n               h4 Pages /h4 \n\n                {% if pages %}\n                     ul \n                        {% for page in pages %}\n                          li a href= {{page.url}} {{ page.title }} /a /li \n                        {% endfor %}\n                     /ul \n                {% else %}\n                     strong There are no categories present. /strong \n                {% endif %}\n             /div \n\n           /div \n\n\n        p  visits: {{ visits }} /p \n        {% endblock %}  \u9875\u9762\u5c06\u4f1a\u53d8\u5f97\u66f4\u6f02\u4eae\u4e86.\u4f46\u662f\u5217\u8868\u7684\u6837\u5f0f\u6bd4\u8f83\u6076\u5fc3.\u8ba9\u6211\u4eec\u4f7f\u7528Bootstrap\u7684\u5217\u8868\u7ec4\u6837\u5f0f http://getbootstrap.com/components/#list-group .\u4fee\u6539 ul \u5143\u7d20\u4e3a ul class=\"list-group\" ,\u4fee\u6539 li \u4e3a li class=\"list-group-item\" \u7136\u540e\u4f7f\u7528panel\u6837\u5f0f\u4fee\u6539heddings       div class= panel panel-primary \n     div class= panel-heading \n             h3 class= panel-title Categories /h3 \n     /div  /div \n\n\n     div class= panel panel-primary \n             div class= panel-heading \n                     h3 class= panel-title Pages /h3 \n             /div \n     /div", 
            "title": "13.2 \u5feb\u901f\u66f4\u6539\u6837\u5f0f"
        }, 
        {
            "location": "/#133", 
            "text": "\u8ba9\u6211\u4eec\u5c06\u6ce8\u610f\u529b\u8f6c\u79fb\u5230\u767b\u5f55\u9875\u9762.\u5728Bootstrap\u7f51\u7ad9\u6211\u4eec\u5df2\u7ecf\u770b\u5230 \u6f02\u4eae\u7684\u767b\u5f55\u8868\u5355 ,\u67e5\u770b http://getbootstrap.com/examples/signin/ .\u5982\u679c\u67e5\u770b\u6e90\u4ee3\u7801,\u4f60\u4f1a\u53d1\u73b0\u6211\u4eec\u9700\u8981\u5728\u57fa\u7840\u767b\u5f55\u8868\u5355\u4e0a\u52a0\u5165\u8bb8\u591a\u7c7b.\u4fee\u6539 login.html \u6a21\u677f\u5982\u4e0b:  {% block body_block %} link href= http://getbootstrap.com/examples/signin/signin.css  rel= stylesheet  form class= form-signin  role= form  method= post  action= . \n{% csrf_token %} h2 class= form-signin-heading Please sign in /h2  input class= form-control  placeholder= Username  id= id_username  maxlength= 254  name= username  type= text  required autofocus= /  input type= password  class= form-control  placeholder= Password  id= id_password  name= password  type= password  required / \n\n         button class= btn btn-lg btn-primary btn-block  type= submit  value= Submit  / Sign in /button \n         /form \n\n{% endblock %}   \u8fd9\u91cc\u6709\u5f88\u591a\u9519\u8bef,\u4e14\u5bf9\u540e\u9762\u6ca1\u6709\u4ec0\u4e48\u5f71\u54cd\u6682\u65f6\u4e0d\u7ffb\u8bd1~", 
            "title": "13.3 \u767b\u5f55\u9875\u9762"
        }, 
        {
            "location": "/#14", 
            "text": "", 
            "title": "14 \u6a21\u677f\u6807\u7b7e"
        }, 
        {
            "location": "/#141", 
            "text": "\u4e3a\u6bcf\u4e2a\u9875\u9762\u7684\u4fa7\u8fb9\u680f\u63d0\u4f9b\u76ee\u5f55\u5c06\u4f1a\u975e\u5e38\u7684\u65b9\u4fbf\u5feb\u6377.\u6839\u636e\u4ee5\u524d\u7684\u7ecf\u9a8c\u6211\u4eec\u9700\u8981\u505a\u5982\u4e0b:   \u5728 base.html \u6a21\u677f\u91cc\u6211\u4eec\u9700\u8981\u6dfb\u52a0\u4e00\u4e9b\u4ee3\u7801\u7528\u6765\u5c55\u793a\u4fa7\u8fb9\u680f\u7684\u76ee\u5f55\u5217\u8868.  \u5728\u6bcf\u4e2a\u89c6\u56fe\u91cc,\u6211\u4eec\u9700\u8981\u8bbf\u95ee\u76ee\u5f55\u5bf9\u8c61\u4ee5\u83b7\u53d6\u6240\u6709\u76ee\u5f55,\u5e76\u628a\u5b83\u8fd4\u56de\u5230\u6a21\u677f\u4e0a\u4e0b\u6587\u5b57\u5178\u91cc.   \u8fd9\u4e48\u505a\u597d\u50cf\u6709\u70b9\u7e41\u7410.\u6211\u4eec\u9700\u8981\u4e0d\u65ad\u590d\u5236\u7c98\u8d34\u4ee3\u7801.\u800c\u4e14\u5f53django-registration-redux\u5305\u7684\u89c6\u56fe\u8981\u5c55\u793a\u76ee\u5f55\u65f6\u4f1a\u53d1\u751f\u9519\u8bef.\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u4e0d\u540c\u7684\u65b9\u6cd5,\u7528 templatetags \u6765\u8bf7\u6c42\u6240\u9700\u7684\u6570\u636e.", 
            "title": "14.1 \u4e3a\u6bcf\u4e2a\u9875\u9762\u63d0\u4f9b\u76ee\u5f55"
        }, 
        {
            "location": "/#142", 
            "text": "\u521b\u5efa rango/templatetags \u76ee\u5f55\u5e76\u4e14\u521b\u5efa\u4e24\u4e2a\u6587\u4ef6,\u4e00\u4e2a\u662f\u7a7a\u6587\u4ef6 __init__.py ,\u53e6\u4e00\u4e2a\u662f rango_extras.py \u5e76\u6dfb\u52a0\u4ee3\u7801\u5982\u4e0b:  from django import template\nfrom rango.models import Category\n\nregister = template.Library()\n\n@register.inclusion_tag('rango/cats.html')\ndef get_category_list():\n    return {'cats': Category.objects.all()}  \u8fd9\u91cc\u6211\u4eec\u521b\u5efa\u4e86\u4e00\u4e2a get_category_list() \u65b9\u6cd5,\u5e76\u4e14\u8fde\u63a5\u5230\u4e86 rango/cats.html \u6a21\u677f.\u73b0\u5728\u6211\u4eec\u5728\u6a21\u677f\u76ee\u5f55\u91cc\u521b\u5efa rango/cats.html :  {% if cats %}\n     ul class= nav nav-sidebar \n    {% for c in cats %}\n         li a href= {% url 'category'  c.slug %} {{ c.name }} /a /li \n    {% endfor %}\n\n{% else %}\n     li   strong  There are no category present. /strong /li \n\n     /ul \n{% endif %}  \u73b0\u5728\u5728\u4f60\u7684 base.html \u4f7f\u7528 {% load rango_extras %} \u8c03\u7528\u5e76\u7528 {% get_category_list %} \u4f7f\u7528\u5b83,\u4f8b\u5982:  div class= col-sm-3 col-md-2 sidebar \n\n    {% block side_block %}\n    {% loda rango_extras %}\n    {% get_category_list %}\n    {% endblock %} /div    Note  \u6bcf\u6b21\u4fee\u6539templatetags\u4f60\u9700\u8981\u91cd\u542f\u670d\u52a1.", 
            "title": "14.2 \u4f7f\u7528\u6a21\u677f\u6807\u7b7e"
        }, 
        {
            "location": "/#143", 
            "text": "\u73b0\u5728\u8ba9\u6211\u4eec\u52a0\u5165\u81ea\u52a8\u76ee\u5f55\u9ad8\u4eae\u529f\u80fd.\u6211\u4eec\u9700\u8981\u53c2\u6570\u5316\u6a21\u677f.\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4fee\u6539 rango_extras.py :  def get_category_list(cat=None):\n    return {'cats': Category.objects.all(), 'act_cat': cat}  \u8ba9\u6211\u4eec\u4f20\u9012\u6211\u4eec\u6240\u5728\u7684\u76ee\u5f55.\u6211\u4eec\u53ef\u4ee5\u4fee\u6539 base.html .  div class= col-sm-3 col-md-2 sidebar \n\n    {% block side_block %}\n    {% get_category_list category %}\n    {% endblock %} /div   \u73b0\u5728\u8ba9\u6211\u4eec\u66f4\u65b0 cats.html \u6a21\u677f:  {% for c in cats %}\n    {% if c == act_cat %}  li  class= active    {% else  %}  li {% endif %}\n             a href= {% url 'category'  c.slug %} {{ c.name }} /a /li \n{% endfor %}  \u8fd9\u91cc\u68c0\u67e5\u662f\u5426\u662f\u5f53\u524d\u6240\u5728\u7684\u76ee\u5f55\u9875,\u5982\u679c\u76f8\u540c\u5c31\u6dfb\u52a0\u9ad8\u4eae(\u4f8b\u5982 act_cat )  \u91cd\u542fDjango\u670d\u52a1\u5e76\u8bbf\u95ee\u9875\u9762.\u6211\u4eec\u53ef\u4ee5\u4f20\u9012 category \u53d8\u91cf.\u5f53\u4f60\u6d4f\u89c8\u4e00\u4e2a\u76ee\u5f55\u9875\u9762,\u6a21\u677f\u4f1a\u8bbf\u95ee catogory \u53d8\u91cf\u5e76\u4e14\u4e3a get_category_list() \u63d0\u4f9b cat \u503c.\u7136\u540e cats.html \u4f1a\u9009\u62e9\u54ea\u4e00\u4e2a\u76ee\u5f55\u9ad8\u4eae.", 
            "title": "14.3 \u53c2\u6570\u5316\u6a21\u677f\u6807\u7b7e"
        }, 
        {
            "location": "/#15", 
            "text": "\u5728\u8fd9\u4e2a\u9636\u6bb5,\u6211\u4eec\u7684Rango\u770b\u8d77\u6765\u5df2\u7ecf\u975e\u5e38\u597d\u5566 - \u5927\u90e8\u5206\u7684\u529f\u80fd\u90fd\u5df2\u7ecf\u5b9e\u73b0\u4e86,\u5728\u8fd9\u7ae0,\u6211\u4eec\u5c06\u4e3a\u6211\u4eec\u7684Rango\u63d0\u4f9bBing\u7684\u641c\u7d22\u7684\u529f\u80fd\u800c\u4e0d\u662f\u4ec5\u4ec5\u4f7f\u7528\u76ee\u5f55.\u9996\u5148\u8ba9\u6211\u4eec\u5148\u8bbe\u7f6e\u4e00\u4e2aBing\u8d26\u6237\u6765\u4f7f\u7528\u5b83\u7684API,\u7136\u540e\u628aBing\u641c\u7d22\u96c6\u6210\u8fdbRango.", 
            "title": "15 \u589e\u52a0\u5916\u90e8\u641c\u7d22\u529f\u80fd"
        }, 
        {
            "location": "/#151-bingapi", 
            "text": "Bing\u641c\u7d22API\u63d0\u4f9b\u4e86\u5728\u4f60\u7684\u5e94\u7528\u4e2d\u5d4c\u5165\u641c\u7d22\u7ed3\u679c\u7684\u529f\u80fd.\u901a\u8fc7\u7b80\u5355\u7684\u4ea4\u4e92,\u4f60\u53ef\u4ee5\u4eceBing\u7684\u670d\u52a1\u5668\u8fd4\u56de\u4e00\u4e2aXML\u6216\u8005JSON.\u8fd9\u4e2a\u6570\u636e\u53ef\u4ee5\u901a\u8fc7XML\u6216\u8005JSON\u89e3\u6790\u5668\u8fdb\u884c\u89e3\u6790,\u6700\u540e\u7ed3\u679c\u4f20\u9012\u7ed9\u4f60\u7684\u6a21\u677f\u8fdb\u884c\u8c03\u7528.  \u5c3d\u7ba1Bing\u7684API\u53ef\u4ee5\u5904\u7406\u4e0d\u540c\u5185\u5bb9\u7684\u8bf7\u6c42,\u6211\u4eec\u53ea\u9700\u8981\u5173\u6ce8\u672c\u6559\u7a0b\u4f7f\u7528\u7684\u90e8\u5206 - \u5c31\u662f\u5904\u7406\u54cd\u5e94\u7684JSON.\u4e3a\u4e86\u4f7f\u7528Bing\u641c\u7d22\u7684API,\u4f60\u9700\u8981\u6ce8\u518c\u4e00\u4e2aAPI key.\u8fd9\u4e2akey\u53ef\u4ee5\u7ed9\u7528\u6237\u6bcf\u4e2a\u67085000\u6b21\u8bf7\u6c42\u7684\u6743\u9650,\u5bf9\u4e8e\u6211\u4eec\u4e2a\u4eba\u7528\u6237\u6765\u8bf4\u8db3\u591f\u7528\u4e86.  15.1.1 \u6ce8\u518c\u4e00\u4e2aAPI key  \u4e3a\u4e86\u6ce8\u518c\u4e00\u4e2aBing API key,\u4f60\u5fc5\u987b\u9996\u5148\u6ce8\u518c\u4e00\u4e2a\u514d\u8d39\u7684Microsoft\u8d26\u6237.\u8fd9\u4e2a\u8d26\u6237\u63d0\u4f9b\u4e86\u8bb8\u591a\u7684Microsoft\u670d\u52a1.\u5982\u679c\u4f60\u5df2\u7ecf\u6709\u4e00\u4e2aHotmail\u8d26\u6237,\u90a3\u4e48\u5c31\u4e0d\u7528\u518d\u6ce8\u518c\u4e86.\u4f60\u53ef\u4ee5\u5728\u8fd9\u91cc https://account.windowsazure.com \u6ce8\u518c\u548c\u767b\u5f55\u5e10\u53f7.  \u5f53\u4f60\u521b\u5efa\u5b8c\u5e10\u53f7,\u8bbf\u95ee  Windows Azure Marketplace Bing Search API page .\u5728\u9875\u9762\u7684\u9876\u90e8\u4f60\u9700\u8981\u70b9\u51fbSign In\u6309\u94ae - \u5982\u679c\u4f60\u5df2\u7ecf\u4f60\u5df2\u7ecf\u8fdb\u5165\u5230Microsoft\u8d26\u6237(\u4e0a\u9762\u5199\u7740Sing Out),\u5c31\u4e0d\u9700\u8981\u518d\u767b\u5f55\u4e86.  \u9875\u9762\u53f3\u8fb9\u7684\u5217\u8868\u662f\u6bcf\u6708\u7684\u4e8b\u52a1\u91cf.\u5728\u6700\u9876\u90e8\u662f5000/\u6708.\u70b9\u51fb\u53f3\u8fb9\u7684\u6ce8\u518c\u6309\u94ae - \u4f60\u5c06\u4f1a\u8ba2\u9605\u4e00\u4e2a\u514d\u8d39\u7684\u670d\u52a1.\u9605\u8bfb\u5b8c\u6709\u5173\u6761\u4f8b\u4ee5\u540e,\u5982\u679c\u540c\u610f\u6761\u6b3e\u70b9\u51fb\u6ce8\u518c\u6309\u94ae\u7ee7\u7eed.\u63a5\u4e0b\u6765\u5c06\u4f1a\u663e\u793a\u6210\u529f\u6ce8\u518c\u7684\u9875\u9762.  \u6ce8\u518c\u6210\u529f\u4ee5\u540e,\u70b9\u51fb\u9875\u9762\u9876\u90e8\u7684\u6570\u636e\u94fe\u63a5.\u5728\u8fd9\u91cc\u4f60\u5c06\u4f1a\u770b\u5230Windows Azure Marketplace\u7684\u53ef\u7528\u8d44\u6e90\u5217\u8868.\u5728\u8fd9\u4e2a\u5217\u8868\u9876\u90e8\u5e94\u5f53\u662fBing Search API - \u540c\u65f6\u53f3\u8fb9\u663e\u793a\u7684\u662f\u4f60\u5df2\u8ba2\u9605\u8be5\u8d44\u6e90.\u70b9\u51fb\u4f4d\u4e8e\u53f3\u8fb9\u7684\u4f7f\u7528.\u4f60\u5c06\u4f1a\u770b\u5230\u5982\u4e0b\u56fe\u6240\u793a\u7684\u9875\u9762.   \u4f60\u53ef\u4ee5\u901a\u8fc7\u5de6\u4fa7\u7684\u8f93\u5165\u680f\u8f93\u5165\u4fe1\u606f\u6765\u5c1d\u8bd5Bing Search API.\u4f8b\u5982\u67e5\u8be2\u680f\u5141\u8bb8\u4f60\u8f93\u5165\u67e5\u8be2\u8bed\u53e5\u6765\u53d1\u9001\u7ed9API.\u786e\u4fdd\u5728\u5c4f\u5e55\u7684\u5e95\u90e8\u9009\u62e9Web,\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u53ea\u5f97\u5230\u7f51\u9875\u641c\u7d22\u7ed3\u679c.\u6ce8\u610f\u4e0a\u4e0d\u7684\u84dd\u8272\u6846\u4e2d\u7684URL\u4f1a\u968f\u7740\u4f60\u9009\u62e9\u7684\u7f51\u9875\u5730\u5740\u800c\u6539\u53d8.\u8bb0\u4e0b\u8fd9\u4e2aWeb\u641c\u7d22URL.\u4e00\u4f1a\u6211\u4eec\u5c06\u4f1a\u5728\u6211\u4eec\u7684\u4ee3\u7801\u4e2d\u4f7f\u7528\u8fd9\u4e2aURL.\u4e0b\u9762\u662f\u4f7f\u7528\u7f51\u9875\u641c\u9519\u67e5\u8be2rango\u7684\u4f8b\u5b50.  https://api.datamarket.azure.com/Bing/Search/v1/Web?Query=%27rango%27  \u6211\u4eec\u9700\u8981\u5f97\u5230API key\u4ee5\u4fbf\u5728\u4f60\u53d1\u9001\u8bf7\u6c42\u65f6\u5f97\u5230Bing\u670d\u52a1\u5668\u7684\u8ba4\u8bc1.\u4e3a\u4e86\u83b7\u53d6\u4f60\u7684key,\u70b9\u51fb\u9875\u9762\u4e0a\u90e8\u7684\u4e3b\u5e10\u6237\u5bc6\u94a5\u73b0\u5b9e\u6309\u94ae.\u8fd9\u6837\u4f60\u5c31\u4f1a\u770b\u5230\u4f60\u7684API key\u4e86.\u4e00\u4f1a\u6211\u4eec\u5c06\u4f7f\u7528\u5b83,\u5148\u628a\u5b83\u8bb0\u4e0b\u6765 - \u8fd8\u8981\u6ce8\u610f\u4e0d\u8981\u6cc4\u9732\u8fd9\u4e2akey!\u5982\u679c\u522b\u4eba\u5f97\u5230\u4f60\u7684key,\u90a3\u4e48\u522b\u4eba\u5c31\u53ef\u4ee5\u4f7f\u7528\u4f60\u7684key\u8fdb\u884c\u514d\u8d39\u7684\u67e5\u8be2\u4e86.   Note  \u8fd9\u4e2a\u9875\u9762\u540c\u65f6\u73b0\u5b9e\u5269\u4f59\u6bcf\u6708\u7684\u4e8b\u52a1\u91cf.", 
            "title": "15.1 Bing\u641c\u7d22API"
        }, 
        {
            "location": "/#152", 
            "text": "\u4e3a\u4e86\u589e\u52a0Rango\u7684\u641c\u7d22\u529f\u80fd,\u6211\u4eec\u5fc5\u987b\u589e\u52a0\u4e00\u4e2aBing API\u67e5\u8be2\u8bed\u53e5.\u8fd9\u4e2a\u4ee3\u7801\u5c06\u4f1a\u4ece\u4e00\u4e2a\u7279\u5b9a\u7684\u7528\u6237\u83b7\u53d6\u8bf7\u6c42,\u5e76\u8fd4\u56de\u4e00\u4e2a\u5217\u8868\u4f5c\u4e3a\u7ed3\u679c.\u6240\u6709\u5728API\u67e5\u8be2\u9636\u6bb5\u7684\u9519\u8bef\u90fd\u80fd\u88ab\u5f88\u597d\u7684\u5904\u7406.\u62c6\u5206\u8fd9\u4e2a\u641c\u7d22\u51fd\u6570\u4f5c\u4e3a\u6dfb\u52a0\u51fd\u6570\u53ef\u4ee5\u6709\u6548\u7684\u5206\u79bbDjango\u4ee3\u7801\u548c\u641c\u7d22\u51fd\u6570\u4ee3\u7801.  \u5f00\u59cb,\u5728 rango \u5e94\u7528\u76ee\u5f55\u91cc\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684Python\u6a21\u5757 bing_search.py .\u4ee3\u7801\u5982\u4e0b.\u6ce8\u610f\u67e5\u770b\u6ce8\u91ca\u7684\u5185\u5bb9.  import json\nimport urllib, urllib2\n\n# Add your BING_API_KEY\n\nBING_API_KEY = ' insert_bing_api_key '\n\ndef run_query(search_terms):\n    # Specify the base\n    root_url = 'https://api.datamarket.azure.com/Bing/Search/'\n    source = 'Web'\n\n    # Specify how many results we wish to be returned per page.\n    # Offset specifies where in the results list to start from.\n    # With results_per_page = 10 and offset = 11, this would start from page 2.\n    results_per_page = 10\n    offset = 0\n\n    # Wrap quotes around our query terms as required by the Bing API.\n    # The query we will then use is stored within variable query.\n    query =  '{0}' .format(search_terms)\n    query = urllib.quote(query)\n\n    # Construct the latter part of our request's URL.\n    # Sets the format of the response to JSON and sets other properties.\n    search_url =  {0}{1}?$format=json $top={2} $skip={3} Query={4} .format(\n        root_url,\n        source,\n        results_per_page,\n        offset,\n        query)\n\n    # Setup authentication with the Bing servers.\n    # The username MUST be a blank string, and put in your API key!\n    username = ''\n\n\n    # Create a 'password manager' which handles authentication for us.\n    password_mgr = urllib2.HTTPPasswordMgrWithDefaultRealm()\n    password_mgr.add_password(None, search_url, username, BING_API_KEY)\n\n    # Create our results list which we'll populate.\n    results = []\n\n    try:\n        # Prepare for connecting to Bing's servers.\n        handler = urllib2.HTTPBasicAuthHandler(password_mgr)\n        opener = urllib2.build_opener(handler)\n        urllib2.install_opener(opener)\n\n        # Connect to the server and read the response generated.\n        response = urllib2.urlopen(search_url).read()\n\n        # Convert the string response to a Python dictionary object.\n        json_response = json.loads(response)\n\n        # Loop through each page returned, populating out results list.\n        for result in json_response['d']['results']:\n            results.append({\n            'title': result['Title'],\n            'link': result['Url'],\n            'summary': result['Description']})\n\n    # Catch a URLError exception - something went wrong when connecting!\n    except urllib2.URLError, e:\n        print  Error when querying the Bing API:  , e\n\n    # Return the list of results to the calling function.\n    return results  \u4e0a\u9762\u7684\u4ee3\u7801\u903b\u8f91\u53ef\u4ee5\u5206\u4e3a\u516d\u4e2a\u90e8\u5206:   \u9996\u5148,\u5b9a\u4e49\u51c6\u5907\u8bf7\u6c42Bing\u7684URL\u5730\u5740.  \u7136\u540e\u51c6\u5907\u7528\u4f60\u7684Bing API key\u8fdb\u884c\u8ba4\u8bc1.\u786e\u4fdd\u7528\u4f60\u7684Bing API key\u66ff\u4ee3 api_key .  \u7136\u540e\u6211\u4eec\u7528\u547d\u4ee4 urllib2.urlopen(search_url) \u8fde\u63a5Bing API.\u670d\u52a1\u5668\u8fd4\u56de\u7684\u7ed3\u679c\u4f1a\u4fdd\u5b58\u5728\u4e00\u4e2a\u5b57\u7b26\u4e32\u91cc.  \u8fd9\u4e2a\u5b57\u7b26\u4e32\u4f1a\u88ab json Python\u5305\u89e3\u6790\u6210\u4e00\u4e2aPython\u5b57\u5178\u5bf9\u8c61.  \u6211\u4eec\u904d\u5386\u6240\u6709\u8fd4\u56de\u7684\u7ed3\u679c\u751f\u6210\u4e00\u4e2a results \u5b57\u5178.\u6bcf\u4e2a\u8fd4\u56de\u7ed3\u679c\u90fd\u5e26\u6709\u9875\u9762 title ,URL link \u8fd8\u6709\u4e00\u5c0f\u6bb5 summary .  \u6700\u540e\u51fd\u6570\u8fd4\u56de\u8fd9\u4e2a\u5b57\u5178.   \u6ce8\u610f\u4eceBing\u670d\u52a1\u5668\u8fd4\u56de\u7684\u7ed3\u679c\u662fJSON.\u8fd9\u662f\u56e0\u4e3a\u6211\u4eec\u5728\u8bf7\u6c42\u4e2d\u6807\u660e\u4e86\u8fd4\u56deJSON - \u67e5\u770b\u4e00\u4e0b\u6211\u4eec\u5b9a\u4e49\u7684 search_url \u53d8\u91cf.\u5982\u679c\u5728\u5c1d\u8bd5\u8fde\u63a5Bing\u670d\u52a1\u5668\u7684\u65f6\u5019\u53d1\u751f\u4e86\u9519\u8bef,\u5c31\u4f1a\u901a\u8fc7 except \u4ee3\u7801\u5757\u4e2d\u7684 print \u8bed\u53e5\u6253\u5370\u51fa\u6765.   Note  Bing\u641c\u7d22API\u8fd8\u6709\u8bb8\u591a\u53ef\u63a7\u53c2\u6570\u6211\u4eec\u6ca1\u6709\u6d89\u53ca\u5230,\u5982\u679c\u4f60\u6709\u5174\u8da3\u53ef\u4ee5\u67e5\u770b\u8fd9\u91cc: Bing Search API Migration Guide and FAQ", 
            "title": "15.2 \u589e\u52a0\u641c\u7d22\u529f\u80fd"
        }, 
        {
            "location": "/#153-api-key", 
            "text": "\u5982\u679c\u4f60\u628a\u4f60\u7684\u4ee3\u7801\u4fdd\u5b58\u5728\u50cfGithub\u8fd9\u6837\u7684\u516c\u5171\u4ed3\u5e93,\u4f60\u5fc5\u987b\u5c0f\u5fc3\u4f60\u7684API Key\u4e86.\u4e00\u4e2a\u89e3\u51b3\u529e\u6cd5\u662f\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 keys.py \u6587\u4ef6,\u8c03\u7528\u91cc\u9762\u7684 BING_API_KEY \u53d8\u91cf.\u7136\u540e\u628a BING_API_KEY \u5bfc\u5165\u5230 bing_search.py \u91cc.\u4fee\u6539\u4f60\u7684 .gitignore \u6587\u4ef6\u5305\u542b keys.py ,\u6700\u7ec8\u4f60\u7684 keys.py \u5c31\u4e0d\u4f1a\u88ab\u6dfb\u52a0\u5230\u9879\u76ee\u91cc\u4e86.\u5b83\u53ea\u4f1a\u5b58\u50a8\u5728\u672c\u5730.", 
            "title": "15.3 \u5b89\u5168\u7684\u4fdd\u5b58\u4f60\u7684API KEY"
        }, 
        {
            "location": "/#154", 
            "text": "\u4e0a\u9762\u6211\u4eec\u5df2\u7ecf\u5b8c\u6210\u4e86Bing\u641c\u7d22API\u7684\u529f\u80fd,\u8bd5\u8bd5\u4e0b\u9762\u7684\u7ec3\u4e60. \u5982\u679c\u4f7f\u7528\u4e00\u4e2a\u516c\u5171\u4ed3\u5e93,\u91cd\u6784\u4e00\u4e0b\u4ee3\u7801\u4e0d\u8981\u628a\u4f60\u7684API key\u6cc4\u9732 ,\u5728 bing_search.py \u4e2d\u52a0\u5165 main() \u51fd\u6570\u6765\u6d4b\u8bd5\u4e00\u4e0bBing\u641c\u7d22api(\u63d0\u793a:\u52a0\u5165\u4e0b\u9762\u4ee3\u7801,\u5f53\u4f60\u4f7f\u7528 python bing_search.py \u7684\u65f6\u5019\u4f1a\u8c03\u7528 main() \u51fd\u6570)  if __name__ == '__main__':\n    main()   \u4e3b\u51fd\u6570\u5c06\u4f1a\u5411\u7528\u6237\u8bf7\u6c42\u4e00\u4e2a\u67e5\u8be2\u8bed\u53e5(\u4ece\u547d\u4ee4\u884c),\u7136\u540e\u901a\u8fc7 run_query \u65b9\u6cd5\u6765\u8bf7\u6c42Bing API,\u6700\u540e\u4f1a\u6253\u5370\u5904\u524d\u5341\u4e2a\u7ed3\u679c.  \u6253\u5370\u6bcf\u4e2a\u7ed3\u679c\u7684 rank , title \u548c URL", 
            "title": "15.4 \u7ec3\u4e60"
        }, 
        {
            "location": "/#155-rango", 
            "text": "\u4e3a\u4e86\u52a0\u5165\u5916\u90e8\u641c\u7d22\u6211\u4eec\u9700\u8981\u8fdb\u884c\u4ee5\u4e0b\u51e0\u6b65.   \u6211\u4eec\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u7ee7\u627f\u81ea base.html \u6a21\u677f\u7684 search.html \u6a21\u677f.\u8fd9\u4e2a\u6a21\u677f\u5c06\u4f1a\u5305\u542b\u4e00\u4e2aHTML form \u6765\u83b7\u53d6\u7528\u6237\u8f93\u5165\u7684\u8bf7\u6c42,\u7136\u540e\u4f1a\u7a0b\u5e8f\u8fd4\u56de\u7684\u7ed3\u679c.  \u7136\u540e\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u89c6\u56fe\u6765\u5904\u7406 search.html \u6a21\u677f\u4f20\u9012\u7ed9\u6211\u4eec\u7684\u53c2\u6570,\u7136\u540e\u8c03\u7528\u6211\u4eec\u4e0a\u9762\u5b9a\u4e49\u7684 run_query() \u51fd\u6570.   15.5.1 \u52a0\u5165\u641c\u7d22\u6a21\u677f  \u8ba9\u6211\u4eec\u73b0\u5efa\u7acb\u4e00\u4e2a search.html \u6a21\u677f.\u4ee3\u7801\u5982\u4e0b.  {% extends  base.html  %}\n\n{% load staticfiles %}\n\n{% block title %}Search{% endblock %}\n\n{% block body_block %}\n\n     div class= page-header \n         h1 Search with Rango /h1 \n     /div \n\n     div class= row \n\n         div class= panel panel-primary \n             br/ \n\n             form class= form-inline  id= user_form  method= post  action= {% url 'search' %} \n                {% csrf_token %}\n                 !-- Display the search form elements here -- \n                 input class= form-control  type= text  size= 50  name= query  value=  id= query  / \n                 input class= btn btn-primary  type= submit  name= submit  value= Search  / \n                 br / \n             /form \n\n             div class= panel \n                {% if result_list %}\n                     div class= panel-heading \n                     h3 class= panel-title Results /h3 \n                     !-- Display search results in an ordered list -- \n                     div class= panel-body \n                         div class= list-group \n                            {% for result in result_list %}\n                                 div class= list-group-item \n                                     h4 class= list-group-item-heading a href= {{ result.link }} {{ result.title }} /a /h4 \n                                     p class= list-group-item-text {{ result.summary }} /p \n                                 /div \n                            {% endfor %}\n                         /div \n                     /div \n                {% endif %}\n                 /div \n             /div \n  /div \n\n{% endblock %}  \u8fd9\u6bb5\u4ee3\u7801\u5b8c\u6210\u4e86\u4e24\u4e2a\u4e3b\u8981\u529f\u80fd:   \u5728\u6240\u6709\u60c5\u51b5\u4e0b,\u5b83\u90fd\u4f1a\u5c55\u73b0\u4e00\u4e2a\u641c\u7d22\u6846\u548c\u4e00\u4e2a\u641c\u7d22\u6309\u94ae,\u4f7f\u7528\u4e00\u4e2aHTML form \u6765\u4f9b\u7528\u6237\u8f93\u5165\u5e76\u53d1\u9001\u67e5\u8be2\u8bed\u53e5.  \u5f53 results_list \u4f20\u9012\u7ed9\u6a21\u677f\u4e0a\u4e0b\u6587\u65f6,\u6a21\u677f\u5c06\u4f1a\u5c55\u793a\u5b83\u5305\u542b\u7684\u6240\u6709\u7ed3\u679c.   \u6211\u4eec\u7528Bootstrap\u6765\u7f8e\u5316\u6211\u4eec\u7684html:panels, http://getbootstrap.com/components/#panels ,list groups, http://getbootstrap.com/components/#list-group, and inline forms, http://getbootstrap.com/css/#forms-inline.  \u4e00\u4f1a\u6211\u4eec\u5c31\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u7684\u89c6\u56fe\u4e86,\u53ea\u6709\u5f53\u8fd4\u56de\u7ed3\u679c\u65f6 results_list \u624d\u4f1a\u4f20\u9012\u7ed9\u6a21\u677f.\u5f53\u6211\u4eec\u7b2c\u4e00\u6b21\u8f7d\u5165\u6211\u4eec\u7684\u641c\u7d22\u9875\u9762\u65f6\u6211\u4eec\u8fd8\u6ca1\u6709\u5f97\u5230\u7ed3\u679c - \u56e0\u4e3a\u7528\u6237\u8fd8\u6ca1\u6709\u63d0\u4ea4\u67e5\u8be2!  15.5.2 \u6dfb\u52a0\u89c6\u56fe  \u6dfb\u52a0\u5b8c\u641c\u7d22\u6a21\u677f\u540e,\u6211\u4eec\u53ef\u4ee5\u6dfb\u52a0\u89c6\u56fe\u4e86.\u5728 views.py \u6a21\u5757\u91cc\u6dfb\u52a0\u4e0b\u9762 search() \u89c6\u56fe.  def search(request):\n\n    result_list = []\n\n    if request.method == 'POST':\n        query = request.POST['query'].strip()\n\n        if query:\n            # Run our Bing function to get the results list!\n            result_list = run_query(query)\n\n    return render(request, 'rango/search.html', {'result_list': result_list})  \u5230\u73b0\u5728\u4e3a\u6b62,\u4f60\u5e94\u5f53\u80fd\u7406\u89e3\u4e0a\u9762\u4ee3\u7801\u4e86.\u4e3b\u8981\u662f\u6dfb\u52a0\u4e86\u8c03\u7528\u6211\u4eec\u5148\u524d\u589e\u52a0\u7684 run_query() \u51fd\u6570.\u4e3a\u4e86\u8c03\u7528\u5b83\u6211\u4eec\u9700\u8981\u5bfc\u5165 bing_search.py \u6a21\u5757.\u786e\u4fdd\u8fd0\u884c\u4ee3\u7801\u524d\u5728 views.py \u6a21\u5757\u9876\u90e8\u52a0\u5165\u4e86\u5982\u4e0b\u4ee3\u7801.  from rango.bing_search import run_query  \u540c\u65f6\u4f60\u4e5f\u9700\u8981\u786e\u4fdd\u5982\u4e0b.   \u589e\u52a0 search() \u89c6\u56fe\u548c /rango/search/ URL\u7684\u6620\u5c04,\u547d\u540d\u4e3a name='search' .  \u5728 base.html \u5bfc\u822a\u680f\u589e\u52a0\u641c\u7d22\u94fe\u63a5.\u8bb0\u5f97\u4f7f\u7528 url \u6a21\u677f\u6807\u7b7e\u6765\u5f15\u7528\u94fe\u63a5.    Note  \u901a\u8fc7 relevant article on Wikipedia ,\u4e00\u4e2aApplication Programming Interface (API)\u662f\u6307\u8f6f\u4ef6\u4e4b\u95f4\u5982\u4f55\u8fdb\u884c\u4ea4\u4e92.\u5728web\u5e94\u7528\u4e2dAPI\u662f\u6307\u4e00\u7cfb\u5217\u5df2\u7ecf\u5b9a\u4e49\u7ed3\u6784\u7684HTTP\u8bf7\u6c42\u548c\u5b83\u4eec\u6240\u8fd4\u56de\u7684\u5404\u6837\u8bf7\u6c42\u4fe1\u606f.\u4efb\u4f55\u5728\u4e92\u8054\u7f51\u4e0a\u6709\u610f\u4e49\u7684\u670d\u52a1\u90fd\u53ef\u4ee5\u63d0\u4f9b\u5b83\u4eec\u81ea\u5df1\u7684API - \u4e0d\u9650\u4e8eweb\u641c\u7d22.\u66f4\u591a\u7684API\u4fe1\u606f\u8bf7\u770b  Luis Rei provides an excellent tutorial on APIs .", 
            "title": "15.5 \u628a\u641c\u7d22\u653e\u5165Rango"
        }, 
        {
            "location": "/#16", 
            "text": "\u5230\u76ee\u524d\u4e3a\u6b62\u6211\u4eec\u5df2\u7ecf\u4e3aRango\u6dfb\u52a0\u4e86\u8bb8\u591a\u529f\u80fd.\u6211\u4eec\u901a\u8fc7\u5efa\u7acb\u8fd9\u4e2a\u5e94\u7528\u8ba9\u4f60\u719f\u6089Django\u6846\u67b6,\u800c\u4e14\u4ece\u4e2d\u5b66\u5230\u4e86\u5efa\u7acb\u81ea\u5df1\u7f51\u7ad9\u65f6\u9047\u5230\u7684\u5404\u79cd\u5404\u6837\u7684\u56f0\u96be\u548c\u6311\u6218.\u4f46\u662f\u73b0\u5728Rango\u8fd8\u4e0d\u591f\u7d27\u51d1.\u5728\u672c\u7ae0,\u6211\u4eec\u5c06\u4f7f\u5404\u4e2a\u529f\u80fd\u66f4\u52a0\u7d27\u51d1,\u540c\u65f6\u6539\u5584\u5e94\u7528\u7684\u7528\u6237\u4f53\u9a8c\u5e76\u52a0\u5165\u4e00\u4e9b\u65b0\u7684\u529f\u80fd.  \u4e3a\u4e86\u4f7f\u6211\u4eec\u7684Rango\u8026\u5408\u5ea6\u66f4\u9ad8\u6211\u4eec\u5c06\u52a0\u5165\u4e0b\u9762\u7684\u529f\u80fd.   \u68c0\u6d4b\u76ee\u5f55\u548c\u9875\u9762\u7684\u70b9\u51fb\u6570,\u4f8b\u5982:  \u7d2f\u8ba1\u76ee\u5f55\u8bbf\u95ee\u6b21\u6570  \u7d2f\u8ba1\u9875\u9762\u8bbf\u95ee\u6b21\u6570  \u6536\u96c6\u76ee\u5f55\u559c\u6b22\u6570(\u67e5\u770b 19\u7ae0 )    \u5728\u76ee\u5f55\u91cc\u7ee7\u627f\u641c\u7d22\u548c\u5c55\u793a,\u4f8b\u5982:  \u5728\u6bcf\u4e2a\u76ee\u5f55\u9875\u641c\u7d22\u9875\u9762\u800c\u4e0d\u662f\u4f7f\u641c\u7d22\u9875\u5206\u5f00.  \u5728\u4fa7\u8fb9\u680f\u8fc7\u6ee4\u76ee\u5f55(\u67e5\u770b 19\u7ae0 )  \u5f53\u7528\u6237\u641c\u7d22\u65f6,\u53ea\u5237\u65b0\u641c\u7d22\u7ed3\u679c\u800c\u4e0d\u662f\u5237\u65b0\u6574\u4e2a\u9875\u9762(\u67e5\u770b 19\u7ae0 )    \u4e3a\u6ce8\u518c\u7528\u6237\u63d0\u4f9b\u670d\u52a1,\u4f8b\u5982:  \u5047\u8bbe\u4f60\u5df2\u7ecf\u4f7f\u7528\u4e86django-registration-redux,\u6211\u4eec\u9700\u8981\u8bbe\u7acb\u6ce8\u518c\u8868\u5355\u6765\u589e\u52a0\u989d\u5916\u7684\u4fe1\u606f(\u4f8b\u5982\u7f51\u7ad9,\u4e2a\u4eba\u56fe\u7247)  \u53ef\u4ee5\u8ba9\u7528\u6237\u67e5\u770b\u81ea\u5df1\u7684\u8d44\u6599  \u53ef\u4ee5\u8ba9\u7528\u6237\u4fee\u6539\u81ea\u5df1\u7684\u8d44\u6599  \u8ba9\u7528\u6237\u67e5\u770b\u5176\u4ed6\u7528\u6237\u548c\u4ed6\u4eec\u7684\u8d44\u6599      Note  \u6211\u4eec\u4e0d\u9700\u8981\u73b0\u5728\u5b8c\u6210\u6240\u6709\u7684\u4efb\u52a1.\u4e00\u4e9b\u5c06\u4f1a\u5728 \u7b2c19\u7ae0 \u91cc\u5b8c\u6210,\u5269\u4e0b\u7684\u4e00\u4e9b\u5f53\u505a\u7ec3\u4e60\u7531\u4f60\u81ea\u5df1\u5b8c\u6210.   \u5728\u6211\u4eec\u5f00\u59cb\u6dfb\u52a0\u529f\u80fd\u4e4b\u524d\u6211\u4eec\u5c06\u4f1a\u4e3a\u6bcf\u4e2a\u4efb\u52a1\u5217\u51fa\u4e00\u4e2atodo list.\u628a\u4efb\u52a1\u5212\u5206\u6210\u5c0f\u4efb\u52a1\u5c06\u4f1a\u7b80\u5316\u4efb\u52a1\u7684\u96be\u5ea6,\u6240\u4ee5\u8ba9\u6211\u4eec\u4e00\u8d77\u6765\u5404\u4e2a\u51fb\u7834\u5427.\u5728\u8fd9\u7ae0,\u6211\u4eec\u5c06\u63d0\u4f9b\u7ed9\u4f60\u4e0a\u9762\u4efb\u52a1\u7684\u5de5\u4f5c\u6d41\u7a0b.\u5df2\u7ecf\u5b66\u4e86\u8fd9\u4e48\u591a\u4e86,\u5269\u4e0b\u7684\u5de5\u4f5c\u57fa\u672c\u4e0a\u53ef\u4ee5\u72ec\u7acb\u5b8c\u6210\u4e86(\u9664\u4e86\u8bf7\u6c42AJAX).\u5728\u4e0b\u4e00\u7ae0,\u6211\u4eec\u5c06\u63d0\u4f9b\u4e00\u4e9b\u4ee3\u7801\u6765\u5c55\u793a\u5982\u4f55\u5b8c\u6210\u8fd9\u4e9b\u529f\u80fd.", 
            "title": "16 \u7ec3\u4e60"
        }, 
        {
            "location": "/#161", 
            "text": "\u73b0\u5728Rango\u63d0\u4f9b\u4e86\u4e00\u4e2a\u76f4\u63a5\u6307\u5411\u5916\u90e8\u9875\u9762\u7684\u94fe\u63a5.\u8fd9\u5bf9\u4e8e\u6211\u4eec\u8ffd\u8e2a\u6bcf\u4e2a\u9875\u9762\u70b9\u51fb\u548c\u67e5\u770b\u6b21\u6570\u5f88\u4e0d\u5229.\u4e3a\u4e86\u7d2f\u8ba1\u9875\u9762\u67e5\u770b\u6b21\u6570\u4f60\u9700\u8981\u5b8c\u6210\u4ee5\u4e0b\u6b65\u9aa4.   \u521b\u5efa\u4e00\u4e2a\u65b0\u7684 track_url() \u89c6\u56fe,\u5e76\u628a\u5b83\u6620\u5c04\u5230 /rango/got/ URL,\u547d\u540d\u4e3a name='goto' .  track_url \u89c6\u56fe\u5c06\u4f1a\u68c0\u67e5HTTP GET \u8bf7\u6c42\u53c2\u6570\u5e76\u5f97\u5230 page_id \u7684\u503c.\u8fd9\u4e2aHTTP GET \u8bf7\u6c42\u770b\u8d77\u6765\u50cf /rango/goto/?page_id=1 .  \u5728\u89c6\u56fe\u91cc,\u9009\u62e9/\u83b7\u53d6 page \u7684 page_id \u7136\u540e\u589e\u52a0\u5b83\u6240\u5173\u8054\u7684 views \u5b57\u6bb5\u5e76\u4e14 save() .  \u7136\u540e\u8fd9\u4e2a\u89c6\u56fe\u4f1a\u4f7f\u7528Django\u7684 redirect \u65b9\u6cd5,\u4f7f\u7528\u6237\u91cd\u5b9a\u5411\u5230\u5230\u8981\u8df3\u8f6c\u7684URL.  \u5982\u679cHTTP GET \u8bf7\u6c42\u6ca1\u6709 page_id \u53c2\u6570,\u6216\u8005\u8fd9\u4e2a\u53c2\u6570\u6ca1\u6709\u8fd4\u56de\u4e00\u4e2a Page \u5bf9\u8c61,\u90a3\u4e48\u76f4\u63a5\u8df3\u8f6c\u5230\u7528\u6237Rango\u7684\u4e3b\u9875.    \u4fee\u6539 category.html \u4f7f\u6240\u6709URL\u90fd\u4f7f\u7528 /rango/goto/?page_id=XXX \u8fd9\u6837\u7684\u5f62\u5f0f,\u8bb0\u5f97\u4f7f\u7528 url \u6a21\u677f\u6807\u7b7e(\u4f8b\u5982 a href=\u201d{% url \u2018goto\u2019 %}?pageid={{page.id}}\u201d )   16.1.1 \u63d0\u793a  \u5982\u679c\u4f60\u4e0d\u786e\u5b9a\u5982\u4f55\u68c0\u67e5HTTP GET \u8bf7\u6c42\u7684 page_id \u53c2\u6570,\u4e0b\u9762\u7684\u4ee3\u7801\u5c06\u4f1a\u5e2e\u52a9\u4f60.  if request.method == 'GET':\n    if 'page_id' in request.GET:\n        page_id = request.GET['page_id']  \u6bcf\u6b21\u90fd\u8981\u5148\u68c0\u67e5\u8bf7\u6c42\u7684 GET \u65b9\u6cd5,\u7136\u540e\u8bbf\u95ee\u5305\u542b\u53c2\u6570\u7684 request.GET \u5b57\u5178.\u5982\u679c page_id \u5728\u8fd9\u4e2a\u5b57\u5178\u4e2d,\u4f60\u53ef\u4ee5\u7528 request.GET['page_id'] \u63d0\u53d6\u51fa\u6765.   Note  \u4f60\u4e5f\u53ef\u4ee5\u4e0d\u5b9e\u7528\u67e5\u8be2\u8bed\u53e5\u800c\u662f\u4f7f\u7528URL\u66ff\u4ee3,\u4f8b\u5982 /rango/goto/ page_id / .\u8fd9\u6837\u4f60\u5fc5\u987b\u521b\u5efa\u4e00\u4e2aurlpattern\u6765\u62bd\u53d6\u8fd9\u4e2a page_id .", 
            "title": "16.1 \u8ddf\u8e2a\u9875\u9762\u70b9\u51fb"
        }, 
        {
            "location": "/#162", 
            "text": "Rango\u65e8\u5728\u4e3a\u7528\u6237\u63d0\u4f9b\u6709\u7528\u7684\u9875\u9762\u94fe\u63a5\u76ee\u5f55.\u73b0\u5728\u8fd9\u4e2a\u641c\u7d22\u529f\u80fd\u662f\u57fa\u4e8e\u76ee\u5f55\u641c\u7d22\u7684.\u5982\u679c\u80fd\u7ee7\u627f\u8fdb\u76ee\u5f55\u6d4f\u89c8\u5c31\u597d\u4e86.\u8ba9\u6211\u4eec\u5047\u8bbe\u7528\u6237\u5c06\u4f1a\u9996\u5148\u6d4f\u89c8\u4ed6\u4eec\u611f\u5174\u8da3\u7684\u76ee\u5f55.\u5982\u679c\u627e\u4e0d\u5230\u4ed6\u4eec\u60f3\u8981\u7684\u9875\u9762,\u7528\u6237\u5c31\u4f1a\u641c\u7d22.\u5982\u679c\u7528\u6237\u53d1\u73b0\u4e00\u4e2a\u5408\u9002\u7684\u9875\u9762,\u5c31\u4f1a\u628a\u5b83\u6dfb\u52a0\u5230\u76ee\u5f55\u91cc.\u8ba9\u6211\u4eec\u6ce8\u610f\u7b2c\u4e00\u4e2a\u95ee\u9898,\u628a\u641c\u7d22\u653e\u5165\u76ee\u5f55\u9875.\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898,\u9700\u8981\u4ee5\u4e0b\u51e0\u6b65:   \u79fb\u9664\u83dc\u5355\u680f\u7684\u641c\u7d22\u94fe\u63a5.  \u628a\u641c\u7d22\u8868\u5355\u548c\u7ed3\u679c\u6a21\u677f\u4ece search.html \u653e\u5165 category.html .  \u4fee\u6539\u641c\u7d22\u8868\u5355\u4f7f\u5b83\u7684action\u6307\u5411\u76ee\u5f55\u9875,\u4f8b\u5982: form class=\"form-inline\" id=\"user_form\" method=\"post\" action=\"{% url 'category'  category.slug %}\" .  \u4fee\u6539\u76ee\u5f55\u89c6\u56fe\u83b7\u53d6HTTP POST \u8bf7\u6c42.\u89c6\u56fe\u5c06\u4f1a\u83b7\u53d6\u6a21\u677f\u4e0a\u4e0b\u6587\u5b57\u5178\u91cc\u7684\u6240\u6709\u641c\u7d22\u7ed3\u679c.  \u540c\u65f6\u4ec5\u8ba9\u6ce8\u518c\u7528\u6237\u624d\u80fd\u591f\u8fdb\u884c\u641c\u7d22.\u6240\u4ee5\u5728 category.html \u6a21\u677f\u91cc\u52a0\u5165 {% if user.authenticated %} \u8fdb\u884c\u9650\u5236.", 
            "title": "16.2 \u5728\u76ee\u5f55\u9875\u641c\u7d22"
        }, 
        {
            "location": "/#163", 
            "text": "\u5982\u679c\u4f60\u4f7f\u7528\u4e86 django-registration-redux \u5305,\u4f60\u5fc5\u987b\u6536\u96c6 UserProfile \u6570\u636e.\u4f60\u4e0d\u9700\u8981\u8df3\u8f6c\u5230\u7528\u6237\u7684rango\u4e3b\u9875\u800c\u662f\u8df3\u8f6c\u5230\u4e00\u4e2a\u65b0\u7684\u8868\u5355,\u53bb\u6536\u96c6\u7528\u6237\u7684\u4e2a\u4eba\u7f51\u7ad9\u548curl\u4fe1\u606f.\u4e3a\u4e86\u589e\u52a0 UserProfile \u6ce8\u518c\u529f\u80fd:   \u521b\u5efa\u4e00\u4e2a profile_registration.html \u6a21\u677f\u6765\u5c55\u793a UserProfileForm .  \u521b\u5efa register_profile() \u89c6\u56fe\u6765\u83b7\u53d6\u4e2a\u4eba\u4fe1\u606f  \u6620\u5c04\u89c6\u56fe\u5230url,\u4f8b\u5982 rango/add_profile/ .  \u5728 MyRegistrationView \u4e2d\u4fee\u6539 get_sucess_url \u6307\u5411 rango/add_profile .   \u53e6\u4e00\u4e2a\u6709\u7528\u7684\u529f\u80fd\u662f\u8ba9\u7528\u6237\u4fee\u6539\u4e2a\u4eba\u4fe1\u606f.\u4ee5\u4e0b\u51e0\u6b65\u6dfb\u52a0\u8fd9\u4e2a\u529f\u80fd.   \u9996\u5148,\u5e8a\u67b6\u4e00\u4e2a\u540d\u5b57\u53eb profile.html \u6a21\u677f.\u5728\u8fd9\u4e2a\u6a21\u677f\u91cc\u6dfb\u52a0\u7528\u6237\u4e2a\u4eba\u4fe1\u606f\u76f8\u5173\u7684\u5b57\u6bb5(\u4f8b\u5982,\u7528\u6237\u540d,\u90ae\u7bb1,\u7f51\u7ad9\u548c\u56fe\u7247).  \u521b\u5efa profile() \u89c6\u56fe.\u8fd9\u4e2a\u89c6\u56fe\u5c06\u4f1a\u83b7\u53d6\u7528\u6237\u4e2a\u4eba\u4fe1\u606f\u6a21\u677f\u91cc\u7684\u6570\u636e.  \u6620\u5c04 profile() \u89c6\u56fe\u5230 /rango/profile/  \u5728\u57fa\u7840\u6a21\u677f\u91cc\u589e\u52a0\u4e2a\u4eba\u6863\u6848\u7684\u94fe\u63a5\u5230\u83dc\u5355\u680f,\u5728\u53f3\u8fb9\u589e\u52a0\u7528\u6237\u76f8\u5173\u7684\u94fe\u63a5.\u8fd9\u4e2a\u94fe\u63a5\u53ea\u63d0\u4f9b\u7ed9\u5df2\u767b\u5f55\u7684\u7528\u6237(\u4f8b\u5982 {% if user.is_authenticated %} ).   \u4e3a\u4e86\u8ba9\u7528\u6237\u6d4f\u89c8\u7528\u6237\u4eec\u4fe1\u606f,\u4f60\u53ef\u4ee5\u521b\u5efa\u7528\u6237\u9875\u9762,\u5217\u51fa\u6240\u6709\u7528\u6237\u7684\u5217\u8868.\u5982\u679c\u70b9\u51fb\u4e00\u4e2a\u7528\u6237\u9875\u9762,\u4f60\u5c06\u4f1a\u770b\u5230\u5b83\u4eec\u7684\u4e2a\u4eba\u4fe1\u606f(\u4f46\u662f\u7528\u6237\u53ea\u80fd\u66f4\u6539\u5b83\u4eec\u81ea\u5df1\u7684\u4fe1\u606f).", 
            "title": "16.3 \u521b\u5efa\u548c\u6d4f\u89c8\u4e2a\u4eba\u6863\u6848"
        }, 
        {
            "location": "/#17", 
            "text": "\u5982\u679c\u4f60\u80fd\u591f\u6839\u636e\u6211\u4eec\u4e0a\u4e00\u7ae0\u7684\u63d0\u793a\u5b8c\u6210\u7ec3\u4e60\u5c31\u592a\u597d\u4e86,\u5982\u679c\u4e0d\u80fd\u7684\u8bdd\u8fd9\u7ae0\u5c06\u4f1a\u7ed9\u4f60\u4e00\u4e9b\u63d0\u793a\u548c\u4ee3\u7801\u6765\u5e2e\u52a9\u4f60\u5b8c\u6210.", 
            "title": "17 \u4ee3\u7801\u548c\u63d0\u793a"
        }, 
        {
            "location": "/#171", 
            "text": "\u76ee\u524dRango\u76f4\u63a5\u63d0\u4f9b\u4e86\u5916\u90e8\u9875\u9762\u7684\u94fe\u63a5.\u5bf9\u4e8e\u8981\u7edf\u8ba1\u6bcf\u4e2a\u9875\u9762\u70b9\u51fb\u548c\u6d4f\u89c8\u6b21\u6570\u5f88\u4e0d\u5229.\u4e3a\u4e86\u8ba1\u7b97\u901a\u8fc7Rango\u6d4f\u89c8\u4e00\u4e2a\u9875\u9762\u7684\u6b21\u6570\u4f60\u9700\u8981\u5b8c\u6210\u4e0b\u9762\u51e0\u4e2a\u6b65\u9aa4.  17.1.1 \u521b\u5efaURL\u8ddf\u8e2a\u89c6\u56fe  \u5728 /rango/views.py \u91cc\u521b\u5efa\u4e00\u4e2a\u53eb\u505a track_url() \u7684\u65b0\u89c6\u56fe,\u5b83\u5c06\u4f1a\u83b7\u53d6HTTP GET \u8bf7\u6c42\u7684\u53c2\u6570(\u4f8b\u5982 rango/goto/?page_id=1 )\u5e76\u4e14\u4fee\u6539\u6d4f\u89c8\u9875\u9762\u7684\u6b21\u6570.  from django.shortcuts import redirect\n\ndef track_url(request):\n    page_id = None\n    url = '/rango/'\n    if request.method == 'GET':\n        if 'page_id' in request.GET:\n            page_id = request.GET['page_id']\n            try:\n                page = Page.objects.get(id=page_id)\n                page.views = page.views + 1\n                page.save()\n                url = page.url\n            except:\n                pass\n\n    return redirect(url)  \u786e\u4fdd\u5728 views.py \u6587\u4ef6\u91cc\u5f15\u5165\u4e86 redirect() \u51fd\u6570.  from django.shortcuts import redirect  17.1.2 \u6620\u5c04URL  \u5728 /rango/urls.py \u91cc\u4e3a urlpatterns \u5143\u7ec4\u589e\u52a0\u4e0b\u5217\u4ee3\u7801.  url(r'^goto/$', views.track_url, name='goto'),  17.1.3 \u4fee\u6539\u76ee\u5f55\u6a21\u677f  \u4fee\u6539 category.html \u6a21\u677f\u7684\u94fe\u63a5,\u4f7f\u7528\u6237\u70b9\u51fb\u65f6\u8bbf\u95ee rango/goto/?page_id=XXX \u800c\u4e0d\u662f\u76f4\u63a5\u8bbf\u95ee\u94fe\u63a5  {% for page in pages %}\n             li \n             a href= {% url 'goto' %}?page_id={{page.id}} {{ page.title }} /a \n        {% if page.views   1 %}\n            ({{ page.views }} views)\n            {% elif page.views == 1 %}\n            ({{ page.views }} view)\n        {% endif %}\n             /li \n{% endfor %}  \u5728\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u5728\u6a21\u677f\u91cc\u6211\u4eec\u6dfb\u52a0\u4e86\u4e00\u4e9b\u63a7\u5236\u8bed\u53e5\u6765\u5c55\u793a view , views \u6216\u8005\u4ec0\u4e48\u4e5f\u4e0d\u5c55\u793a,\u8fd9\u4f9d\u8d56\u4e8e page.views \u7684\u503c.  17.1.4 \u4fee\u6539\u76ee\u5f55\u89c6\u56fe  \u56e0\u4e3a\u6211\u4eec\u6211\u4eec\u9700\u8981\u8ffd\u8e2a\u70b9\u51fb\u6570,\u4f60\u9700\u8981\u4fee\u6539 category() \u89c6\u56fe\u4f7f\u9875\u9762\u6309\u7167\u6d4f\u89c8\u6b21\u6570\u6392\u5e8f,\u4f8b\u5982:  pages = Page.objects.filter(category=category).order_by('-views')  \u73b0\u5728\u53ef\u4ee5\u70b9\u51fb\u4ee5\u4e0b\u94fe\u63a5,\u7136\u540e\u56de\u5230\u76ee\u5f55\u9875\u68c0\u67e5\u4e00\u4e0b\u662f\u5426\u6b63\u5e38\u5de5\u4f5c.\u4e0d\u8981\u5fd8\u8bb0\u5237\u65b0\u6216\u8005\u70b9\u51fb\u5176\u4ed6\u76ee\u5f55\u6765\u67e5\u770b\u9875\u9762\u7684\u66f4\u6539.", 
            "title": "17.1 \u8ddf\u8e2a\u9875\u9762\u70b9\u51fb"
        }, 
        {
            "location": "/#172", 
            "text": "\u6211\u4eec\u9996\u5148\u9700\u8981\u79fb\u9664\u5148\u524d\u6dfb\u52a0\u7684\u641c\u7d22\u529f\u80fd\u7136\u540e\u53ea\u8ba9\u7528\u6237\u5728\u76ee\u5f55\u9875\u9762\u8fdb\u884c\u641c\u7d22.\u8fd9\u610f\u5473\u7740\u6211\u4eec\u9700\u8981\u5220\u9664\u73b0\u5728\u7684\u641c\u7d22\u9875\u9762\u548c\u641c\u7d22\u89c6\u56fe.\u6211\u4eec\u9700\u8981\u5b8c\u6210\u4e0b\u9762\u7684\u6b65\u9aa4.  17.2.1 \u79fb\u9664\u641c\u7d22  \u628a search.html \u4ee3\u7801\u653e\u5165 category.html \u4e2d.\u786e\u5b9a action \u6307\u5411 category() \u89c6\u56fe.  form class= form-inline  id= user_form  method= post  action= {% url 'category'  category.slug %} \n     {% csrf_token %}\n      !-- Display the search form elements here -- \n      input class= form-control  type= text  size= 50  name= query  value= {{query}}  id= query  / \n      input class= btn btn-primary  type= submit  name= submit  value= Search  /  /form   \u5728\u5e95\u90e8\u6dfb\u52a0 div \u6765\u5b58\u653e\u641c\u7d22\u7ed3\u679c.  div class= panel \n        {% if result_list %}\n         div class= panel-heading \n                 h3 class= panel-title Results /h3 \n                 !-- Display search results in an ordered list -- \n                 div class= panel-body \n                 div class= list-group \n                        {% for result in result_list %}\n                     div class= list-group-item \n                         h4 class= list-group-item-heading a href= {{ result.link }} {{ result.title }} /a /h4 \n                         p class= list-group-item-text {{ result.summary }} /p \n                     /div \n                {% endfor %}\n             /div \n         /div \n    {% endif %} /div   17.2.3 \u4fee\u6539\u76ee\u5f55\u89c6\u56fe  \u4fee\u6539category\u89c6\u56fe\u6765\u6d3b\u7684HTTP POST \u8bf7\u6c42(\u4f8b\u5982\u5f53\u7528\u6237\u63d0\u4ea4\u4e00\u4e2a\u641c\u7d22)\u5e76\u4e14\u628a\u7ed3\u679c\u5217\u8868\u5b58\u5165\u4e0a\u4e0b\u6587\u4e2d.\u4e0b\u9762\u7684\u4ee3\u7801\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd.  def category(request, category_name_slug):\n    context_dict = {}\n    context_dict['result_list'] = None\n    context_dict['query'] = None\n    if request.method == 'POST':\n        query = request.POST['query'].strip()\n\n        if query:\n            # Run our Bing function to get the results list!\n            result_list = run_query(query)\n\n            context_dict['result_list'] = result_list\n            context_dict['query'] = query\n\n    try:\n        category = Category.objects.get(slug=category_name_slug)\n        context_dict['category_name'] = category.name\n        pages = Page.objects.filter(category=category).order_by('-views')\n        context_dict['pages'] = pages\n        context_dict['category'] = category\n    except Category.DoesNotExist:\n        pass\n\n    if not context_dict['query']:\n        context_dict['query'] = category.name\n\n    return render(request, 'rango/category.html', context_dict)  \u6ce8\u610f\u5230\u5728\u6211\u4eec\u4f20\u9012\u7684 context_dict \u5b57\u5178\u91cc\u6211\u4eec\u5305\u542b\u4e86 resut_list \u548c query ,\u5982\u679c\u6ca1\u6709\u8bf7\u6c42,\u6211\u4eec\u5c06\u63d0\u4f9b\u4e00\u4e2a\u9ed8\u8ba4\u7684\u8bf7\u6c42,\u4f8b\u5982\u76ee\u5f55\u540d.\u7136\u540e\u8bf7\u6c42\u6846\u4f1a\u73b0\u5b9e\u8fd9\u4e2a\u53d8\u91cf.", 
            "title": "17.2 \u5728\u76ee\u5f55\u9875\u641c\u7d22"
        }, 
        {
            "location": "/#18-jquerydjango", 
            "text": "JQuery\u662f\u96c6\u6210\u4e86Javascript\u4e00\u4e9b\u5b9e\u7528\u529f\u80fd\u7684\u5e93.\u51e0\u884cJQuery\u53ef\u4ee5\u4ee3\u66ff\u51e0\u767e\u884c\u7684javascript\u4ee3\u7801.JQuery\u63d0\u4f9b\u4e86\u4e00\u6574\u5957\u64cd\u4f5cHTML\u5143\u7d20\u7684\u51fd\u6570.\u5728\u672c\u7ae0,\u6211\u4eec\u5c06\u4f1a:   \u5982\u4f55\u5728Django\u5e94\u7528\u91cc\u4f7f\u7528JQuery  \u5411\u4f60\u9610\u91ca\u5982\u4f55\u4e0eJQuery\u4ee3\u7801\u4ea4\u4e92  \u63d0\u4f9b\u4e00\u4e9b\u5c0f\u4f8b\u5b50", 
            "title": "18 JQuery\u548cDjango"
        }, 
        {
            "location": "/#181-djangojquery", 
            "text": "\u5728\u4f60\u7684\u57fa\u7840\u6a21\u677f\u91cc\u52a0\u5165\u4e0b\u9762:  {% load staticfiles %} script src= {% static  js/jquery-1.11.1.js  %} /script  script src= {% static  js/rango-jquery.js  %} /script   \u8fd9\u91cc\u6211\u4eec\u5047\u8bbe\u4f60\u5df2\u7ecf\u4e0b\u8f7d\u4e86JQuery\u5e93,\u4f46\u662f\u4f60\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5f15\u7528\u5b83\u4eec:  script src= https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js /script   \u786e\u5b9a\u4f60\u5df2\u7ecf\u8bbe\u7f6e\u4e86\u9759\u6001\u6587\u4ef6(\u53c2\u770b \u7b2c4\u7ae0 )  \u5728\u9759\u6001\u6587\u4ef6\u5939\u521b\u5efa js \u76ee\u5f55,\u7136\u540e\u628aJQuery\u6587\u4ef6(jquery.js)\u653e\u5165\u8fd9\u91cc,\u540c\u65f6\u521b\u5efa\u4e00\u4e2a\u53eb\u505a rango-jquery.js \u7684\u6587\u4ef6,\u6211\u4eec\u5c06\u4f1a\u5728\u8fd9\u91cc\u5199\u5165javascript\u4ee3\u7801.\u5728 rango-jquery.js \u91cc\u6dfb\u52a0\u4e0b\u9762:  $(document).ready(function() {\n\n        // JQuery code to be added in here.\n\n        });  \u8fd9\u6bb5javascript\u4ee3\u7801\u4f1a\u9996\u5148\u9009\u62e9\u4e00\u4e2a\u6587\u6863\u5bf9\u8c61(\u4f7f\u7528 $(document) ),\u7136\u540e\u8c03\u7528 ready() .\u4e00\u65e6\u6587\u6863\u51c6\u5907\u597d(\u4f8b\u5982,\u6574\u4e2a\u9875\u9762\u52a0\u8f7d\u5b8c\u6bd5),\u8fd9\u4e2a function(){} \u533f\u540d\u51fd\u6570\u5305\u542b\u7684\u5185\u5bb9\u4f1a\u88ab\u6267\u884c.\u8fd9\u662f\u975e\u5e38\u5e38\u7528\u7684\u65b9\u6cd5,\u5b83\u4f1a\u79fb\u690d\u7b49\u5230\u6587\u6863\u5168\u90e8\u8f7d\u5165\u5b8c\u6bd5\u518d\u6267\u884cJQuery\u51fd\u6570.\u5426\u5219\u7684\u8bdd,\u4ee3\u7801\u5c31\u4f1a\u5c1d\u8bd5\u6267\u884c,\u4f46\u662f\u8fd9\u65f6\u5019HTML\u6587\u6863\u6216\u8bb8\u8fd8\u6ca1\u6709\u4e0b\u8f7d\u5b8c\u6bd5(\u67e5\u770bhttp://api.jquery.com/ready/)  18.1.1 \u4ee3\u7801\u98ce\u683c  \u548c\u4f20\u7edf\u7684javascript\u4fa7\u91cd\u8fc7\u7a0b\u53d8\u6210\u4e0d\u4e00\u6837,JQuery\u8981\u6c42\u4f7f\u7528\u4fa7\u91cd\u529f\u80fd\u7684\u7f16\u7a0b\u98ce\u683c.\u5bf9\u4e8e\u6240\u6709\u7684JQuery\u547d\u4ee4,\u5b83\u4eec\u9075\u5faa\u76f8\u540c\u7684\u5f62\u5f0f:\u9009\u62e9\u548c\u884c\u4e3a.\u9009\u62e9\u4e00\u4e2a\u5143\u7d20\u548c\u65e9\u505a\u4e00\u4e2a\u5143\u7d20.\u6240\u4ee5\u6700\u597d\u8bb0\u4f4f\u5b83.\u8fd9\u91cc\u63d0\u4f9b\u4e86\u8bb8\u591a\u4e0d\u540c\u7684\u9009\u62e9\u64cd\u4f5c\u7b26\u548c\u4e0d\u540c\u7684\u52a8\u4f5c.\u5728\u4e0b\u4e00\u90e8\u5206\u6211\u4eec\u5c06\u4f1a\u4f7f\u7528\u4e00\u4e9bJQuery\u51fd\u6570\u6765\u65e9\u505aHTML\u5143\u7d20.", 
            "title": "18.1 \u5728\u4f60\u7684Django\u9879\u76ee/\u5e94\u7528\u91cc\u4f7f\u7528JQuery"
        }, 
        {
            "location": "/#182", 
            "text": "\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d,\u6211\u4eec\u60f3\u8981\u5c55\u793a\u4f7f\u7528Javascript\u548cJQuery\u5b8c\u6210\u76f8\u540c\u7684\u529f\u80fd,\u4ee5\u5bf9\u6bd4\u5b83\u4eec\u7684\u4e0d\u540c\u4e4b\u5904.  \u5728\u4f60\u7684 about.html \u6a21\u677f,\u52a0\u5165\u4e0b\u9762\u4ee3\u7801:  button onClick= alert('You clicked the button using Javascript.'); \n       Click Me - I run Javascript /button   \u6211\u4eec\u5728\u6309\u94ae onClick \u4e8b\u4ef6\u4e2d\u52a0\u5165 alert() \u51fd\u6570.\u52a0\u8f7d about \u9875\u9762,\u8bd5\u4e00\u8bd5.  \u73b0\u5728\u5bb9\u6211\u4eec\u7528JQuery\u52a0\u5165\u53e6\u4e00\u4e2a\u6309\u94ae:  button id= about-btn  Click Me - I'm Javascript on Speed /button  p This is a example /p  p This is another example /p   \u73b0\u5728\u8fd9\u4e2a\u6309\u94ae\u8fd8\u6ca1\u6709\u5173\u8054javascript\u4ee3\u7801.\u4e0b\u9762\u6211\u4eec\u5c06\u4f1a\u5728 rango-jquery.js \u589e\u52a0\u5982\u4e0b\u4ee3\u7801:  $(document).ready( function() {\n\n    $( #about-btn ).click( function(event) {\n        alert( You clicked the button using JQuery! );\n    });\n});  \u52a0\u8f7d\u9875\u9762\u5c1d\u8bd5\u4e00\u4e0b.\u5982\u679c\u987a\u5229\u7684\u8bdd\u70b9\u51fb\u4e24\u4e2a\u6309\u94ae\u90fd\u5c06\u4f1a\u5f39\u51fa\u4f1a\u8bdd.  \u8fd9\u4e2aJQuery/Javascript\u4ee3\u7801,\u9996\u5148\u4f1a\u9009\u62e9\u6587\u6863\u5bf9\u8c61,\u5f53\u9875\u9762\u52a0\u8f7d\u5b8c\u6bd5\u4ee5\u540e,\u4f1a\u6267\u884c\u91cc\u9762\u7684\u4ee3\u7801,\u4f8b\u5982 $(\"#about-btn\").click() ,\u5b83\u5c06\u4f1a\u9009\u62e9\u9875\u9762\u4e2did\u7b49\u4e8e about-btn \u7684\u5143\u7d20,\u7136\u540e\u4f1a\u8bbe\u7f6e\u70b9\u51fb\u4e8b\u4ef6\u542f\u7528 alert() \u51fd\u6570.  \u770b\u4e86\u4e0a\u9762\u7684\u4f8b\u5b50\u4f60\u6216\u8bb8\u4f1a\u60f3JQuery\u592a\u7b28\u91cd\u4e86,\u505a\u540c\u6837\u7684\u4e8b\u9700\u8981\u66f4\u591a\u7684\u4ee3\u7801.\u5bf9\u4e8e\u7b80\u5355\u7684\u50cf alert() \u8fd9\u6837\u7684\u51fd\u6570\u6216\u8bb8\u662f\u771f\u7684,\u4f46\u662f\u5982\u679c\u9762\u5bf9\u590d\u6742\u7684\u529f\u80fd\u5b83\u66f4\u9002\u7528,\u5b83\u4f1a\u4f7fJQuery/Javascript\u4ee3\u7801\u4fdd\u5b58\u5728\u4e0d\u540c\u7684\u6587\u4ef6(\u5b8c\u5168\u7684!!).\u8fd9\u662f\u56e0\u4e3a\u53ea\u662f\u5728\u8fd0\u884c\u7684\u65f6\u5019\u8bbe\u7f6e\u4e8b\u4ef6\u51fa\u53d1\u800c\u4e0d\u662f\u9759\u6001\u7684\u5199\u5728\u4ee3\u7801\u91cc.\u8fd9\u6837\u6211\u4eec\u5c31\u6210\u529f\u7684\u5206\u79bb\u4e86JQuery/javascript\u548cHTML\u4ee3\u7801.   Note  CSS,JAVASCRIPT\u548cHTML,\u4f60\u4e5f\u9700\u8981\u4fdd\u6301\u5b83\u4eec\u5206\u79bb!", 
            "title": "18.2 \u70b9\u51fb\u5f39\u51fa\u6846\u7684\u4f8b\u5b50"
        }, 
        {
            "location": "/#183", 
            "text": "\u5728JQuery\u91cc\u6709\u8bb8\u591a\u4e0d\u540c\u7684\u65b9\u5f0f\u6765\u9009\u62e9\u5143\u7d20.\u4ece\u4e0a\u9762\u7684\u4f8b\u5b50\u5c55\u793a\u4e86\u5982\u4f55\u4f7f\u7528 # \u6765\u5728HTML\u6587\u6863\u91cc\u627e\u5230 id \u5143\u7d20.\u67e5\u627e\u7c7b\u65f6,\u4f60\u53ef\u4ee5\u4f7f\u7528 . ,\u4f8b\u5982:  $( .ouch ).click( function(event) {\n           alert( You clicked me! ouch! );\n});  \u6240\u6709\u542b\u6709 class=\"ouch\" \u7684\u5143\u7d20\u5c06\u88ab\u9009\u62e9,\u7136\u540e\u8bbe\u7f6e\u4e00\u4e2a\u70b9\u51fb\u4e8b\u4ef6\u89e6\u53d1 alert() \u51fd\u6570.\u6ce8\u610f\u6240\u6709\u7684\u5143\u7d20\u90fd\u5c06\u4f1a\u8bbe\u7f6e\u76f8\u540c\u7684\u51fd\u6570.  HTML\u6807\u7b7e\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u5668\u8fdb\u884c\u9009\u62e9:  $( p ).hover( function() {\n            $(this).css('color', 'red');\n    },\n    function() {\n            $(this).css('color', 'blue');\n    });  \u8fd9\u91cc\u6211\u4eec\u9009\u62e9\u4e86HTML\u91cc\u6240\u6709\u7684 p \u5143\u7d20,\u5e76\u5173\u8054\u4e86\u4e24\u4e2a\u51fd\u6570,\u4e00\u4e2a\u662f\u6d6e\u52a8\u72b6\u6001\u53e6\u4e00\u4e2a\u662f\u975e\u6d6e\u52a8\u72b6\u6001.\u53ef\u4ee5\u770b\u5230\u4f7f\u7528\u4e86\u53e6\u4e00\u4e2a\u53eb\u505a this \u7684\u9009\u62e9\u5668,\u5b83\u4f1a\u9009\u62e9\u5148\u524d\u9009\u8fc7\u7684\u5143\u7d20\u7136\u540e\u5206\u522b\u8bbe\u7f6e\u4e3a\u7ea2\u8272\u6216\u84dd\u8272.\u6ce8\u610f,JQuery hover() \u51fd\u6570\u91cc\u5305\u542b\u4e24\u4e2a\u51fd\u6570(\u67e5\u770b http://api.jquery.com/hover/ ), click() \u9700\u8981\u4f20\u9012\u4e8b\u4ef6(\u67e5\u770b http://api.jquery.com/click/ ).  \u8bd5\u7740\u5728 rango-jquery.js \u91cc\u52a0\u5165\u4e0a\u9762\u4ee3\u7801,\u786e\u4fdd\u5b83\u4eec\u5305\u542b\u5728 $(document).ready() \u51fd\u6570\u91cc.\u8bd5\u60f3\u4e00\u4e0b\u5982\u679c\u628a $(this) \u6539\u6210 $(p) \u4f1a\u600e\u4e48\u6837?  \u6d6e\u52a8\u662f\u4e00\u4e2a\u9f20\u6807\u4e8b\u4ef6\u7b80\u5355\u7684\u4f8b\u5b50,\u83b7\u53d6\u66f4\u591a\u4fe1\u606f\u8bf7\u770b: http://api.jquery.com/category/events/mouse-events/ .", 
            "title": "18.3 \u9009\u62e9\u5668"
        }, 
        {
            "location": "/#184-dom", 
            "text": "\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\u6211\u4eec\u4f7f\u7528 hover \u51fd\u6570\u6765\u8bbe\u7f6e\u6d6e\u52a8\u4e8b\u4ef6\u7684\u89e6\u53d1,\u7136\u540e\u4f7f\u7528 css \u51fd\u6570\u6765\u6539\u53d8\u5143\u7d20\u7684\u989c\u8272.\u8fd9\u4e2a css \u662f\u64cd\u4f5cDOM\u7684\u4e00\u4e2a\u4f8b\u5b50,\u7136\u800c\u6807\u51c6JQuery\u5e93\u63d0\u4f9b\u4e86\u8bb8\u591a\u5176\u4ed6\u65b9\u6cd5\u6765\u64cd\u4f5cDOM.\u4f8b\u5982\u6211\u4eec\u4f7f\u7528 addClass \u51fd\u6570\u4e3a\u5143\u7d20\u6dfb\u52a0\u7c7b:  $( #about-btn ).addClass('btn btn-primary')  \u5b83\u5c06\u4f1a\u9009\u62e9id\u4e3a #about-btn \u7684\u5143\u7d20\u5e76\u4e14\u8bbe\u7f6e btn \u548c btn-primary \u7c7b.\u52a0\u5165\u4e0a\u9762\u7684\u4ee3\u7801\u540e,\u5b83\u4f1a\u6539\u53d8\u6309\u94ae\u4e3aBootstrap\u6837\u5f0f(\u5982\u679c\u4f60\u4f7f\u7528\u4e86Bootstrap\u5957\u4ef6).  \u6211\u4eec\u8fd8\u53ef\u4ee5\u9009\u62e9\u7279\u5b9a\u5143\u7d20.\u4f8b\u5982,\u8ba9\u6211\u4eec\u5728 about.html \u52a0\u5165\u4e00\u4e2a div :  div id= msg Hello /div   \u7136\u540e\u5728 rango-jquery.js \u4e2d\u52a0\u5165\u4e0b\u9762\u4ee3\u7801:  $( #about-btn ).click( function(event) {\nmsgstr = $( #msg ).html()\n        msgstr = msgstr +  o \n        $( #msg ).html(msgstr)\n });  \u5f53\u70b9\u51fb\u4e86id\u4e3a #about-btn \u7684\u6309\u94ae,\u6211\u4eec\u9996\u5148\u5f97\u5230\u5728\u5176\u4e2did\u4e3a msg \u7684\u5143\u7d20\u5e76\u4e14\u6dfb\u52a0\u4e00\u4e2a\"o\".\u7136\u540e\u901a\u8fc7\u518d\u6b21\u8c03\u7528 html \u51fd\u6570\u6539\u53d8html\u91cc\u7684\u5143\u7d20,\u4f46\u662f\u8fd9\u6b21\u7684\u4f5c\u7528\u662f\u7528 msgstr \u4ee3\u66ffhtml\u91cc\u7684\u5143\u7d20.  \u5728\u8fd9\u7ae0\u91cc\u6211\u4eec\u7b80\u5355\u7684\u4ecb\u7ecd\u4e86\u5982\u4f55\u5728Django\u5e94\u7528\u91cc\u4f7f\u7528JQuery.\u73b0\u5728\u4f60\u5e94\u5f53\u5df2\u7ecf\u77e5\u9053\u4e86\u5982\u4f55\u4f7f\u7528JQuery,\u5e76\u4e14\u90fd\u6536\u9a8c\u8bc1\u4e86JQuery\u63d0\u4f9b\u7684\u51e0\u4e2a\u529f\u80fd(\u67e5\u770b http://jquery.com ).\u5728\u4e0b\u4e00\u7ae0,\u6211\u4eec\u5c06\u4f1a\u4f7f\u7528JQuery\u6765\u5e2e\u52a9\u6211\u4eec\u5b9e\u73b0AJAX\u529f\u80fd.", 
            "title": "18.4 \u64cd\u4f5cDOM\u5b9e\u4f8b"
        }, 
        {
            "location": "/#19-ajax", 
            "text": "AJAX\u662f\u4e00\u79cd\u6df7\u5408\u6280\u672f,\u5b83\u53ef\u4ee5\u51cf\u5c11\u9875\u9762\u52a0\u8f7d\u7684\u6570\u91cf.\u4ee3\u66ff\u4e86\u4ee5\u5f80\u7684\u52a0\u8f7d\u5168\u90e8\u9875\u9762,AJAX\u53ef\u4ee5\u4f7f\u4e00\u90e8\u5206\u9875\u9762\u6216\u8005\u6570\u636e\u8fdb\u884c\u91cd\u8f7d.\u5982\u679c\u4f60\u4ece\u6765\u6ca1\u6709\u4f7f\u7528\u8fc7AJAX\u6216\u8005\u4f60\u60f3\u5728\u4f7f\u7528\u4e4b\u524d\u591a\u591a\u4e86\u89e3\u4e00\u4e0b,\u53ef\u4ee5\u67e5\u770b\u8fd9\u4e2a\u7f51\u7ad9: https://developer.mozilla.org/en-US/docs/AJAX  \u4e3a\u4e86\u7b80\u5316AJAX\u8bf7\u6c42,\u6211\u4eec\u4f7f\u7528JQuery\u5e93.\u6ce8\u610f,\u5982\u679c\u4f60\u4f7f\u7528\u4e86Twitter CSS Bootstrap\u5957\u4ef6,\u90a3\u4e48\u4ed6\u5df2\u7ecf\u52a0\u5165\u4e86JQuery.\u5426\u5219\u7684\u8bdd,\u4e0b\u8f7dJQuery\u6700\u8fd1\u7684\u7248\u672c\u7136\u540e\u52a0\u5165\u5230\u4f60\u7684\u5e94\u7528\u91cc(\u67e5\u770b..).", 
            "title": "19 \u4f7f\u7528AJAX"
        }, 
        {
            "location": "/#191-ajax", 
            "text": "\u4e3a\u4e86\u4f7f\u6211\u4eec\u65e0\u7f1d\u7684\u548cRango\u8fdb\u884c\u4ea4\u4e92,\u8ba9\u6211\u4eec\u7528AJAX\u52a0\u5165\u4e00\u4e9b\u7279\u6027,\u4f8b\u5982:   \u589e\u52a0\"Like Button\"\u8ba9\u6ce8\u518c\u7528\u6237\u53ef\u4ee5\"like\"\u4e00\u4e2a\u7279\u6b8a\u7684\u76ee\u5f55  \u589e\u52a0\u4e00\u4e2a\u884c\u5185\u7684\u76ee\u5f55\u5efa\u8bae - \u8fd9\u6837\u5f53\u7528\u6237\u952e\u5165\u7684\u65f6\u5019\u5c31\u80fd\u5f88\u5feb\u7684\u627e\u5230\u76ee\u5f55  \u589e\u52a0\"Add Button\"\u4f7f\u7528\u6237\u5feb\u901f\u7684\u65b9\u4fbf\u7684\u4e3a\u76ee\u5f55\u6dfb\u52a0\u9875\u9762   \u521b\u5efa rango-ajax.js \u6587\u4ef6\u5e76\u653e\u5165\u5230 js \u76ee\u5f55.\u7136\u540e\u5728\u4f60\u7684\u57fa\u7840\u6a21\u677f\u91cc:  script src= {% static  js/jquery.js  %} /script  script src= {% static  js/rango-ajax.js  %} /script   \u8fd9\u91cc\u6211\u4eec\u5047\u8bbe\u4f60\u5df2\u7ecf\u4e0b\u8f7d\u4e86JQuery\u5e93,\u4f46\u662f\u5982\u679c\u6ca1\u6709\u7684\u8bdd\u53ef\u4ee5\u76f4\u63a5\u5f15\u7528:  script src= https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js /script   \u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u5b8c\u6210\u52a0\u5165JQuery\u7684\u51c6\u5907\u5de5\u4f5c.", 
            "title": "19.1 AJAX\u57fa\u672c\u529f\u80fd"
        }, 
        {
            "location": "/#192-like-button", 
            "text": "\u5bf9\u4e8e\u6ce8\u518c\u7528\u6237\u53ef\u4ee5\u6807\u8bb0\"like\"\u4e00\u4e2a\u76ee\u5f55\u662f\u5f88\u53cb\u597d\u7684.\u63a5\u4e0b\u6765,\u6211\u4eec\u5c06\u8ba9\u7528\u6237\"like\"\u76ee\u5f55,\u4f46\u662f\u6211\u4eec\u5c06\u4e0d\u4f1a\u8ddf\u8e2a\u7528\u6237\u5df2\u7ecf\"like\"\u7684\u76ee\u5f55,\u6211\u4eec\u76f8\u4fe1\u7528\u6237\u4e0d\u4f1a\u91cd\u590d\u70b9\u51fb\u559c\u6b22\u6309\u94ae.  19.2.1 \u5de5\u4f5c\u6d41\u7a0b  \u4e3a\u4e86\u8ba9\u7528\u6237\"like\"\u7279\u5b9a\u7684\u76ee\u5f55\u9700\u8981\u4ee5\u4e0b\u6b65\u9aa4:   \u5728 cateegory.html \u6a21\u677f:  \u589e\u52a0\"like\"\u6309\u94ae\u5e76\u4e14\u4f7f\u7528 id=\"like\" .  \u589e\u52a0\u4e00\u4e2a\u6a21\u677f\u6807\u7b7e\u6765\u5c55\u793a\u559c\u6b22\u7684\u6570\u91cf: {{% category.likes %}}  \u6dfb\u52a0\u4e00\u4e2a div \u5e76\u4f7f\u7528 id=\"like_count\" ,\u4f8b\u5982:  div id=\"like_count\" {{ category.likes }}  /div  \u8bbe\u7f6e\u5b8c\u540e\u6a21\u677f\u4f1a\u83b7\u53d6\u559c\u6b22\u5e76\u4e14\u5c55\u793a\u559c\u6b22\u7684\u76ee\u5f55  \u6ce8\u610f,\u56e0\u4e3a category() \u89c6\u56fe\u4f1a\u4f20\u9012\u4e00\u4e2a\u76ee\u5f55\u5bf9\u8c61\u7684\u5f15\u7528,\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 {{ category.likes }} \u6765\u83b7\u53d6\u7528\u6237\u559c\u6b22\u6570    \u521b\u5efa like_category \u89c6\u56fe,\u5b83\u5c06\u4f1a\u68c0\u6d4b\u8bf7\u6c42\u5e76\u53d6\u51fa category_id \u53c2\u6570,\u5e76\u4e14\u589e\u52a0\u559c\u6b22\u76ee\u5f55\u7684\u6570\u76ee.  \u4e0d\u8981\u5f80\u5bb6\u589e\u52a0url\u6620\u5c04;\u4f8b\u5982 \u628a like_category \u89c6\u56fe\u6620\u5c04\u5230 rango/like_category/ . GET \u8bf7\u6c42\u5c06\u4f1a\u662f rango/like_category/?category_id=XXX \u6837\u5f0f.  \u548c\u4ee5\u5f80\u8fd4\u56deHTML\u9875\u9762\u4e0d\u540c,\u8fd9\u4e2a\u89c6\u56fe\u5c06\u8fd4\u56de\u65b0\u7684\u559c\u6b22\u76ee\u5f55\u603b\u6570.    \u73b0\u5728\u5728 rango-ajax.js \u6587\u4ef6\u4e2d\u52a0\u5165JQuery\u4ee3\u7801\u6765\u53d1\u9001AJAX GET \u8bf7\u6c42.  \u5982\u679c\u8bf7\u6c42\u6210\u529f, \u4fee\u6539 #like_count \u5143\u7d20\u5e76\u9690\u85cf\u559c\u6b22\u6309\u94ae.     19.2.2 \u4fee\u6539\u76ee\u5f55\u6a21\u677f  \u6211\u4eec\u9700\u8981\u6dfb\u52a0 id=\"like\"\u7684 \"Like\"\u6309\u94ae,\u5e76\u4e14\u521b\u5efa\u4e00\u4e2a div \u6765\u5c55\u793a\u559c\u6b22\u6570\u91cf {{% category.likes %}} .  p  strong id= like_count {{ category.likes }} /strong  people like this category\n\n{% if user.is_authenticated %}\n         button id= likes  data-catid= {{category.id}}  class= btn btn-primary  type= button \n         span class= glyphicon glyphicon-thumbs-up /span \n        Like\n         /button \n{% endif %} /p   19.2.3 \u521b\u5efa\u559c\u6b22\u76ee\u5f55\u89c6\u56fe  \u5728 rango/views.py \u91cc\u521b\u5efa like_category \u89c6\u56fe,\u5b83\u4f1a\u68c0\u6d4b\u8bf7\u6c42\u5e76\u62bd\u53d6\u51fa category_id \u7136\u540e\u589e\u52a0\u559c\u6b22\u76ee\u5f55\u7684\u6570\u91cf.  from django.contrib.auth.decorators import login_required\n\n@login_required\ndef like_category(request):\n\n    cat_id = None\n    if request.method == 'GET':\n        cat_id = request.GET['category_id']\n\n    likes = 0\n    if cat_id:\n        cat = Category.objects.get(id=int(cat_id))\n        if cat:\n            likes = cat.likes + 1\n            cat.likes =  likes\n            cat.save()\n\n    return HttpResponse(likes)  \u8fd9\u91cc\u53ea\u6709\u6ce8\u518c\u7528\u6237\u624d\u6709\u6743\u9650\u6807\u8bb0\u559c\u6b22\u7684\u76ee\u5f55.\u8fd9\u662f\u89c6\u56fe\u5047\u8bbe\u901a\u8fc7 GET \u65b9\u5f0f\u4f20\u9012\u8fdb\u4e00\u4e2a category_id \u53d8\u91cf,\u8fd9\u6837\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u8981\u66f4\u6539\u54ea\u4e2a\u76ee\u5f55.\u5728\u8fd9\u4e2a\u89c6\u56fe\u91cc,\u5982\u679c\u6211\u4eec\u9700\u8981\u7684\u8bdd\u53ef\u4ee5\u8ddf\u8e2a\u548c\u8bb0\u5f55\u7279\u5b9a\u7528\u6237\u559c\u6b22\u7684\u76ee\u5f55 - \u4f46\u662f\u5728\u8fd9\u91cc\u6211\u4eec\u4e3a\u4e86\u4fdd\u6301AJAX\u7b80\u5355\u5c31\u4e0d\u8fd9\u6837\u505a\u4e86.  \u4e0d\u8981\u5fd8\u8bb0\u5728 rango/urls.py \u91cc\u589e\u52a0URL\u6620\u5c04.\u4fee\u6539 urlpatterns \u5982\u4e0b:  url(r'^like_category/$', views.like_category, name='like_category'),  19.2.4 \u8bbe\u7f6eAJAX\u8bf7\u6c42  \u73b0\u5728\u9700\u8981\u5728 rango-ajax.js \u91cc\u6dfb\u52a0\u4e00\u4e9bJQuery\u4ee3\u7801\u6765\u5b8c\u6210AJAX GET \u8bf7\u6c42.\u589e\u52a0\u4ee3\u7801\u5982\u4e0b:  $('#likes').click(function(){\n    var catid;\n    catid = $(this).attr( data-catid );\n    $.get('/rango/like_category/', {category_id: catid}, function(data){\n               $('#like_count').html(data);\n               $('#likes').hide();\n    });\n});  \u8fd9\u6bb5JQuery/Javascript\u4ee3\u7801\u5c06\u4f1a\u5904\u7406id\u4e3a #likes \u7684\u5143\u7d20,\u4f8b\u5982\u6309\u94ae.\u5f53\u70b9\u51fb\u8fc7\u540e,\u5b83\u5c06\u4f1a\u4ece\u6309\u94ae\u5143\u7d20\u91cc\u62bd\u53d6\u51facategory\u7684id,\u5e76\u628a category_id \u5199\u5165\u4e00\u4e2aAJAX GET \u8bf7\u6c42\u4e2d,\u8fd9\u4e2a\u8bf7\u6c42\u7684\u5730\u5740\u662f /rango/like_category/ .\u5982\u679c\u8bf7\u6c42\u6210\u529f\u7684\u8bdd,\u8fd9\u4e2aid\u4e3a like_count \u7684HTML\u5143\u7d20\u5c06\u4f1a\u66f4\u65b0\u4e3a\u8fd4\u56de\u7684\u5185\u5bb9,\u800cid\u4e3a likes \u7684\u6309\u94ae\u5c06\u4f1a\u88ab\u9690\u85cf.  \u8fd9\u80cc\u540e\u8fd0\u884c\u7684\u673a\u7406\u6709\u4e9b\u590d\u6742.\u57fa\u672c\u4e0a,\u5f53\u4e00\u4e2a\u6309\u94ae\u88ab\u70b9\u51fb\u540e\u5c31\u4f1a\u751f\u6210\u4e00\u4e2aAJAX\u8bf7\u6c42,\u5b83\u5c06\u4f1a\u6620\u5c04\u5230\u76f8\u5e94\u7684url,\u4f20\u9012\u7ed9 like_category \u89c6\u56fe,\u6700\u540e\u89c6\u56fe\u5c06\u4f1a\u66f4\u6539\u76ee\u5f55\u5e76\u8fd4\u56de\u65b0\u7684\u559c\u6b22\u6570\u76ee.\u5f53AJAX\u8bf7\u6c42\u5f97\u5230\u54cd\u5e94\u5b83\u5c31\u4f1a\u4fee\u6539\u90e8\u5206\u9875\u9762,\u4f8b\u5982\u6587\u672c\u548c\u6309\u94ae. #like \u6309\u94ae\u5c06\u4f1a\u88ab\u9690\u85cf.", 
            "title": "19.2 \u589e\u52a0\"Like Button\""
        }, 
        {
            "location": "/#193", 
            "text": "\u5982\u679c\u6211\u4eec\u63d0\u4f9b\u7ed9\u7528\u6237\u5feb\u901f\u5bfb\u627e\u76ee\u5f55\u7684\u65b9\u6cd5\u90a3\u5c31\u518d\u597d\u4e0d\u8fc7\u4e86,\u800c\u4e0d\u662f\u8ba9\u7528\u6237\u6d4f\u89c8\u5c1d\u5c1d\u7684\u5217\u8868.\u6211\u4eec\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u63d0\u793a\u7ec4\u5efa\u4f7f\u7528\u6237\u8f93\u5165\u4e00\u4e2a\u5b57\u6bcd\u6216\u5355\u8bcd\u7684\u4e00\u90e8\u5206,\u7136\u540e\u4f1a\u8fd4\u56de\u4e00\u4e2a\u63d0\u793a\u76ee\u5f55\u5217\u8868,\u8fd9\u6837\u7528\u6237\u5c31\u53ef\u4ee5\u9009\u62e9\u5b83\u4eec\u4e86.\u968f\u7740\u7528\u6237\u7684\u8f93\u5165\u670d\u52a1\u5668\u8fd4\u56de\u7684\u76ee\u5f55\u5c06\u4f1a\u66f4\u52a0\u63a5\u8fd1\u7528\u6237\u6240\u9700\u8981\u7684.  19.3.1 \u5de5\u4f5c\u6d41\u7a0b  \u4f60\u9700\u8981\u4ee5\u4e0b\u6b65\u9aa4.   \u521b\u5efa\u4e00\u4e2a\u5e26\u53c2\u51fd\u6570 get_category_list(max_results=0, starts_with='') ,\u5982\u679c max_result=0 \u7684\u8bdd\u5b83\u4f1a\u8fd4\u56de\u6240\u6709\u4ee5 starts_with \u5f00\u5934\u7684\u76ee\u5f55,\u5426\u5219\u7684\u8bdd\u5b83\u4f1a\u8fd4\u56de\u6700\u591a max_results \u4e2a\u76ee\u5f55.  \u8fd9\u4e2a\u51fd\u6570\u5c06\u4f1a\u8fd4\u56de\u4e00\u4e2a\u76ee\u5f55\u5bf9\u8c61\u7684\u5217\u8868,\u8fde\u540c\u5b83\u4eec\u5df2\u7ecf\u7f16\u7801\u8fc7\u540e\u7684 url \u5c5e\u6027.    \u521b\u5efa\u4e00\u4e2a\u53eb\u505a suggest_category \u7684\u89c6\u56fe,\u5b83\u5c06\u4f1a\u68c0\u6d4b\u8bf7\u6c42\u5e76\u62bd\u53d6\u76ee\u5f55\u67e5\u8be2\u8bed\u53e5.  \u5047\u8bbe GET \u8bf7\u6c42\u5df2\u7ecf\u751f\u6210\u5e76\u5c1d\u8bd5\u5f97\u5230\u67e5\u8be2\u5c5e\u6027.  \u5982\u679c\u67e5\u8be2\u8bed\u53e5\u975e\u7a7a,\u8be2\u95ee\u76ee\u5f55\u6a21\u578b\u83b7\u53d6\u83b7\u53d68\u4e2a\u6700\u524d\u9762\u7684\u4ee5\u67e5\u8be2\u5b57\u7b26\u4e32\u4e3a\u9996\u7684\u76ee\u5f55.  \u8fd9\u4e2a\u76ee\u5f55\u5bf9\u8c61\u5217\u8868\u5c06\u4f1a\u901a\u8fc7\u6a21\u677f\u6574\u5408\u8fdbHTML\u7684\u4e00\u90e8\u5206.    \u6211\u4eec\u4e0d\u7528\u518d\u65b0\u5efa\u4e00\u4e2a suggestions.html \u6a21\u677f\u4e86,\u6211\u4eec\u53ef\u4ee5\u91cd\u7528 cats.html .\u5b83\u53ef\u4ee5\u5c55\u793a\u540c\u6837\u7c7b\u578b\u7684\u6570\u636e.(\u76ee\u5f55)  \u8ba9\u5ba2\u6237\u7aef\u8bf7\u6c42\u8fd9\u4e2a\u6570\u636e,\u4f60\u9700\u8981\u521b\u5efa\u4e00\u4e2aURL\u6620\u5c04:\u8ba9\u6211\u4eec\u547d\u540d\u4e3a category_suggest \u597d\u4e86   \u6620\u5c04\u89c6\u56fe\u548c\u6a21\u677f\u540e,\u4f60\u9700\u8981\u4fee\u6539 base.html \u6a21\u677f\u5e76\u6dfb\u52a0\u4e00\u4e9bjavascript\u4ee3\u7801\u4ee5\u4fbf\u5c55\u793a\u7528\u6237\u8f93\u5165\u7684\u76ee\u5f55.   \u5728 base.html \u6a21\u677f\u91cc\u4fee\u6539\u4fa7\u8fb9\u680f,\u6dfb\u52a0\u8fdb\u4e00\u4e2a id=\"cats\" \u7684 div \u4ee5\u4fbf\u5448\u73b0\u76ee\u5f55.JQuery/AJAX\u5c06\u4f1a\u4fee\u6539\u8fd9\u4e2a\u5143\u7d20.  \u5728\u8fd9\u4e2a div \u4e0a\u9762\u6dfb\u52a0\u4e00\u4e2a\u8f93\u5165\u6846\u4f7f\u7528\u6237\u53ef\u4ee5\u8f93\u5165\u76ee\u5f55\u7684\u5b57\u6bcd,\u4f8b\u5982: input  class=\"input-medium search-query\" type=\"text\" name=\"suggestion\" value=\"\" id=\"suggestion\" /    \u5f53\u8fd9\u4e9b\u5143\u7d20\u90fd\u6dfb\u52a0\u4fee\u6539\u5b8c\u6bd5,\u4f60\u9700\u8981\u6dfb\u52a0\u4e00\u4e9bJQuery\u4ee3\u7801\u6765\u4fee\u6539\u7528\u6237\u8f93\u5165\u6240\u5448\u73b0\u7684\u76ee\u5f55\u5217\u8868.  \u5728 input \u91cc\u5173\u8054\u4e00\u4e2aid\u4e3a \"suggestion\" \u7684\u6309\u952e\u4e8b\u4ef6  $('#suggestion').keyup(function(){ ... })  \u5f53\u6309\u952e\u7ed3\u675f\u62ac\u8d77\u65f6\u8c03\u7528\u4e00\u4e2aajax\u6765\u8bf7\u6c42\u66f4\u65b0\u76ee\u5f55\u5217\u8868  \u7136\u540e\u4f7f\u7528JQuery .get() \u51fd\u6570,\u4f8b\u5982 $(this).get( ... )  \u5982\u679c\u8c03\u7528\u6210\u529f,\u7528\u8fd4\u56de\u7684\u6570\u636e\u66ff\u6362 id=\"cats\" \u7684 div .  \u8fd9\u91cc\u4f60\u53ef\u4ee5\u4f7f\u7528JQuery\u7684 .html() \u51fd\u6570,\u4f8b\u5982 $('#cats').html( data )     19.3.2  \u53c2\u6570\u5316\u83b7\u53d6\u76ee\u5f55\u5217\u8868\u51fd\u6570  \u5728\u8fd9\u4e2a\u51fd\u6570\u7684\u5e2e\u52a9\u4e0b,\u6211\u4eec\u4f7f\u7528\u4e00\u4e2a\u8fc7\u6ee4\u5668\u6765\u67e5\u627e\u4ee5\u63d0\u4f9b\u7684\u5b57\u7b26\u4e32\u5f00\u5934\u7684\u76ee\u5f55.\u6211\u4eec\u5c06\u4f7f\u7528 istartwith \u6765\u8fdb\u884c\u8fc7\u6ee4,\u5b83\u53ef\u4ee5\u786e\u4fdd\u8f93\u5165\u7684\u5927\u5c0f\u5199\u65e0\u5173.\u5982\u679c\u60f3\u4f7f\u7528\u5927\u5c0f\u5199\u76f8\u5173\u90a3\u5c31\u4e45\u4f7f\u7528 startswith \u6765\u66ff\u4ee3.  def get_category_list(max_results=0, starts_with=''):\n        cat_list = []\n        if starts_with:\n                cat_list = Category.objects.filter(name__istartswith=starts_with)\n\n        if max_results   0:\n                if len(cat_list)   max_results:\n                        cat_list = cat_list[:max_results]\n\n        return cat_list  19.3.4 \u6620\u5c04\u89c6\u56fe\u5230URL  \u5728 rango/urls.py \u7684 urlpatterns \u5143\u7ec4\u589e\u52a0\u4ee5\u4e0b:  url(r'^suggest_category/$', views.suggest_category, name='suggest_category'),  19.3.5 \u4fee\u6539\u57fa\u7840\u6a21\u677f  \u5728\u57fa\u7840\u6a21\u677f\u7684\u4fa7\u8fb9\u680f\u52a0\u5165 div \u5982\u4e0b:  ul class= nav nav-list \n         li class= nav-header Find a Category /li \n         form \n         label /label \n         li input  class= search-query span10  type= text  name= suggestion  value=  id= suggestion  / /li \n         /form  /ul  div id= cats  /div   \u8fd9\u91cc\u6211\u4eec\u52a0\u5165\u4e86\u4e00\u4e2a id=\"suggestion\" \u7684\u8f93\u5165\u6846\u548c\u4e00\u4e2a id=\"cats\" \u7684div(\u8fd9\u4e2adiv\u7528\u6765\u5c55\u793a\u8fd4\u56de\u7ed3\u679c).\u6211\u4eec\u8fd9\u91cc\u4e0d\u9700\u8981\u52a0\u5165\u6309\u94ae,\u56e0\u4e3a\u6211\u4eec\u6dfb\u52a0\u4e86\u4e00\u4e2a\u6309\u952e\u62ac\u8d77\u7684\u4e8b\u4ef6,\u89e6\u53d1\u5b83\u53ef\u4ee5\u4f20\u9001\u63d0\u793a\u8bf7\u6c42.  19.3.6 \u589e\u52a0AJAX\u8bf7\u6c42\u63d0\u793a  \u5728 js/rango-ajax.js \u589e\u52a0\u5982\u4e0b:  $('#suggestion').keyup(function(){\n        var query;\n        query = $(this).val();\n        $.get('/rango/suggest_category/', {suggestion: query}, function(data){\n         $('#cats').html(data);\n        });\n});  \u8fd9\u91cc\u6211\u4eec\u7ed1\u5b9a\u4e86\u4e00\u4e2a id=\"suggestion\" \u7684\u8f93\u5165\u6846\u6765\u6355\u6349\u6309\u952e\u62ac\u8d77\u4e8b\u4ef6.\u5f53\u5b83\u83b7\u53d6\u8f93\u5165\u6846\u7684\u5185\u5bb9\u540e\u4f1a\u628a\u8ba9\u653e\u5165 query \u53d8\u91cf.\u7136\u540e\u4f1a\u8c03\u7528\u4e00\u4e2aAJAX GET \u8bf7\u6c42,\u8fd9\u4e2a\u8bf7\u6c42\u91cc\u5305\u542b query \u53c2\u6570.\u5982\u679c\u8bf7\u6c42\u6210\u529f,\u8fd9\u4e2a id=\"cats\" \u7684HTML\u5143\u7d20(div)\u4f1a\u66f4\u65b0\u76ee\u5f55\u5217\u8868.", 
            "title": "19.3 \u589e\u52a0\u884c\u5185\u76ee\u5f55\u63d0\u793a"
        }, 
        {
            "location": "/#194", 
            "text": "\u4e3a\u4e86\u8ba9\u6ce8\u518c\u7528\u6237\u5feb\u901f\u7b80\u5355\u7684\u6dfb\u52a0\u4e00\u4e2a\u9875\u9762\u5230\u76ee\u5f55\u91cc,\u5728\u6bcf\u4e2a\u641c\u7d22\u7ed3\u679c\u65c1\u8fb9\u6dfb\u52a0\"Add\"\u6309\u94ae.   \u4fee\u6539 category.html \u6a21\u677f:  \u5728\u6bcf\u4e2a\u641c\u7d22\u7ed3\u679c\u540e\u9762\u52a0\u5165\u4e00\u4e2a\u5c0f\u6309\u94ae(\u5982\u679c\u7528\u6237\u5df2\u7ecf\u9a8c\u8bc1),\u540c\u65f6\u52a0\u5165\u6807\u9898\u548curl\u4fe1\u606f,\u4ee5\u4fbfJQuery\u80fd\u591f\u62bd\u53d6\u51fa\u6765.  \u5728\u76ee\u5f55\u7684\u6bcf\u4e2a\u9875\u9762\u90fd\u7528 id=\"page\" \u7684 div \u5305\u542b,\u8fd9\u6837\u5f53\u9875\u9762\u589e\u52a0\u7684\u65f6\u5019\u4f1a\u66f4\u65b0.  \u5982\u679c\u4f60\u559c\u6b22\u7684\u8bdd\u79fb\u9664\u589e\u52a0\u6309\u94ae\u7684\u94fe\u63a5.    \u589e\u52a0\u4e00\u4e2a auto_add_page \u89c6\u56fe,\u5b83\u4f1a\u63a5\u6536 GET \u8bf7\u6c42\u7684\u53c2\u6570(title,utl,catid)\u5e76\u4e14\u6dfb\u52a0\u5230\u76ee\u5f55.  \u6620\u5c04\u89c6\u56fe\u5230url url(r'^auto_add_page/$', views.auto_add_page, name='auto_add_page')  \u4f7f\u7528JQuery\u7ed1\u5b9a\u6309\u94ae\u4e8b\u4ef6 - \u5f53\u6dfb\u52a0\u8fc7\u540e\u9690\u85cf\u6309\u94ae.\u540c\u65f6\u4e5f\u4fee\u6539\u76ee\u5f55\u9875\u7684\u90a3\u4e9b\u9875\u9762.   19.4.1 \u63d0\u793a  HTML\u6a21\u677f\u4ee3\u7801:  {% if user.is_authenticated %}\n         button data-catid= {{category.id}}  data-title= {{ result.title }}  data-url= {{ result.link }}  class= rango-add btn btn-mini btn-info  type= button Add /button \n{% endif %}  JQuery\u4ee3\u7801:  \u6ce8\u610f\u8fd9\u91cc\u6211\u4eec\u9700\u8981\u7ed1\u5b9a\u6240\u6709 rango-add \u7c7b\u6309\u94ae\u7684\u4e8b\u4ef6.  \u89c6\u56fe\u4ee3\u7801:  @login_required\ndef auto_add_page(request):\n    cat_id = None\n    url = None\n    title = None\n    context_dict = {}\n    if request.method == 'GET':\n        cat_id = request.GET['category_id']\n        url = request.GET['url']\n        title = request.GET['title']\n        if cat_id:\n            category = Category.objects.get(id=int(cat_id))\n            p = Page.objects.get_or_create(category=category, title=title, url=url)\n\n            pages = Page.objects.filter(category=category).order_by('-views')\n\n            # Adds our results list to the template context under name pages.\n            context_dict['pages'] = pages\n\n    return render(request, 'rango/page_list.html', context_dict)", 
            "title": "19.4 \u7ec3\u4e60"
        }, 
        {
            "location": "/#20", 
            "text": "\u5bf9\u9879\u76ee\u8fdb\u884c\u6d4b\u8bd5\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u4e60\u60ef.\u8bb8\u591a\u8f6f\u4ef6\u5de5\u7a0b\u5e08\u4e13\u95e8\u8d1f\u8d23\u7f16\u5199\u6d4b\u8bd5\u6765\u786e\u4fdd\u8f6f\u4ef6\u7684\u5065\u58ee\u6027.\u5f53\u7136,\u5927\u591a\u6570\u65f6\u5019\u8981\u4e48\u662f\u6ca1\u6709\u65f6\u95f4\u5199,\u8981\u4e48\u662f\u5bf9\u81ea\u5df1\u7684\u4ee3\u7801\u5f88\u6709\u81ea\u4fe1.  \u5728 Django Tutorial ,\u6709\u8bb8\u591a\u539f\u56e0\u8ba9\u6211\u4eec\u5199\u6d4b\u8bd5:   \u6d4b\u8bd5\u5c06\u4f1a\u8282\u7701\u65f6\u95f4: \u4e00\u4e2a\u590d\u6742\u7684\u7cfb\u7edf\u5982\u679c\u8fdb\u884c\u6539\u52a8\u4f60\u4e0d\u77e5\u9053\u4f1a\u5728\u4ec0\u4e48\u5730\u65b9\u53d1\u751f\u9519\u8bef.  \u6d4b\u8bd5\u4e0d\u4ec5\u80fd\u53d1\u73b0\u95ee\u9898,\u800c\u4e14\u80fd\u9632\u6b62\u95ee\u9898\u51fa\u73b0: \u6d4b\u8bd5\u53ef\u4ee5\u5c55\u793a\u4ee3\u7801\u91cc\u54ea\u91cc\u6ca1\u7b26\u5408\u9884\u671f.  \u6d4b\u8bd5\u4f7f\u4f60\u7684\u4ee3\u7801\u66f4\u6f02\u4eae:\"\u6ca1\u6709\u6d4b\u8bd5\u7684\u4ee3\u7801\u662f\u8bbe\u8ba1\u7684\u5931\u8d25\",Jacob Kaplan-Moss,\u4e00\u4e2aDjango\u5f00\u53d1\u8005\u8bf4.  \u6d4b\u8bd5\u5e2e\u52a9\u56e2\u961f\u5408\u4f5c: \u5b83\u80fd\u786e\u4fdd\u56e2\u961f\u4e0d\u4f1a\u8f7b\u6613\u7684\u7834\u574f\u4ee3\u7801.   \u901a\u8fc7Pyhton\u6559\u7a0b http://docs.python-guide.org/en/latest/writing/tests/ ,\u5f53\u4f60\u5199\u6d4b\u8bd5\u7684\u65f6\u5019\u9700\u8981\u9075\u5faa\u8bb8\u591a\u89c4\u5219.\u4e0b\u9762\u662f\u4e00\u4e9b\u4e3b\u8981\u89c4\u5219.   \u6d4b\u8bd5\u6ce8\u91cd\u5c0f\u529f\u80fd  \u6d4b\u8bd5\u6709\u660e\u786e\u7684\u76ee\u7684  \u6d4b\u8bd5\u662f\u72ec\u7acb\u7684  \u5728\u4f60\u5b8c\u6210\u4ee3\u7801,\u63d0\u4ea4\u4ee3\u7801\u4e4b\u524d\u8fd0\u884c\u6d4b\u8bd5  \u6d4b\u8bd5\u4ee3\u7801\u53d1\u5e03\u65f6\u6700\u597d\u6709\u4e00\u4e2a\u94a9\u5b50.  \u5728\u6d4b\u8bd5\u4e2d\u4f7f\u7528\u957f\u7684\u63cf\u8ff0\u6027\u7684\u540d\u5b57.    Note  \u5728\u8fd9\u7ae0\u6211\u4eec\u73b0\u5728\u53ea\u662f\u63d0\u4f9b\u57fa\u7840\u7684\u6d4b\u8bd5,\u5b83\u53ea\u9075\u5faa Django Tutorial \u7684\u4e00\u90e8\u5206.\u6211\u4eec\u5e0c\u671b\u5728\u5c06\u6765\u80fd\u6dfb\u52a0\u66f4\u591a.", 
            "title": "20 \u81ea\u52a8\u5316\u6d4b\u8bd5"
        }, 
        {
            "location": "/#201", 
            "text": "\u5728\u5efa\u7acbDjango\u5e94\u7528\u65f6\u5c31\u5df2\u7ecf\u6709\u4e86\u6d4b\u8bd5.\u4f60\u53ef\u4ee5\u7528\u4e0b\u9762\u997f\u547d\u4ee4:  $ python manage.py test rango\n\nCreating test database for alias 'default'...\n\n----------------------------------------------------------------------\nRan 0 tests in 0.000s\n\nOK\nDestroying test database for alias 'default'...  \u8fd9\u4e2a\u547d\u4ee4\u5c06\u4f1a\u5bf9Rango\u5e94\u7528\u8fdb\u884c\u6d4b\u8bd5.\u73b0\u5728\u4ec0\u4e48\u4e8b\u90fd\u6ca1\u6709\u53d1\u751f.\u662f\u56e0\u4e3a rango/tests.py \u53ea\u5305\u542b\u4e86\u5bfc\u5165\u8bed\u53e5.\u6bcf\u6b21\u4f60\u521b\u5efa\u4e00\u4e2a\u5e94\u7528,Django\u90fd\u4f1a\u81ea\u52a8\u7684\u521b\u5efa\u4e00\u4e2atest\u6587\u4ef6\u6765\u9f13\u52b1\u4f60\u5199\u6d4b\u8bd5.  \u8fd9\u4e2a\u8f93\u51fa\u63d0\u5230\u4e86\u4e00\u4e2a\u53eb default \u7684\u6570\u636e\u5e93,\u5f53\u4f60\u8fd0\u884c\u6d4b\u8bd5\u7684\u65f6\u5019,\u4f1a\u5efa\u7acb\u4e00\u4e2a\u4e34\u65f6\u7684\u6570\u636e\u5e93,\u4f60\u7684\u6d4b\u8bd5\u90fd\u4f1a\u8fd0\u884c\u5728\u5b83\u4e4b\u4e0a.\u8fd9\u6837\u7684\u8bdd\u6d4b\u8bd5\u5c31\u548c\u4f60\u73b0\u6709\u7684\u6570\u636e\u5e93\u8fdb\u884c\u5206\u79bb.", 
            "title": "20.1 \u8fd0\u884c\u6d4b\u8bd5"
        }, 
        {
            "location": "/#202", 
            "text": "\u597d\u4e86,\u8ba9\u6211\u4eec\u5efa\u7acb\u4e00\u4e2a\u6d4b\u8bd5.\u5728\u76ee\u5f55\u6a21\u578b,\u6211\u4eec\u5e0c\u671b\u6d4f\u89c8\u6570\u4e0d\u4f1a\u51fa\u73b0\u8d1f\u6570,\u56e0\u4e3a\u6d4f\u89c8\u6570\u6c38\u8fdc\u4e0d\u4f1a\u53c8\u8d1f\u6570.\u4e3a\u4e86\u521b\u5efa\u4e00\u4e2a\u6d4b\u8bd5\u6211\u4eec\u9700\u8981\u5728 rango/tests.py \u91cc\u6dfb\u52a0\u5982\u4e0b:  from django.test import TestCase\n\nfrom rango.models import Category\n\nclass CategoryMethodTests(TestCase):\n\n    def test_ensure_views_are_positive(self):\n\n         \n                ensure_views_are_positive should results True for categories where views are zero or positive\n         \n                cat = Category(name='test',views=-1, likes=0)\n                cat.save()\n                self.assertEqual((cat.views  = 0), True)  \u5982\u679c\u4f60\u4ece\u6765\u6ca1\u6709\u5199\u8fc7\u6d4b\u8bd5,\u5fc5\u987b\u6ce8\u610f\u9996\u5148\u7ee7\u627f\u81ea TestCase .\u5728\u8fd9\u4e2a\u7c7b\u4e2d\u7684\u65b9\u6cd5\u540c\u6837\u9075\u5faa\u4e00\u4e2a\u4e60\u60ef\u5c31\u662f\u6240\u6709\u7684\u6d4b\u8bd5\u90fd\u662f\u4ee5 test_ \u5f00\u5934\u7684,\u5b83\u4eec\u540c\u65f6\u5305\u542b\u4e00\u4e9b assertion .\u8fd9\u91cc\u6211\u4eec\u7528 assertEqual \u65b9\u6cd5\u68c0\u67e5\u6570\u503c\u662f\u5426\u76f8\u7b49,\u4f46\u662f\u5176\u4ed6\u79cd\u7c7b\u7684\u65ad\u8a00\u4e5f\u53ef\u4ee5\u4f7f\u7528.\u53c2\u89c1Python\u5355\u5143\u6d4b\u8bd5\u6587\u6863, https://docs.python.org/2/library/unittest.html (\u4f8b\u5982, assertItemsEqual ,  assertListEqual ,  assertDictEqual \u7b49\u7b49).Django\u7684\u6d4b\u8bd5\u673a\u5236\u662f\u548cPython\u7684\u5206\u79bb\u7684,\u4f46\u662f\u4ecd\u7136\u63d0\u4f9b\u4e86\u4e00\u4e9b\u5176\u4ed6\u7684\u65ad\u8a00\u548c\u6d4b\u8bd5\u7528\u4f8b.  \u73b0\u5728\u8ba9\u6211\u4eec\u6765\u8fd0\u884c\u6d4b\u8bd5:  $ python manage.py test rango\n\n\nCreating test database for alias 'default'...\nF\n======================================================================\nFAIL: test_ensure_views_are_positive (rango.tests.CategoryMethodTests)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File  /Users/leif/Code/tango_with_django_project_17/rango/tests.py , line 12, in test_ensure_views_are_positive\n      self.assertEqual((cat.views =0), True)\n      AssertionError: False != True\n\n      ----------------------------------------------------------------------\n      Ran 1 test in 0.001s\n\n      FAILED (failures=1)  \u53ef\u4ee5\u770b\u5230\u6d4b\u8bd5\u5931\u8d25.\u8fd9\u662f\u56e0\u4e3a\u6a21\u578b\u6ca1\u6709\u68c0\u6d4b\u8fd9\u4e2a\u503c\u662f\u5426\u5c0f\u4e8e0.\u4e3a\u4e86\u786e\u4fdd\u5c0f\u4e8e0\u6211\u4eec\u9700\u8981\u4fee\u6539\u6a21\u578b.\u6211\u4eec\u9700\u8981\u4fee\u6539\u76ee\u5f55\u6a21\u578b\u4e2d save() \u65b9\u6cd5\u4e2d\u7684\u4ee3\u7801,\u5b83\u4f1a\u68c0\u67e5\u6d4f\u89c8\u6570\u5e76\u4e14\u4fee\u6b63\u5b83.  \u4fee\u6539\u5b8c\u6bd5\u4f60\u53ef\u4ee5\u8fd0\u884c\u8bd5\u8bd5\u770b\u662f\u5426\u901a\u8fc7,\u5982\u679c\u6ca1\u6709\u518d\u8bd5\u8bd5\u770b.  \u8ba9\u6211\u4eec\u6dfb\u52a0\u53e6\u4e00\u4e2a\u6d4b\u8bd5,\u786e\u4fdd\u5408\u9002\u7684slug\u884c\u88ab\u521b\u5efa.\u5728 rango/tests.py \u6dfb\u52a0\u5982\u4e0b\u4ee3\u7801  def test_slug_line_creation(self):\n              \n             slug_line_creation checks to make sure that when we add a category an appropriate slug line is created\n             i.e.  Random Category String  -   random-category-string \n              \n\n             cat = cat('Random Category String')\n             cat.save()\n             self.assertEqual(cat.slug, 'random-category-string')  \u4f60\u7684\u4ee3\u7801\u8fd8\u597d\u5417?", 
            "title": "20.2 \u6d4b\u8bd5\u6a21\u578b"
        }, 
        {
            "location": "/#203", 
            "text": "\u5230\u76ee\u524d\u4e3a\u6b62\u6211\u4eec\u5df2\u7ecf\u7f16\u5199\u4e86\u786e\u4fdd\u6a21\u578b\u6570\u636e\u5b8c\u6574\u7684\u6d4b\u8bd5.Django\u8fd8\u63d0\u4f9b\u4e86\u6d4b\u8bd5\u89c6\u56fe\u7684\u6d4b\u8bd5\u673a\u5236.\u5b83\u4f1a\u6a21\u4eff\u4e00\u4e2a\u5185\u90e8\u7684\u5ba2\u6237\u7aef\u5e76\u901a\u8fc7url\u8bf7\u6c42Django\u89c6\u56fe.\u5728\u8fd9\u4e2a\u6d4b\u8bd5\u4e2d\u4f60\u53ef\u4ee5\u5f97\u5230\u54cd\u5e94(\u5305\u62echtml)\u548c\u4e0a\u4e0b\u6587\u5b57\u5178.  \u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u6d4b\u8bd5\u5f53\u76ee\u5f55\u6a21\u578b\u4e3a\u7a7a\u65f6,\u9996\u9875\u4f1a\u4e0d\u4f1a\u51fa\u73b0 There are no categories present .  from django.core.urlresolvers import reverse\n\n\nclass IndexViewTests(TestCase):\n\n    def test_index_view_with_no_categories(self):\n         \n        If no questions exist, an appropriate message should be displayed.\n         \n        response = self.client.get(reverse('index'))\n        self.assertEqual(response.status_code, 200)\n        self.assertContains(response,  There are no categories present. )\n        self.assertQuerysetEqual(response.context['categories'], [])  \u9996\u5148,Django TestCase \u4f1a\u6d3b\u7684\u4e00\u4e2a client \u5bf9\u8c61,\u5b83\u53ef\u4ee5\u53d1\u9001\u8bf7\u6c42.\u8fd9\u91cc\u5b83\u4f7f\u7528 reverse \u51fd\u6570\u6765\u67e5\u627e index \u9875.\u7136\u540e\u5b83\u4f1a\u83b7\u53d6\u9875\u9762\u75c5\u4fdd\u5b58\u5728 response \u91cc.\u7136\u540e\u6d4b\u8bd5\u4f1a\u68c0\u67e5\u4e0b\u9762\u7684\u5185\u5bb9:\u9875\u9762\u52a0\u8f7d\u6210\u4e86\u5417?html\u91cc\u662f\u5426\u5305\u542b\"There are no categories present.\",\u4e0a\u4e0b\u6587\u5b57\u5178\u662f\u5426\u4e3a\u7a7a.\u91cd\u65b0\u8c03\u7528\u4f60\u7684\u6d4b\u8bd5\u5c1d\u8bd5\u4e00\u4e0b.  \u73b0\u5728\u8ba9\u6211\u4eec\u68c0\u67e5\u4e00\u4e0b\u76ee\u5f55\u9875\u9762\u5f97\u5230\u7684\u7ed3\u679c.  from rango.models import Category\n\ndef add_cat(name, views, likes):\n    c = Category.objects.get_or_create(name=name)[0]\n    c.views = views\n    c.likes = likes\n    c.save()\n    return c  \u7136\u540e\u589e\u52a0\u53e6\u4e00\u4e2a\u65b9\u6cd5 class IndexViewTests(TestCase) :  def test_index_view_with_categories(self):\n     \n    If no questions exist, an appropriate message should be displayed.\n     \n\n    add_cat('test',1,1)\n    add_cat('temp',1,1)\n    add_cat('tmp',1,1)\n    add_cat('tmp test temp',1,1)\n\n    response = self.client.get(reverse('index'))\n    self.assertEqual(response.status_code, 200)\n    self.assertContains(response,  tmp test temp )\n\n    num_cats =len(response.context['categories'])\n    self.assertEqual(num_cats , 4)  \u5728\u8fd9\u4e2a\u6d4b\u8bd5\u91cc,\u6211\u4eec\u5728\u6570\u636e\u5e93\u91cc\u589e\u52a0\u4e864\u4e2a\u76ee\u5f55,\u5e76\u4e14\u68c0\u67e5\u9875\u9762\u662f\u5426\u52a0\u8f7d,\u6587\u672c\u5185\u5bb9\u662f\u5426\u5305\u542b tmp test temp ,\u76ee\u5f55\u6570\u91cf\u662f\u5426\u7b49\u4e8e4.", 
            "title": "20.3 \u6d4b\u8bd5\u89c6\u56fe"
        }, 
        {
            "location": "/#204", 
            "text": "TODO", 
            "title": "20.4 \u6d4b\u8bd5\u8fd4\u56de\u9875\u9762"
        }, 
        {
            "location": "/#205", 
            "text": "\u4ee3\u7801\u8986\u76d6\u6d4b\u8bd5\u5c06\u4f1a\u68c0\u67e5\u4f60\u7684\u4ee3\u7801\u6709\u591a\u5c11\u88ab\u6d4b\u8bd5\u5230\u4e86,\u5e76\u4e14\u5f97\u5230\u4f60\u7684\u4ee3\u7801\u6709\u591a\u5c11\u901a\u8fc7\u4e86\u6d4b\u8bd5.\u4f60\u53ef\u4ee5\u901a\u8fc7 pip install coverage \u4e0b\u8f7d coverage \u5305,\u5b83\u53ef\u4ee5\u81ea\u52a8\u5206\u6790\u4ee3\u7801\u8986\u76d6\u4e86\u591a\u5c11.\u88c5\u5b8c coverage \u8fd0\u884c\u5982\u4e0b\u547d\u4ee4:  $ coverage run --source='.' manage.py test rango  \u5b83\u5c06\u4f1a\u8fd0\u884crango\u5e94\u7528\u6240\u6709\u7684\u6d4b\u8bd5\u5e76\u6536\u96c6\u8986\u76d6\u6570\u636e.\u67e5\u770b\u62a5\u544a\u4f60\u9700\u8981\u8f93\u5165:  $ coverage report\n\nName                                       Stmts   Miss  Cover\n--------------------------------------------------------------\nmanage                                         6      0   100%\npopulate                                      33     33     0%\nrango/__init__                                 0      0   100%\nrango/admin                                    7      0   100%\nrango/forms                                   35     35     0%\nrango/migrations/0001_initial                  5      0   100%\nrango/migrations/0002_auto_20141015_1024       5      0   100%\nrango/migrations/0003_category_slug            5      0   100%\nrango/migrations/0004_auto_20141015_1046       5      0   100%\nrango/migrations/0005_userprofile              6      0   100%\nrango/migrations/__init__                      0      0   100%\nrango/models                                  28      3    89%\nrango/tests                                   12      0   100%\nrango/urls                                    12     12     0%\nrango/views                                  110    110     0%\ntango_with_django_project/__init__          0      0   100%\ntango_with_django_project/settings         28      0   100%\ntango_with_django_project/urls              9      9     0%\ntango_with_django_project/wsgi              4      4     0%\n--------------------------------------------------------------\nTOTAL                                        310    206    34%  \u901a\u8fc7\u62a5\u544a\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u4e00\u4e9b\u4f8b\u5982 rango/views \u5173\u952e\u90e8\u5206\u7684\u4ee3\u7801\u8fd8\u6ca1\u6709\u6d4b\u8bd5\u5230.\u67e5\u770b coveragoe \u66f4\u8be6\u5c3d\u7684\u4f7f\u7528\u8bbf\u95ee: http://nedbatchelder.com/code/coverage/", 
            "title": "20.5 \u8986\u76d6\u6d4b\u8bd5"
        }, 
        {
            "location": "/#206", 
            "text": "\u6211\u4eec\u60f3\u8981\u5728 Page \u9875\u9762\u6dfb\u52a0\u4e24\u4e2a\u5b57\u6bb5, last_visit \u548c first_visit ,\u5b57\u6bb5\u7c7b\u578b\u4e3a timedate .  \u4fee\u6539\u6a21\u578b\u52a0\u5165\u8fd9\u4e24\u4e2a\u5b57\u6bb5  \u4fee\u6539add page\u529f\u80fd\u548cgoto\u529f\u80fd  \u589e\u52a0\u6d4b\u8bd5\u786e\u4fdd\u6700\u540e\u8bbf\u95ee\u7684\u7b2c\u4e00\u6b21\u8bbf\u95ee\u4e0d\u5728\u672a\u6765\u7684\u65f6\u95f4\u91cc  \u589e\u52a0\u6d4b\u8bd5\u786e\u4fdd\u4e0a\u6b21\u8bbf\u95ee\u7b49\u4e8e\u6216\u5927\u4e8e\u7b2c\u4e00\u6b21\u8bbf\u95ee.  \u67e5\u770b Part Five of the official Django Tutorial \u6765\u5b8c\u6210\u8fd9\u4e9b\u6d4b\u8bd5.    \u67e5\u770b tutorial on test driven development by Harry Percival", 
            "title": "20.6 \u7ec3\u4e60"
        }, 
        {
            "location": "/#21_1", 
            "text": "\u5728\u8fd9\u7ae0\u6211\u4eec\u5c06\u4e00\u6b65\u6b65\u77e5\u9053\u4f60\u5982\u4f55\u90e8\u7f72\u4f60\u7684Django\u5e94\u7528.\u6211\u4eec\u5c06\u4f1a\u628a\u5e94\u7528\u90e8\u7f72\u5728 PythonAnywhere ,\u5b83\u63d0\u4f9b\u4e00\u4e2a\u5728\u7ebf\u7684IDE\u548c\u7f51\u9875\u4e3b\u673a\u670d\u52a1.\u8fd9\u4e2a\u670d\u52a1\u63d0\u4f9b\u4e86\u7f51\u9875\u8bbf\u95ee\u548cBash\u547d\u4ee4\u884c\u4ea4\u4e92,\u610f\u5473\u7740\u4f60\u53ef\u4ee5\u50cf\u8bbf\u95ee\u4f7f\u7528\u81ea\u5df1\u7684\u7ec8\u7aef\u4e00\u6837\u6765\u4f7f\u7528PythonAnywhere\u7684\u670d\u52a1\u5668.\u73b0\u5728PythonAnywhere\u63d0\u4f9b\u4e86\u514d\u8d39\u7684\u5e10\u53f7,\u5b83\u63d0\u4f9b\u7684\u5185\u5b58\u548cCPU\u8db3\u591f\u6211\u4eec\u642d\u5efa\u4e00\u4e2aDjango\u5e94\u7528\u4e86.", 
            "title": "21 \u90e8\u7f72\u9879\u76ee"
        }
    ]
}